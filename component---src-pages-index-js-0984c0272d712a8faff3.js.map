{"version":3,"sources":["webpack:///./node_modules/@uifabric/utilities/lib/Async.js","webpack:///./node_modules/@uifabric/utilities/lib/object.js","webpack:///./node_modules/@uifabric/utilities/lib/EventGroup.js","webpack:///./node_modules/@uifabric/utilities/lib/BaseComponent.js","webpack:///./node_modules/@uifabric/utilities/lib/hoistStatics.js","webpack:///./node_modules/@uifabric/utilities/lib/customizations/customizable.js","webpack:///./node_modules/@uifabric/utilities/lib/css.js","webpack:///./node_modules/@fluentui/dom-utilities/lib/getParent.js","webpack:///./node_modules/@fluentui/dom-utilities/lib/getVirtualParent.js","webpack:///./node_modules/@fluentui/dom-utilities/lib/isVirtualElement.js","webpack:///./node_modules/@fluentui/dom-utilities/lib/findElementRecursive.js","webpack:///./node_modules/@fluentui/dom-utilities/lib/portalContainsElement.js","webpack:///./node_modules/@fluentui/dom-utilities/lib/setPortalAttribute.js","webpack:///./node_modules/@uifabric/utilities/lib/appendFunction.js","webpack:///./node_modules/@uifabric/utilities/lib/initializeComponentRef.js","webpack:///./node_modules/@uifabric/utilities/lib/extendComponent.js","webpack:///./node_modules/@uifabric/utilities/lib/getId.js","webpack:///./node_modules/@uifabric/utilities/lib/keyboard.js","webpack:///./node_modules/@uifabric/utilities/lib/useFocusRects.js","webpack:///./node_modules/@uifabric/utilities/lib/aria.js","webpack:///./node_modules/@uifabric/utilities/lib/array.js","webpack:///./node_modules/@uifabric/utilities/lib/createMergedRef.js","webpack:///./node_modules/@uifabric/utilities/lib/customizations/useCustomizationSettings.js","webpack:///./node_modules/@uifabric/utilities/lib/styled.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Icon/Icon.types.js","webpack:///./node_modules/@uifabric/utilities/lib/classNamesFunction.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Image/Image.types.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Image/Image.base.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Image/Image.styles.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Image/Image.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Icon/Icon.styles.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Icon/FontIcon.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Icon/Icon.base.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Icon/Icon.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Icon/ImageIcon.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/ContextualMenu/ContextualMenu.types.js","webpack:///./node_modules/office-ui-fabric-react/lib/common/DirectionalHint.js","webpack:///./node_modules/@fluentui/react-focus/lib/components/FocusZone/FocusZone.types.js","webpack:///./node_modules/@fluentui/dom-utilities/lib/elementContains.js","webpack:///./node_modules/@uifabric/utilities/lib/focus.js","webpack:///./node_modules/@fluentui/dom-utilities/lib/elementContainsAttribute.js","webpack:///./node_modules/@uifabric/utilities/lib/scroll.js","webpack:///./node_modules/@uifabric/utilities/lib/dom/raiseClick.js","webpack:///./node_modules/@fluentui/react-focus/lib/components/FocusZone/FocusZone.js","webpack:///./node_modules/@uifabric/utilities/lib/osDetector.js","webpack:///./node_modules/@uifabric/utilities/lib/mobileDetector.js","webpack:///./node_modules/office-ui-fabric-react/lib/utilities/contextualMenu/contextualMenuUtility.js","webpack:///./node_modules/@uifabric/utilities/lib/hoist.js","webpack:///./node_modules/office-ui-fabric-react/lib/utilities/decorators/BaseDecorator.js","webpack:///./node_modules/office-ui-fabric-react/lib/utilities/decorators/withResponsiveMode.js","webpack:///./node_modules/@fluentui/react-window-provider/lib/WindowProvider.js","webpack:///./node_modules/office-ui-fabric-react/lib/utilities/positioning/positioning.types.js","webpack:///./node_modules/@uifabric/utilities/lib/dom/on.js","webpack:///./node_modules/@uifabric/utilities/lib/Rectangle.js","webpack:///./node_modules/office-ui-fabric-react/lib/utilities/positioning/positioning.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Popup/Popup.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Callout/CalloutContent.base.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Callout/CalloutContent.styles.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Callout/CalloutContent.js","webpack:///./node_modules/@uifabric/utilities/lib/customizations/mergeSettings.js","webpack:///./node_modules/@uifabric/utilities/lib/customizations/Customizer.js","webpack:///./node_modules/@uifabric/utilities/lib/customizations/mergeCustomizations.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Fabric/Fabric.base.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Fabric/Fabric.styles.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Fabric/Fabric.js","webpack:///./node_modules/@fluentui/dom-utilities/lib/setVirtualParent.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Layer/Layer.notification.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Layer/Layer.base.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Layer/Layer.styles.js","webpack:///./node_modules/office-ui-fabric-react/lib/utilities/keytips/KeytipConstants.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Layer/Layer.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Callout/Callout.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/ContextualMenu/ContextualMenuItem.base.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Divider/VerticalDivider.classNames.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/ContextualMenu/ContextualMenu.cnstyles.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/ContextualMenu/ContextualMenu.classNames.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/ContextualMenu/ContextualMenuItem.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/ContextualMenu/ContextualMenuItemWrapper/ContextualMenuItemWrapper.js","webpack:///./node_modules/office-ui-fabric-react/lib/utilities/keytips/KeytipManager.js","webpack:///./node_modules/office-ui-fabric-react/lib/utilities/keytips/KeytipUtils.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/KeytipData/useKeytipData.js","webpack:///./node_modules/@uifabric/react-hooks/lib/useConst.js","webpack:///./node_modules/@uifabric/react-hooks/lib/usePrevious.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/KeytipData/KeytipData.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/ContextualMenu/ContextualMenuItemWrapper/ContextualMenuAnchor.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/ContextualMenu/ContextualMenuItemWrapper/ContextualMenuButton.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Divider/VerticalDivider.base.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Divider/VerticalDivider.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Divider/VerticalDivider.styles.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/ContextualMenu/ContextualMenuItemWrapper/ContextualMenuSplitButton.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/ContextualMenu/ContextualMenu.base.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/ContextualMenu/ContextualMenu.styles.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/ContextualMenu/ContextualMenu.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Button/BaseButton.classNames.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Button/SplitButton/SplitButton.classNames.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Button/BaseButton.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Button/BaseButton.styles.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Button/SplitButton/SplitButton.styles.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Button/DefaultButton/DefaultButton.styles.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Button/ButtonThemes.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Button/DefaultButton/DefaultButton.js","webpack:///./node_modules/office-ui-fabric-react/lib/components/Button/PrimaryButton/PrimaryButton.js","webpack:///./src/pages/index.js"],"names":["Async","parent","onError","this","_timeoutIds","_immediateIds","_intervalIds","_animationFrameIds","_isDisposed","_parent","_onErrorHandler","_noop","prototype","dispose","id","hasOwnProperty","clearTimeout","parseInt","clearImmediate","clearInterval","cancelAnimationFrame","setTimeout","callback","duration","_this","timeoutId","apply","e","setImmediate","targetElement","immediateId","win","getWindow","_logError","setInterval","intervalId","throttle","func","wait","options","lastResult","lastArgs","waitMS","leading","trailing","lastExecuteTime","userCall","now","Date","delta","waitLength","args","_i","arguments","length","debounce","noOpFunction","cancel","flush","pending","maxWait","lastCallTime","isNaN","markExecuted","time","invokeFunction","executeImmediately","maxWaitDelta","maxWaitExpired","Math","min","resultFunction","requestAnimationFrame","animationFrameId","animationFrameCallback","shallowCompare","a","b","propName","target","filteredAssign","concat","isAllowed","_a","args_1","sourceObject","EventGroup","_id","_uniqueId","_eventRecords","raise","eventName","eventArgs","bubbleEvent","retVal","_isElement","document","createEvent","ev","initEvent","dispatchEvent","createEventObject","evObj","fireEvent","events","__events__","eventRecords","eventRecordList","listIndex","record","objectCallback","call","isObserved","isDeclared","declaredEvents","__declaredEvents","stopPropagation","event","cancelBubble","addEventListener","HTMLElement","off","onAll","useCapture","on","indexOf","split","i","parent_1","eventRecord","count","push","processElementEvent","result","preventDefault","elementCallback","attachEvent","targetArrayLookup","targetArray","splice","removeEventListener","detachEvent","declare","_super","BaseComponent","props","context","obj","methodNames","len","_makeSafe","_makeAllSafe","componentDidUpdate","prevProps","prevState","_updateComponentRef","componentDidMount","_setComponentRef","componentRef","componentWillUnmount","__disposables","_disposables","disposable","Object","defineProperty","get","__className","results","exec","constructor","toString","enumerable","configurable","__async","__events","_resolveRef","refName","__resolves","ref","currentProps","newProps","_warnDeprecations","deprecationMap","className","_warnMutuallyExclusive","mutuallyExclusiveMap","_warnConditionallyRequiredProps","requiredProps","conditionalPropName","condition","value","_skipComponentRefResolution","current","methodName","classMethod","prototypeMethod","nullRender","hoistStatics","source","dest","name_1","scope","fields","concatStyles","ComposedComponent","resultClass","ComponentWithInjectedProps","_styleCache","_onSettingChanged","bind","Customizations","observe","unobserve","render","CustomizerContext","Consumer","defaultProps","getSettings","customizations","componentProps","styles","default","component","mergedStyles","concatStyleSets","merged","forceUpdate","displayName","css","classes","arg","key","join","getParent","child","allowVirtualParents","element","_virtual","getVirtualParent","parentNode","findElementRecursive","matchFunction","body","portalContainsElement","elementMatch","testElement","hasAttribute","appendFunction","functions","forEach","f","initializeComponentRef","methods","extendComponent","_onMount","_onUpdate","_onUnmount","_global","undefined","_initializedStylesheetResets","getId","prefix","stylesheet","Stylesheet","getInstance","onReset","resetIds","counter","DirectionalKeyCodes","KeyCodes","up","down","left","right","home","end","tab","pageUp","pageDown","mountCounters","WeakMap","setMountCounters","newValue","currValue","set","FocusRects","rootRef","_b","FabricConfig","disableFocusRects","_onMouseDown","_onPointerDown","_onKeyDown","setFocusVisibility","pointerType","which","mergeAriaAttributeValues","ariaAttributes","mergedAttribute","filter","trim","arraysEqual","array1","array2","createResolver","local","refs","newRefs","resolver","useCustomizationSettings","properties","scopeName","setValue","inCustomizerContext","IconType","DefaultFields","styled","Component","baseStyles","getProps","customizable","pure","Wrapped","forwardedRef","settings","customizedStyles","rest","dir","additionalProps","cache","__cachedInputs__","concatenatedStyles","styleProps","concatStyleSetsWithProps","__noStyleOverride__","name","pureComponent","_memoizedClassNames","ImageFit","ImageCoverStyle","ImageLoadState","classNamesFunction","map","Map","styleCalcCount","getClassNamesCount","currentMemoizedClassNames","styleFunctionOrObject","useStaticStyles","theme","rtl","disableCaching","_traverseMap","specificityMultiplier","cacheSize","enableClassNameCacheFullWarning","console","warn","trace","clear","_traverseEdge","_normalizeValue","has","inputs","ImageBase","_coverStyle","portrait","_imageElement","_frameElement","_onImageLoaded","src","onLoad","_computeCoverStyle","setState","loadState","loaded","_onImageError","error","state","notLoaded","UNSAFE_componentWillReceiveProps","nextProps","_checkImageLoaded","onLoadingStateChange","imageProps","alt","width","height","shouldFadeIn","shouldStartVisible","imageFit","role","maximizeFrame","coverStyle","classNames","isLoaded","isLandscape","landscape","isCenter","center","isCenterContain","centerContain","isCenterCover","centerCover","isContain","contain","isCover","cover","isNone","none","isError","isNotImageFit","root","style","image","naturalWidth","naturalHeight","complete","_svgRegex","test","desiredRatio","clientWidth","clientHeight","naturalRatio","GlobalClassNames","rootMaximizeFrame","imageCenter","imageContain","imageCover","imageCenterContain","imageCenterCover","imageNone","imageLandscape","imagePortrait","Image","ImageFitStyles","position","top","transform","window","supportsObjectFit","navigator","msMaxTouchPoints","fallbackObjectFitStyles","fonts","medium","overflow","fadeIn400","display","opacity","objectFit","maxWidth","maxHeight","placeholder","getIconContent","memoize","iconName","subset","code","children","iconClassName","fontFamily","fontFace","iconContent","nativeProps","containerProps","ariaLabel","Icon","IconBase","_onImageLoadingStateChange","imageLoadError","imageErrorAs","isPlaceholder","isImage","iconType","iconContentChildren","RootType","ImageType","imageContainer","ContextualMenuItemType","DirectionalHint","FocusZoneDirection","FocusZoneTabbableElements","elementContains","isContained","nextParent","contains","focusFirstChild","rootElement","getNextElement","targetToFocusOnNextRepaint","focusableElement","getAttribute","setAttribute","focus","focusAsync","getPreviousElement","currentElement","checkNode","suppressParentTraversal","traverseChildren","includeElementsInFocusZones","allowFocusRoot","tabbable","isCurrentElementVisible","isElementVisible","isElementFocusZone","isElementFocusSubZone","childMatch","lastElementChild","isElementTabbable","childMatchSiblingMatch","previousElementSibling","childMatchParent","parentElement","childMatchParentMatch","siblingMatch","suppressChildTraversal","firstElementChild","nextElementSibling","visibilityAttribute","offsetHeight","offsetParent","isVisible","checkTabIndex","disabled","tabIndex","tabIndexAttributeValue","isFocusableAttribute","isTabIndexSet","tagName","shouldWrapFocus","noWrapDataAttribute","attribute","elementContainsAttribute","_scrollbarWidth","raiseClick","Event","createNewEvent","mergeStyles","getScrollbarWidth","scrollDiv","createElement","setProperty","appendChild","offsetWidth","removeChild","findScrollableParent","startingElement","el","doc","getDocument","computedStyles","getComputedStyle","overflowY","getPropertyValue","focusZoneStyles","isMacResult","_allInstances","_outerZones","Set","ALLOWED_INPUT_TYPES","FocusZone","_root","_mergedRef","_onFocus","_portalContainsElement","newActiveElement","onActiveElementChanged","doNotAllowFocusEventToPropagate","stopFocusPropagation","onFocusNotification","onFocus","shouldFocusInnerElementWhenReceivedFocus","defaultTabbableElement","isImmediateDescendant","_isImmediateDescendantOfZone","maybeElementToFocus","_activeElement","initialElementFocused","_setFocusAlignment","_updateTabIndexes","_onBlur","_setParkedFocus","path","pop","_setActiveElement","direction","isInnerZoneKeystroke","pagingSupportDisabled","shouldEnterInnerZone","onKeyDown","isDefaultPrevented","_getDocument","activeElement","_isInnerZone","innerZone","_getFirstInnerZone","focusElement","firstChild","altKey","space","_tryInvokeClickForFocusable","vertical","_preventDefaultWhenHandled","_moveFocusLeft","_moveFocusRight","horizontal","_moveFocusUp","_moveFocusDown","_moveFocusPaging","allowTabKey","handleTabKey","_isElementInput","focusChanged","_processingTabKey","_shouldWrapFocus","shiftKey","shouldResetActiveElementWhenTabFromZone","_isContentEditableElement","_shouldInputLoseFocus","lastChild","enter","_getHorizontalDistanceFromCenter","isForward","activeRect","targetRect","leftAlignment","_focusAlignment","x","targetRectTop","floor","activeRectBottom","bottom","targetRectBottom","activeRectTop","abs","getOuterZones","size","_onKeyDownCapture","zone","_windowElement","nodeType","add","querySelector","defaultActiveElement","shouldFocusOnMount","_lastIndexPath","preventFocusRestoration","elementToFocus","path_1","index","nextChild","getFocusableByIndexPath","delete","_defaultFocusElement","tag","as","elementType","rootProps","ariaDescribedBy","ariaLabelledBy","divProps","Tag","_evaluateFocusBeforeRender","selectors","outline","elementRef","onMouseDownCapture","forceIntoFirstElement","ownerZoneElement","_getOwnerZone","ownerZone","focusLast","forceAlignment","onBeforeFocus","shouldReceiveFocus","setFocusAlignment","point","focusedElement","shouldRestoreFocus","fromElement","toElement","unshift","Array","getElementIndexPath","isParked","_isParked","_parkedTabIndex","removeAttribute","previousActiveElement","preventDefaultWhenHandled","shouldRaiseClicks","match","_moveFocus","getDistanceFromCenter","useDefaultWrap","candidateDistance","candidateElement","changedFocus","isBidirectional","bidirectional","getBoundingClientRect","elementDistance","isCircularNavigation","targetTop","distance","shouldWrap","parseFloat","toFixed","scrollableParent","targetBottom","pagesize","isHorizontal","isVertical","rect","top_1","childNodes","childIndex","toLowerCase","type","selectionStart","isRangeSelected","selectionEnd","inputValue","isReadonly","readOnly","shouldInputLoseFocusOnArrowKey","checkForNoWrap","isMac","reset","userAgent","isIOS","getIsChecked","item","canCheck","isChecked","checked","hasSubmenu","subMenuProps","items","isItemDisabled","isDisabled","getMenuItemAriaRole","REACT_LIFECYCLE_EXCLUSIONS","ResponsiveMode","BaseDecorator","_updateComposedComponentRef","composedComponentInstance","_composedComponentInstance","_hoisted","destination","exclusions","hoisted","_loop_1","hoistMethods","WindowContext","_defaultMode","_lastMode","RectangleEdge","Position","RESPONSIVE_MAX_CONSTRAINT","getInitialResponsiveMode","large","withResponsiveMode","WithResponsiveMode","_onResize","responsiveMode","getResponsiveMode","_events","unknown","contextType","currentWindow","small","innerWidth","Error","Rectangle","equals","_createPositionData","targetEdge","alignmentEdge","isAuto","DirectionalDictionary","_isRectangleWithinBounds","boundingRect","_getOutOfBoundsEdges","outOfBounds","_getEdgeValue","edge","_setEdgeValue","_getCenterValue","edges","_getFlankingEdges","positiveEdge","negativeEdge","_getRelativeEdgeValue","_getRelativeRectEdgeValue","_getRelativeEdgeDifference","hostRect","_moveEdge","difference","_alignEdges","gap","_isEdgeInBounds","bounds","_adjustFitWithinBounds","bounding","positionData","directionalHintFixed","coverTarget","alignTargetEdge","elementEstimate","elementRectangle","directions","currentEstimate","currentEdge","currentAlignment","slice","_estimatePosition","_flipToFit","flippedElementEstimate","oppositeEdge","_flipAlignmentEdge","_alignOutOfBoundsEdges","outOfBoundsEdges","outOfBoundsEdges_1","_centerEdgeToPoint","elementToPosition","estimatedElementPosition","elementEdge","adjustedGap","_alignOppositeEdges","_finalizeReturnEdge","returnEdge","_calculateActualBeakWidthInPixels","beakWidth","sqrt","_getPositionData","directionalHint","directionalHintForRTL","previousPositions","positionInformation","getClosestEdge","targetCenter","boundingCenter","_positionElementWithinBounds","_finalizeBeakPosition","elementPosition","positionedBeak","actualElement","returnValue","closestEdge","_positionBeak","targetRectangle","beakTargetPoint","elementBounds","beakPosition","_getRectangleFromElement","clientRect","_getRectangleFromIRect","_getMaxHeightFromTargetRectangle","gapSpace","_positionElementRelative","clientX","clientY","y","outOfBounds_1","_getTargetRect","_getAlignmentData","positionedElement","_finalizePositionData","hostElement","doNotFinalizeReturnEdge","elementEdgeString","_finalizeElementPosition","_positionCallout","callout","isBeakVisible","positionProps","innerHeight","finalizedBeakPosition","positionCard","_positionCard","Popup","escape","onDismiss","_containsFocus","relatedTarget","_async","needsVerticalScrollBar","UNSAFE_componentWillMount","_originalFocusedElement","currentActiveElement","doesElementContainFocus","_updateScrollBarAsync","onRestoreFocus","defaultFocusRestorer","originalElement","containsFocus","documentContainsFocus","hasFocus","_getScrollBar","rootHeight","firstChildHeight","ANIMATIONS","slideUpIn10","slideDownIn10","slideLeftIn10","slideRightIn10","BEAK_ORIGIN_POSITION","OFF_SCREEN_STYLE","pointerEvents","ARIA_ROLE_ATTRIBUTES","CalloutContentBase","_hostElement","_calloutElement","_hasListeners","dismiss","_dismissOnScroll","preventDismissOnEvent","preventDismissOnScroll","positions","_dismissOnClickOrScroll","_dismissOnResize","preventDismissOnResize","_dismissOnLostFocus","preventDismissOnLostFocus","_setInitialFocus","setInitialFocus","_didSetInitialFocus","_onComponentDidMount","_addListeners","onLayerMounted","_updateAsyncPosition","_setHeightOffsetEveryFrame","_dismissOnTargetWindowBlur","shouldDismissOnWindowFocus","_targetWindow","_mouseDownOnPopup","_isMouseDownOnPopup","_mouseUpOnPopup","slideDirectionalClassName","calloutElementRect","heightOffset","_positionAttempts","hidden","_removeListeners","shouldComponentUpdate","newState","shouldUpdateWhenHidden","_setTargetWindowAndElement","_getTarget","UNSAFE_componentWillUpdate","newTarget","String","_blockResetHeight","_maxHeight","finalHeight","_didPositionPropsChange","_bounds","calloutWidth","calloutMaxWidth","hideOverflow","backgroundColor","calloutMaxHeight","onScroll","_c","getContentMaxHeight","_getMaxHeight","contentMaxHeight","overflowYHidden","beakVisible","_classNames","overflowStyle","visibilityStyle","visibility","container","beak","_getBeakPosition","beakCurtain","calloutMain","onMouseDown","onMouseUp","isEventTargetOutsideCallout","_target","dismissOnTargetClick","documentElement","_updatePosition","beakPostionStyle","calloutElement","expectsTarget","_getBounds","newPositions","positionCallout","_arePositionsEqual","onPositioned","currentBounds","targetWindow","segments","getWindowSegments","segments_1","segment","_getBoundsFromTargetWindow","minPagePadding","totalGap_1","mouseTarget","elementTarget","pointTarget","boundingRectangle","getMaxHeight","newPosition","_comparePositions","oldPositions","oldPositionEdge","newPositionEdge","currentDoc","_setHeightOffsetTimer","calloutMainElem","scrollDiff","scrollHeight","oldProps","getBeakStyle","CalloutContent","semanticColors","effects","boxSizing","borderRadius","roundedCorner2","boxShadow","elevation16","borderWidth","borderStyle","borderColor","menuBackground","border","overflowX","mergeSettings","oldSettings","newSettings","_isSettingsFunction","_settingsMergeWith","mergeScopedSettings","scopedSettingsFromProps","oldScopedSettings","newScopedSettings","_scopedSettingsMergeWith","Customizer","_onCustomizationChange","contextTransform","parentContext","newContext","scopedSettings","mergeCustomizations","Provider","getFabricTheme","isRTL","FabricBase","_rootElement","_removeClassNameFromBody","Root","_getClassNames","contextDir","pageDir","componentDir","rootDir","needsTheme","renderedContent","_addClassNameToBody","applyTheme","applyThemeToBody","classNames_1","currentDoc_1","classList","bodyThemed","remove","inheritFont","Fabric","color","palette","neutralPrimary","bodyText","bodyBackground","setVirtualParent","virtualChild","virtualParent","oldParent","_defaultHostSelector","_layersByHostId","_filteredEventProps","LayerBase","_rootRef","_createLayerElement","hostId","host","_getHost","_removeLayerElement","layerElement","insertFirst","insertBefore","onLayerDidMount","registerLayer","eventBubblingEnabled","_onFilterEvent","_getFilteredEvents","content","idx","unregisterLayer","onLayerWillUnmount","isNotHost","getElementById","defaultHostSelector","eventPhase","BUBBLING_PHASE","KeytipEvents","rootNoHost","Layer","zIndex","Callout","layerProps","doNotLayer","hasIcons","iconProps","onRenderIcon","icon","onCheckmarkClick","isItemChecked","checkmarkIcon","onClick","text","label","secondaryText","submenuIconProps","subMenuIcon","ContextualMenuItemBase","openSubMenu","getSubmenuTarget","submenuTarget","dismissSubMenu","dismissMenu","dismissAll","renderContent","onRenderContent","_renderLayout","linkContentMenu","linkContent","renderCheckMarkIcon","renderItemIcon","renderItemName","renderSecondaryText","renderSubMenuIcon","defaultRenders","wrapper","alignItems","divider","neutralTertiaryAlt","MediumScreenSelector","getItemHighContrastStyles","getMenuItemStyles","_d","_e","_f","_g","ContextualMenuItemBackgroundHoverColor","menuItemBackgroundHovered","ContextualMenuItemTextHoverColor","menuItemTextHovered","ContextualMenuItemBackgroundSelectedColor","menuItemBackgroundPressed","ContextualMenuItemDividerColor","bodyDivider","menuItemStyles","lineHeight","cursor","padding","textAlign","rootDisabled","disabledBodyText","rootHovered","themeDarkAlt","rootFocused","white","rootChecked","rootPressed","themeDark","rootExpanded","bodyTextChecked","whiteSpace","anchorLink","textRendering","letterSpacing","wordSpacing","textTransform","textIndent","textShadow","textDecoration","margin","verticalAlign","flexGrow","textOverflow","neutralSecondary","paddingLeft","minHeight","fontSize","flexShrink","iconColor","menuIcon","iconDisabled","bodySubtext","splitButtonFlexContainer","flexWrap","justifyContent","getSplitButtonVerticalDividerClassNames","isExpanded","splitMenu","screenReaderText","expanded","isAnchorLink","knownIcon","itemClassName","dividerClassName","subMenuClassName","primaryDisabled","background","splitPrimary","flexBasis","minWidth","splitContainer","getItemStyles","ContextualMenuItem","ContextualMenuItemWrapper","_onItemMouseEnter","onItemMouseEnter","currentTarget","_onItemClick","onItemClickBase","_onItemMouseLeave","onItemMouseLeave","_onItemKeyDown","onItemKeyDown","_onItemMouseMove","onItemMouseMove","_getSubMenuId","getSubMenuId","_getSubmenuTarget","KEYTIP_ADDED","KEYTIP_REMOVED","KEYTIP_UPDATED","PERSISTED_KEYTIP_ADDED","PERSISTED_KEYTIP_REMOVED","PERSISTED_KEYTIP_EXECUTE","ENTER_KEYTIP_MODE","EXIT_KEYTIP_MODE","KeytipManager","keytips","persistedKeytips","sequenceMapping","inKeytipMode","shouldEnterKeytipMode","delayUpdatingKeytipChange","_instance","init","register","keytipProps","persisted","addParentOverflow","keySequences","uniqueKeytip","_getUniqueKtp","uniqueID","event_1","keytip","update","newKeytipProps","oldKeyTip","visible","unregister","keytipToRemove","enterKeytipMode","exitKeytipMode","getKeytips","keys","fullSequence","parentKeytip","overflowSetSequence","menuExecute","overflowButtonSequences","keytipSequences","sequencesToID","reduce","prevValue","keySequence","useKeytipData","initialValue","uniqueId","keytipManager","prevOptions","usePrevious","nativeKeytipProps","keytipId","describedByPrepend","describedby","getAriaDescribedBy","overflowKeySequences","itemToAdd","copy","overflowSequenceLen","overflowSequence","newKeySequences","mergeOverflows","getKeytipData","ContextualMenuAnchor","_anchor","_getMemoizedMenuButtonKeytipProps","hasMenu","onItemClick","_renderAriaDescription","ariaDescription","_ariaDescriptionId","focusableElementIndex","totalItemCount","hasCheckmarks","contextualMenuItemAs","ChildrenRenderer","expandedMenuItemKey","anchorRel","rel","subMenuId","itemHasSubmenu","itemProps","keytipAttributes","href","onMouseEnter","onMouseLeave","onMouseMove","ContextualMenuButton","_btn","onItemMouseDown","defaultRole","buttonNativeProperties","itemRole","ariaDescribedByIds","itemButtonProperties","title","deprecatedGetClassNames","getClassNames","VerticalDivider","names","ContextualMenuSplitButton","_executeItemClick","_splitButton","_onItemMouseEnterPrimary","_onItemMouseEnterIcon","_onItemMouseMovePrimary","_onItemMouseMoveIcon","_onIconItemClick","executeItemClick","_processingTouch","_onTouchStart","_handleTouchAndPointerEvent","stopImmediatePropagation","splitButton","onTouchStart","_renderSplitPrimaryButton","_renderSplitDivider","_renderSplitIconButton","data","itemComponentProps","getDividerClassNames","buttonProps","onTap","_lastTouchTimeoutId","getContextualMenuItemClassNames","getSubmenuItems","_getMenuItemStylesFunction","ContextualMenuBase","_mounted","_tryFocusPreviousActiveElement","_previousActiveElement","_onRenderMenuList","menuListProps","defaultRender","indexCorrection","list","onKeyUp","_onKeyUp","menuItem","_renderMenuItem","itemType","Divider","Header","indexIncrease","customOnRenderListLength","itemClassNames","renderedItems","getItemClassNames","subMenuIconClassName","itemStyleProps","subComponentStyles","_renderSeparator","headerItem","_renderHeaderMenuItem","_renderListItem","Section","_renderSectionItem","_renderNormalItem","_defaultMenuItemRenderer","_lastKeyDownWasAltOrMeta","_isAltOrMeta","dismissAllMenus","_keyHandler","_shouldHandleKeyDown","_shouldCloseSubMenu","metaKey","_onMenuFocusCapture","delayUpdateFocusOnHover","_shouldUpdateFocusOnMouseEvent","_shouldHandleKeyUp","keyPressIsAltOrMetaAlone","shouldHandleKey","handled","_focusingPreviousElement","submenuCloseKey","isSubMenu","_adjustedFocusZoneProps","_onMenuKeyDown","_host","hasModifier","isUp","isDown","getFirstFocusable","_onScroll","_isScrollIdle","_scrollIdleTimeoutId","_onItemMouseEnterBase","_shouldIgnoreMouseEvent","_updateFocusOnMouseEvent","_onItemMouseMoveBase","_gotMouseMove","_enterTimerId","_onMouseItemLeave","setActive","_onItemMouseDown","_onItemClickBase","_cancelSubMenuTimer","expandedByMouseClick","nativeEvent","detail","_onItemSubMenuExpand","_onAnchorClick","defaultPrevented","openKey","_onSubMenuDismiss","dismissedMenuItemKey","_onPointerAndTouchEvent","contextualMenuItems","_isHidden","_onMenuClosed","_onMenuOpened","onMenuDismissed","labelElementId","useTargetWidth","useTargetAsMinWidth","shouldFocusOnContainer","calloutProps","onRenderSubMenu","_onRenderSubMenu","onRenderMenuList","focusZoneProps","getMenuClassNames","itemsHaveIcons","contextualMenuItems_1","sectionProps","_getFocusZoneDirection","contextMenuStyle","some","submenuItem","canAnyMenuItemsCheck","submenuProps","_getSubmenuProps","targetAsHtmlElement","targetWidth","items_1","calloutStyles","onFocusCapture","defaultMenuItemRenderer","onMenuOpened","sectionItem","menuClassNames","groupProps","headerContextualMenuItem","ariaLabellledby","replace","topDivider","contextualMenuItem","itemsIndex","bottomDivider","fromSection","onRender","_renderAnchorMenuItem","_renderSplitButton","_renderButtonItem","divHtmlProperties","header","subMenuHoverDelay","timeoutDuration","_findItemByKey","_findItemByKeyFromItems","items_2","isopen","LocalContextualMenu","listStyleType","fontWeight","semibold","menuHeader","userSelect","mediumPlus","paddingRight","paddingBottom","paddingTop","elevation8","ContextualMenu","ButtonGlobalClassNames","msButton","msButtonHasMenu","msButtonIcon","msButtonMenuIcon","msButtonLabel","msButtonDescription","msButtonScreenReaderText","msButtonFlexContainer","msButtonTextContainer","getBaseButtonClassNames","variantClassName","menuIconClassName","isSplit","iconExpandedHovered","menuIconExpandedHovered","rootExpandedHovered","rootHasMenu","labelHovered","iconHovered","descriptionHovered","menuIconHovered","iconPressed","descriptionPressed","menuIconPressed","rootCheckedDisabled","rootCheckedHovered","rootCheckedPressed","flexContainer","textContainer","iconExpanded","iconChecked","labelChecked","labelDisabled","menuIconChecked","menuIconDisabled","menuIconExpanded","description","descriptionChecked","descriptionDisabled","splitButtonMenuButton","splitButtonMenuButtonExpanded","splitButtonMenuButtonDisabled","splitButtonMenuButtonChecked","splitButtonContainer","splitButtonContainerChecked","splitButtonContainerCheckedHovered","splitButtonContainerHovered","splitButtonContainerFocused","splitButtonContainerDisabled","splitButtonMenuIcon","splitButtonMenuIconDisabled","splitButtonDivider","splitButtonDividerDisabled","BaseButton","_buttonElement","_splitButtonContainer","_renderedVisibleMenu","_onRenderIcon","_onRenderTextContents","onRenderText","_onRenderText","onRenderDescription","_onRenderDescription","_hasText","_labelId","_onRenderChildren","_descriptionId","_onRenderAriaDescription","_onRenderMenuIcon","menuIconProps","_onRenderMenu","menuProps","persistMenu","menuHidden","MenuType","menuAs","_menuShouldFocusOnContainer","_menuShouldFocusOnMount","_isSplitButton","_onDismissMenu","_dismissMenu","_openMenu","_onToggleMenu","_onSplitContainerFocusCapture","_onSplitButtonPrimaryClick","_onMenuClick","_onKeyPress","onKeyPress","_onMouseUp","_onClick","_onSplitButtonContainerKeyDown","click","_isValidMenuOpenKey","onMenuClick","ariaHidden","allowDisabledFocus","toggle","isPrimaryButtonDisabled","renderAsAnchor","resolvedAriaLabel","dataIsFocusable","isCheckboxTypeRole","checkedOrPressedValue","_onRenderSplitButtonContent","_onRenderContent","onPointerUp","onAfterMenuDismiss","openMenu","onRenderAriaDescription","onRenderChildren","onRenderMenu","onRenderMenuIcon","Button","_shouldRenderMenu","Content","renderPersistedMenuHiddenOnMount","getSplitButtonClassNames","primaryActionButtonProps","onPointerDown","SplitButton","_onRenderSplitButtonMenuButton","_onRenderSplitButtonDivider","splitButtonMenuProps","splitButtonAriaLabel","splitButtonProps","menuTriggerKeyCode","baseClassName","noOutline","iconStyle","buttonBorder","disabledBackground","disabledText","buttonHighContrastFocus","outlineColor","inset","highContrastStyle","customStyles","_h","_j","_k","_l","_m","_o","splitButtonDividerBaseStyles","splitButtonStyles","borderTopRightRadius","borderBottomRightRadius","borderRight","borderRightWidth","borderLeftWidth","buttonTextDisabled","neutralSecondaryAlt","borderLeft","marginLeft","marginTop","marginRight","marginBottom","primary","baseButtonStyles","defaultButtonStyles","p","s","primaryButtonBackground","primaryButtonText","primaryButtonBackgroundHovered","primaryButtonTextHovered","primaryButtonBackgroundPressed","primaryButtonTextPressed","primaryButtonTextDisabled","primaryButtonBackgroundDisabled","neutralTertiary","primaryStyles","buttonBackground","buttonBackgroundPressed","buttonBackgroundHovered","buttonBackgroundDisabled","buttonText","buttonTextHovered","buttonTextChecked","buttonTextCheckedHovered","neutralLight","neutralQuaternaryAlt","standardStyles","DefaultButton","PrimaryButton","pageStyles","headingStyles","headingAccentStyles","paragraphStyles","codeStyles","listStyles","listItemStyles","linkStyle","docLinkStyle","descriptionStyle","docLink","links","url","IndexPage","aria-label","link"],"mappings":"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","file":"component---src-pages-index-js-0984c0272d712a8faff3.js","sourcesContent":["import { getWindow } from './dom/getWindow';\n/**\n * Bugs often appear in async code when stuff gets disposed, but async operations don't get canceled.\n * This Async helper class solves these issues by tying async code to the lifetime of a disposable object.\n *\n * Usage: Anything class extending from BaseModel can access this helper via this.async. Otherwise create a\n * new instance of the class and remember to call dispose() during your code's dispose handler.\n *\n * @public\n */\n\nvar Async =\n/** @class */\nfunction () {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  function Async(parent, onError) {\n    this._timeoutIds = null;\n    this._immediateIds = null;\n    this._intervalIds = null;\n    this._animationFrameIds = null;\n    this._isDisposed = false;\n    this._parent = parent || null;\n    this._onErrorHandler = onError;\n\n    this._noop = function () {\n      /* do nothing */\n    };\n  }\n  /**\n   * Dispose function, clears all async operations.\n   */\n\n\n  Async.prototype.dispose = function () {\n    var id;\n    this._isDisposed = true;\n    this._parent = null; // Clear timeouts.\n\n    if (this._timeoutIds) {\n      for (id in this._timeoutIds) {\n        if (this._timeoutIds.hasOwnProperty(id)) {\n          this.clearTimeout(parseInt(id, 10));\n        }\n      }\n\n      this._timeoutIds = null;\n    } // Clear immediates.\n\n\n    if (this._immediateIds) {\n      for (id in this._immediateIds) {\n        if (this._immediateIds.hasOwnProperty(id)) {\n          this.clearImmediate(parseInt(id, 10));\n        }\n      }\n\n      this._immediateIds = null;\n    } // Clear intervals.\n\n\n    if (this._intervalIds) {\n      for (id in this._intervalIds) {\n        if (this._intervalIds.hasOwnProperty(id)) {\n          this.clearInterval(parseInt(id, 10));\n        }\n      }\n\n      this._intervalIds = null;\n    } // Clear animation frames.\n\n\n    if (this._animationFrameIds) {\n      for (id in this._animationFrameIds) {\n        if (this._animationFrameIds.hasOwnProperty(id)) {\n          this.cancelAnimationFrame(parseInt(id, 10));\n        }\n      }\n\n      this._animationFrameIds = null;\n    }\n  };\n  /**\n   * SetTimeout override, which will auto cancel the timeout during dispose.\n   * @param callback - Callback to execute.\n   * @param duration - Duration in milliseconds.\n   * @returns The setTimeout id.\n   */\n\n\n  Async.prototype.setTimeout = function (callback, duration) {\n    var _this = this;\n\n    var timeoutId = 0;\n\n    if (!this._isDisposed) {\n      if (!this._timeoutIds) {\n        this._timeoutIds = {};\n      }\n\n      timeoutId = setTimeout(function () {\n        // Time to execute the timeout, enqueue it as a foreground task to be executed.\n        try {\n          // Now delete the record and call the callback.\n          if (_this._timeoutIds) {\n            delete _this._timeoutIds[timeoutId];\n          }\n\n          callback.apply(_this._parent);\n        } catch (e) {\n          if (_this._onErrorHandler) {\n            _this._onErrorHandler(e);\n          }\n        }\n      }, duration);\n      this._timeoutIds[timeoutId] = true;\n    }\n\n    return timeoutId;\n  };\n  /**\n   * Clears the timeout.\n   * @param id - Id to cancel.\n   */\n\n\n  Async.prototype.clearTimeout = function (id) {\n    if (this._timeoutIds && this._timeoutIds[id]) {\n      clearTimeout(id);\n      delete this._timeoutIds[id];\n    }\n  };\n  /**\n   * SetImmediate override, which will auto cancel the immediate during dispose.\n   * @param callback - Callback to execute.\n   * @param targetElement - Optional target element to use for identifying the correct window.\n   * @returns The setTimeout id.\n   */\n\n\n  Async.prototype.setImmediate = function (callback, targetElement) {\n    var _this = this;\n\n    var immediateId = 0;\n    var win = getWindow(targetElement);\n\n    if (!this._isDisposed) {\n      if (!this._immediateIds) {\n        this._immediateIds = {};\n      }\n\n      var setImmediateCallback = function setImmediateCallback() {\n        // Time to execute the timeout, enqueue it as a foreground task to be executed.\n        try {\n          // Now delete the record and call the callback.\n          if (_this._immediateIds) {\n            delete _this._immediateIds[immediateId];\n          }\n\n          callback.apply(_this._parent);\n        } catch (e) {\n          _this._logError(e);\n        }\n      };\n\n      immediateId = win.setTimeout(setImmediateCallback, 0);\n      this._immediateIds[immediateId] = true;\n    }\n\n    return immediateId;\n  };\n  /**\n   * Clears the immediate.\n   * @param id - Id to cancel.\n   * @param targetElement - Optional target element to use for identifying the correct window.\n   */\n\n\n  Async.prototype.clearImmediate = function (id, targetElement) {\n    var win = getWindow(targetElement);\n\n    if (this._immediateIds && this._immediateIds[id]) {\n      win.clearTimeout(id);\n      delete this._immediateIds[id];\n    }\n  };\n  /**\n   * SetInterval override, which will auto cancel the timeout during dispose.\n   * @param callback - Callback to execute.\n   * @param duration - Duration in milliseconds.\n   * @returns The setTimeout id.\n   */\n\n\n  Async.prototype.setInterval = function (callback, duration) {\n    var _this = this;\n\n    var intervalId = 0;\n\n    if (!this._isDisposed) {\n      if (!this._intervalIds) {\n        this._intervalIds = {};\n      }\n\n      intervalId = setInterval(function () {\n        // Time to execute the interval callback, enqueue it as a foreground task to be executed.\n        try {\n          callback.apply(_this._parent);\n        } catch (e) {\n          _this._logError(e);\n        }\n      }, duration);\n      this._intervalIds[intervalId] = true;\n    }\n\n    return intervalId;\n  };\n  /**\n   * Clears the interval.\n   * @param id - Id to cancel.\n   */\n\n\n  Async.prototype.clearInterval = function (id) {\n    if (this._intervalIds && this._intervalIds[id]) {\n      clearInterval(id);\n      delete this._intervalIds[id];\n    }\n  };\n  /**\n   * Creates a function that, when executed, will only call the func function at most once per\n   * every wait milliseconds. Provide an options object to indicate that func should be invoked\n   * on the leading and/or trailing edge of the wait timeout. Subsequent calls to the throttled\n   * function will return the result of the last func call.\n   *\n   * Note: If leading and trailing options are true func will be called on the trailing edge of\n   * the timeout only if the throttled function is invoked more than once during the wait timeout.\n   *\n   * @param func - The function to throttle.\n   * @param wait - The number of milliseconds to throttle executions to. Defaults to 0.\n   * @param options - The options object.\n   * @returns The new throttled function.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  Async.prototype.throttle = function (func, wait, options) {\n    var _this = this;\n\n    if (this._isDisposed) {\n      return this._noop;\n    }\n\n    var waitMS = wait || 0;\n    var leading = true;\n    var trailing = true;\n    var lastExecuteTime = 0;\n    var lastResult; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    var lastArgs;\n    var timeoutId = null;\n\n    if (options && typeof options.leading === 'boolean') {\n      leading = options.leading;\n    }\n\n    if (options && typeof options.trailing === 'boolean') {\n      trailing = options.trailing;\n    }\n\n    var callback = function callback(userCall) {\n      var now = Date.now();\n      var delta = now - lastExecuteTime;\n      var waitLength = leading ? waitMS - delta : waitMS;\n\n      if (delta >= waitMS && (!userCall || leading)) {\n        lastExecuteTime = now;\n\n        if (timeoutId) {\n          _this.clearTimeout(timeoutId);\n\n          timeoutId = null;\n        }\n\n        lastResult = func.apply(_this._parent, lastArgs);\n      } else if (timeoutId === null && trailing) {\n        timeoutId = _this.setTimeout(callback, waitLength);\n      }\n\n      return lastResult;\n    }; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n    var resultFunction = function resultFunction() {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      lastArgs = args;\n      return callback(true);\n    };\n\n    return resultFunction;\n  };\n  /**\n   * Creates a function that will delay the execution of func until after wait milliseconds have\n   * elapsed since the last time it was invoked. Provide an options object to indicate that func\n   * should be invoked on the leading and/or trailing edge of the wait timeout. Subsequent calls\n   * to the debounced function will return the result of the last func call.\n   *\n   * Note: If leading and trailing options are true func will be called on the trailing edge of\n   * the timeout only if the debounced function is invoked more than once during the wait\n   * timeout.\n   *\n   * @param func - The function to debounce.\n   * @param wait - The number of milliseconds to delay.\n   * @param options - The options object.\n   * @returns The new debounced function.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  Async.prototype.debounce = function (func, wait, options) {\n    var _this = this;\n\n    if (this._isDisposed) {\n      var noOpFunction = function noOpFunction() {\n        /** Do nothing */\n      };\n\n      noOpFunction.cancel = function () {\n        return;\n      };\n\n      noOpFunction.flush = function () {\n        return null;\n      };\n\n      noOpFunction.pending = function () {\n        return false;\n      };\n\n      return noOpFunction;\n    }\n\n    var waitMS = wait || 0;\n    var leading = false;\n    var trailing = true;\n    var maxWait = null;\n    var lastCallTime = 0;\n    var lastExecuteTime = Date.now();\n    var lastResult; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    var lastArgs;\n    var timeoutId = null;\n\n    if (options && typeof options.leading === 'boolean') {\n      leading = options.leading;\n    }\n\n    if (options && typeof options.trailing === 'boolean') {\n      trailing = options.trailing;\n    }\n\n    if (options && typeof options.maxWait === 'number' && !isNaN(options.maxWait)) {\n      maxWait = options.maxWait;\n    }\n\n    var markExecuted = function markExecuted(time) {\n      if (timeoutId) {\n        _this.clearTimeout(timeoutId);\n\n        timeoutId = null;\n      }\n\n      lastExecuteTime = time;\n    };\n\n    var invokeFunction = function invokeFunction(time) {\n      markExecuted(time);\n      lastResult = func.apply(_this._parent, lastArgs);\n    };\n\n    var callback = function callback(userCall) {\n      var now = Date.now();\n      var executeImmediately = false;\n\n      if (userCall) {\n        if (leading && now - lastCallTime >= waitMS) {\n          executeImmediately = true;\n        }\n\n        lastCallTime = now;\n      }\n\n      var delta = now - lastCallTime;\n      var waitLength = waitMS - delta;\n      var maxWaitDelta = now - lastExecuteTime;\n      var maxWaitExpired = false;\n\n      if (maxWait !== null) {\n        // maxWait only matters when there is a pending callback\n        if (maxWaitDelta >= maxWait && timeoutId) {\n          maxWaitExpired = true;\n        } else {\n          waitLength = Math.min(waitLength, maxWait - maxWaitDelta);\n        }\n      }\n\n      if (delta >= waitMS || maxWaitExpired || executeImmediately) {\n        invokeFunction(now);\n      } else if ((timeoutId === null || !userCall) && trailing) {\n        timeoutId = _this.setTimeout(callback, waitLength);\n      }\n\n      return lastResult;\n    };\n\n    var pending = function pending() {\n      return !!timeoutId;\n    };\n\n    var cancel = function cancel() {\n      if (pending()) {\n        // Mark the debounced function as having executed\n        markExecuted(Date.now());\n      }\n    };\n\n    var flush = function flush() {\n      if (pending()) {\n        invokeFunction(Date.now());\n      }\n\n      return lastResult;\n    }; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n    var resultFunction = function resultFunction() {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      lastArgs = args;\n      return callback(true);\n    };\n\n    resultFunction.cancel = cancel;\n    resultFunction.flush = flush;\n    resultFunction.pending = pending;\n    return resultFunction;\n  };\n\n  Async.prototype.requestAnimationFrame = function (callback, targetElement) {\n    var _this = this;\n\n    var animationFrameId = 0;\n    var win = getWindow(targetElement);\n\n    if (!this._isDisposed) {\n      if (!this._animationFrameIds) {\n        this._animationFrameIds = {};\n      }\n\n      var animationFrameCallback = function animationFrameCallback() {\n        try {\n          // Now delete the record and call the callback.\n          if (_this._animationFrameIds) {\n            delete _this._animationFrameIds[animationFrameId];\n          }\n\n          callback.apply(_this._parent);\n        } catch (e) {\n          _this._logError(e);\n        }\n      };\n\n      animationFrameId = win.requestAnimationFrame ? win.requestAnimationFrame(animationFrameCallback) : win.setTimeout(animationFrameCallback, 0);\n      this._animationFrameIds[animationFrameId] = true;\n    }\n\n    return animationFrameId;\n  };\n\n  Async.prototype.cancelAnimationFrame = function (id, targetElement) {\n    var win = getWindow(targetElement);\n\n    if (this._animationFrameIds && this._animationFrameIds[id]) {\n      win.cancelAnimationFrame ? win.cancelAnimationFrame(id) : win.clearTimeout(id);\n      delete this._animationFrameIds[id];\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  Async.prototype._logError = function (e) {\n    if (this._onErrorHandler) {\n      this._onErrorHandler(e);\n    }\n  };\n\n  return Async;\n}();\n\nexport { Async };","import \"core-js/modules/es.array.reduce.js\";\n\n/**\n * Compares a to b and b to a.\n *\n * @public\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function shallowCompare(a, b) {\n  for (var propName in a) {\n    if (a.hasOwnProperty(propName)) {\n      if (!b.hasOwnProperty(propName) || b[propName] !== a[propName]) {\n        return false;\n      }\n    }\n  }\n\n  for (var propName in b) {\n    if (b.hasOwnProperty(propName)) {\n      if (!a.hasOwnProperty(propName)) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n/**\n * Makes a resulting merge of a bunch of objects. Pass in the target object followed by 1 or more\n * objects as arguments and they will be merged sequentially into the target. Note that this will\n * shallow merge; it will not create new cloned values for target members.\n *\n * @public\n * @param target - Target object to merge following object arguments into.\n * @param args - One or more objects that will be mixed into the target in the order they are provided.\n * @returns Resulting merged target.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function assign(target) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  return filteredAssign.apply(this, [null, target].concat(args));\n}\n/**\n * Makes a resulting merge of a bunch of objects, but allows a filter function to be passed in to filter\n * the resulting merges. This allows for scenarios where you want to merge \"everything except that one thing\"\n * or \"properties that start with data-\". Note that this will shallow merge; it will not create new cloned\n * values for target members.\n *\n * @public\n * @param isAllowed - Callback to determine if the given propName is allowed in the result.\n * @param target - Target object to merge following object arguments into.\n * @param args - One or more objects that will be mixed into the target in the order they are provided.\n * @returns Resulting merged target.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function filteredAssign(isAllowed, target) {\n  var args = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    args[_i - 2] = arguments[_i];\n  }\n\n  target = target || {};\n\n  for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n    var sourceObject = args_1[_a];\n\n    if (sourceObject) {\n      for (var propName in sourceObject) {\n        if (sourceObject.hasOwnProperty(propName) && (!isAllowed || isAllowed(propName))) {\n          target[propName] = sourceObject[propName];\n        }\n      }\n    }\n  }\n\n  return target;\n}\n/**\n * Takes an enum and iterates over each value of the enum (as a string), running the callback on each,\n * returning a mapped array.\n * @param theEnum - Enum to iterate over\n * @param callback - The first parameter the name of the entry, and the second parameter is the value\n * of that entry, which is the value you'd normally use when using the enum (usually a number).\n */\n\nexport function mapEnumByName( // eslint-disable-next-line @typescript-eslint/no-explicit-any\ntheEnum, callback) {\n  // map<any> to satisfy compiler since it doesn't realize we strip out undefineds in the .filter() call\n  return Object.keys(theEnum).map(function (p) {\n    // map on each property name as a string\n    if (String(Number(p)) !== p) {\n      // if the property is not just a number (because enums in TypeScript will map both ways)\n      return callback(p, theEnum[p]);\n    }\n\n    return undefined;\n  }).filter(function (v) {\n    return !!v;\n  }); // only return elements with values\n}\n/**\n * Get all values in an object dictionary\n *\n * @param obj - The dictionary to get values for\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function values(obj) {\n  return Object.keys(obj).reduce(function (arr, key) {\n    arr.push(obj[key]);\n    return arr;\n  }, []);\n}\n/**\n * Tiny helper to do the minimal amount of work in duplicating an object but omitting some\n * props. This ends up faster than using object ...rest or reduce to filter.\n *\n * This behaves very much like filteredAssign, but does not merge many objects together,\n * uses an exclusion object map, and avoids spreads all for optimal performance.\n *\n * See perf test for background:\n * https://jsperf.com/omit-vs-rest-vs-reduce/1\n *\n * @param obj - The object to clone\n * @param exclusions - The array of keys to exclude\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function omit(obj, exclusions) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var result = {};\n\n  for (var key in obj) {\n    if (exclusions.indexOf(key) === -1 && obj.hasOwnProperty(key)) {\n      result[key] = obj[key];\n    }\n  }\n\n  return result;\n}","import { assign } from './object';\n/** An instance of EventGroup allows anything with a handle to it to trigger events on it.\n *  If the target is an HTMLElement, the event will be attached to the element and can be\n *  triggered as usual (like clicking for onClick).\n *  The event can be triggered by calling EventGroup.raise() here. If the target is an\n *  HTMLElement, the event gets raised and is handled by the browser. Otherwise, it gets\n *  handled here in EventGroup, and the handler is called in the context of the parent\n *  (which is passed in in the constructor).\n *\n * @public\n * {@docCategory EventGroup}\n */\n\nvar EventGroup =\n/** @class */\nfunction () {\n  /** parent: the context in which events attached to non-HTMLElements are called */\n  function EventGroup(parent) {\n    this._id = EventGroup._uniqueId++;\n    this._parent = parent;\n    this._eventRecords = [];\n  }\n  /** For IE8, bubbleEvent is ignored here and must be dealt with by the handler.\n   *  Events raised here by default have bubbling set to false and cancelable set to true.\n   *  This applies also to built-in events being raised manually here on HTMLElements,\n   *  which may lead to unexpected behavior if it differs from the defaults.\n   *\n   */\n\n\n  EventGroup.raise = function (target, eventName, eventArgs, bubbleEvent) {\n    var retVal;\n\n    if (EventGroup._isElement(target)) {\n      if (typeof document !== 'undefined' && document.createEvent) {\n        var ev = document.createEvent('HTMLEvents');\n        ev.initEvent(eventName, bubbleEvent || false, true);\n        assign(ev, eventArgs);\n        retVal = target.dispatchEvent(ev);\n      } else if (typeof document !== 'undefined' && document.createEventObject) {\n        // IE8\n        var evObj = document.createEventObject(eventArgs); // cannot set cancelBubble on evObj, fireEvent will overwrite it\n\n        target.fireEvent('on' + eventName, evObj);\n      }\n    } else {\n      while (target && retVal !== false) {\n        var events = target.__events__;\n        var eventRecords = events ? events[eventName] : null;\n\n        if (eventRecords) {\n          for (var id in eventRecords) {\n            if (eventRecords.hasOwnProperty(id)) {\n              var eventRecordList = eventRecords[id];\n\n              for (var listIndex = 0; retVal !== false && listIndex < eventRecordList.length; listIndex++) {\n                var record = eventRecordList[listIndex];\n\n                if (record.objectCallback) {\n                  retVal = record.objectCallback.call(record.parent, eventArgs);\n                }\n              }\n            }\n          }\n        } // If the target has a parent, bubble the event up.\n\n\n        target = bubbleEvent ? target.parent : null;\n      }\n    }\n\n    return retVal;\n  };\n\n  EventGroup.isObserved = function (target, eventName) {\n    var events = target && target.__events__;\n    return !!events && !!events[eventName];\n  };\n  /** Check to see if the target has declared support of the given event. */\n\n\n  EventGroup.isDeclared = function (target, eventName) {\n    var declaredEvents = target && target.__declaredEvents;\n    return !!declaredEvents && !!declaredEvents[eventName];\n  };\n\n  EventGroup.stopPropagation = function (event) {\n    if (event.stopPropagation) {\n      event.stopPropagation();\n    } else {\n      // IE8\n      event.cancelBubble = true;\n    }\n  };\n\n  EventGroup._isElement = function (target) {\n    return !!target && (!!target.addEventListener || typeof HTMLElement !== 'undefined' && target instanceof HTMLElement);\n  };\n\n  EventGroup.prototype.dispose = function () {\n    if (!this._isDisposed) {\n      this._isDisposed = true;\n      this.off();\n      this._parent = null;\n    }\n  };\n  /** On the target, attach a set of events, where the events object is a name to function mapping. */\n\n\n  EventGroup.prototype.onAll = function (target, events, useCapture) {\n    for (var eventName in events) {\n      if (events.hasOwnProperty(eventName)) {\n        this.on(target, eventName, events[eventName], useCapture);\n      }\n    }\n  };\n  /**\n   * On the target, attach an event whose handler will be called in the context of the parent\n   * of this instance of EventGroup.\n   */\n\n\n  EventGroup.prototype.on = function (target, eventName, callback, options) {\n    var _this = this;\n\n    if (eventName.indexOf(',') > -1) {\n      var events = eventName.split(/[ ,]+/);\n\n      for (var i = 0; i < events.length; i++) {\n        this.on(target, events[i], callback, options);\n      }\n    } else {\n      var parent_1 = this._parent;\n      var eventRecord = {\n        target: target,\n        eventName: eventName,\n        parent: parent_1,\n        callback: callback,\n        options: options\n      }; // Initialize and wire up the record on the target, so that it can call the callback if the event fires.\n\n      var events = target.__events__ = target.__events__ || {};\n      events[eventName] = events[eventName] || {\n        count: 0\n      };\n      events[eventName][this._id] = events[eventName][this._id] || [];\n\n      events[eventName][this._id].push(eventRecord);\n\n      events[eventName].count++;\n\n      if (EventGroup._isElement(target)) {\n        var processElementEvent = function processElementEvent() {\n          var args = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n\n          if (_this._isDisposed) {\n            return;\n          }\n\n          var result;\n\n          try {\n            result = callback.apply(parent_1, args);\n\n            if (result === false && args[0]) {\n              var e = args[0];\n\n              if (e.preventDefault) {\n                e.preventDefault();\n              }\n\n              if (e.stopPropagation) {\n                e.stopPropagation();\n              }\n\n              e.cancelBubble = true;\n            }\n          } catch (e) {// ignore\n          }\n\n          return result;\n        };\n\n        eventRecord.elementCallback = processElementEvent;\n\n        if (target.addEventListener) {\n          target.addEventListener(eventName, processElementEvent, options);\n        } else if (target.attachEvent) {\n          // IE8\n          target.attachEvent('on' + eventName, processElementEvent);\n        }\n      } else {\n        var processObjectEvent = function processObjectEvent() {\n          var args = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n\n          if (_this._isDisposed) {\n            return;\n          }\n\n          return callback.apply(parent_1, args);\n        };\n\n        eventRecord.objectCallback = processObjectEvent;\n      } // Remember the record locally, so that it can be removed.\n\n\n      this._eventRecords.push(eventRecord);\n    }\n  };\n\n  EventGroup.prototype.off = function (target, eventName, callback, options) {\n    for (var i = 0; i < this._eventRecords.length; i++) {\n      var eventRecord = this._eventRecords[i];\n\n      if ((!target || target === eventRecord.target) && (!eventName || eventName === eventRecord.eventName) && (!callback || callback === eventRecord.callback) && (typeof options !== 'boolean' || options === eventRecord.options)) {\n        var events = eventRecord.target.__events__;\n        var targetArrayLookup = events[eventRecord.eventName];\n        var targetArray = targetArrayLookup ? targetArrayLookup[this._id] : null; // We may have already target's entries, so check for null.\n\n        if (targetArray) {\n          if (targetArray.length === 1 || !callback) {\n            targetArrayLookup.count -= targetArray.length;\n            delete events[eventRecord.eventName][this._id];\n          } else {\n            targetArrayLookup.count--;\n            targetArray.splice(targetArray.indexOf(eventRecord), 1);\n          }\n\n          if (!targetArrayLookup.count) {\n            delete events[eventRecord.eventName];\n          }\n        }\n\n        if (eventRecord.elementCallback) {\n          if (eventRecord.target.removeEventListener) {\n            eventRecord.target.removeEventListener(eventRecord.eventName, eventRecord.elementCallback, eventRecord.options);\n          } else if (eventRecord.target.detachEvent) {\n            // IE8\n            eventRecord.target.detachEvent('on' + eventRecord.eventName, eventRecord.elementCallback);\n          }\n        }\n\n        this._eventRecords.splice(i--, 1);\n      }\n    }\n  };\n  /** Trigger the given event in the context of this instance of EventGroup. */\n\n\n  EventGroup.prototype.raise = function (eventName, eventArgs, bubbleEvent) {\n    return EventGroup.raise(this._parent, eventName, eventArgs, bubbleEvent);\n  };\n  /** Declare an event as being supported by this instance of EventGroup. */\n\n\n  EventGroup.prototype.declare = function (event) {\n    var declaredEvents = this._parent.__declaredEvents = this._parent.__declaredEvents || {};\n\n    if (typeof event === 'string') {\n      declaredEvents[event] = true;\n    } else {\n      for (var i = 0; i < event.length; i++) {\n        declaredEvents[event[i]] = true;\n      }\n    }\n  };\n\n  EventGroup._uniqueId = 0;\n  return EventGroup;\n}();\n\nexport { EventGroup };","import { __extends } from \"tslib\";\nimport * as React from 'react';\nimport { Async } from './Async';\nimport { EventGroup } from './EventGroup';\nimport { warnConditionallyRequiredProps } from './warn/warnConditionallyRequiredProps';\nimport { warnMutuallyExclusive } from './warn/warnMutuallyExclusive';\nimport { warnDeprecations } from './warn/warnDeprecations';\n/**\n * BaseComponent class, which provides basic helpers for all components.\n *\n * @public\n * {@docCategory BaseComponent}\n *\n * @deprecated Do not use. We are moving away from class component.\n */\n\nvar BaseComponent =\n/** @class */\nfunction (_super) {\n  __extends(BaseComponent, _super);\n  /**\n   * BaseComponent constructor\n   * @param props - The props for the component.\n   * @param context - The context for the component.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  function BaseComponent(props, context) {\n    var _this = _super.call(this, props, context) || this; // eslint-disable-next-line deprecation/deprecation\n\n\n    _makeAllSafe(_this, BaseComponent.prototype, ['componentDidMount', 'shouldComponentUpdate', 'getSnapshotBeforeUpdate', 'render', 'componentDidUpdate', 'componentWillUnmount']);\n\n    return _this;\n  }\n  /**\n   * When the component receives props, make sure the componentRef is updated.\n   */\n\n\n  BaseComponent.prototype.componentDidUpdate = function (prevProps, prevState) {\n    this._updateComponentRef(prevProps, this.props);\n  };\n  /**\n   * When the component has mounted, update the componentRef.\n   */\n\n\n  BaseComponent.prototype.componentDidMount = function () {\n    this._setComponentRef(this.props.componentRef, this);\n  };\n  /**\n   * If we have disposables, dispose them automatically on unmount.\n   */\n\n\n  BaseComponent.prototype.componentWillUnmount = function () {\n    this._setComponentRef(this.props.componentRef, null);\n\n    if (this.__disposables) {\n      for (var i = 0, len = this._disposables.length; i < len; i++) {\n        var disposable = this.__disposables[i];\n\n        if (disposable.dispose) {\n          disposable.dispose();\n        }\n      }\n\n      this.__disposables = null;\n    }\n  };\n\n  Object.defineProperty(BaseComponent.prototype, \"className\", {\n    /**\n     * Gets the object's class name.\n     */\n    get: function get() {\n      if (!this.__className) {\n        var funcNameRegex = /function (.{1,})\\(/;\n        var results = funcNameRegex.exec(this.constructor.toString());\n        this.__className = results && results.length > 1 ? results[1] : '';\n      }\n\n      return this.__className;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(BaseComponent.prototype, \"_disposables\", {\n    /**\n     * Allows subclasses to push things to this._disposables to be auto disposed.\n     */\n    get: function get() {\n      if (!this.__disposables) {\n        this.__disposables = [];\n      }\n\n      return this.__disposables;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(BaseComponent.prototype, \"_async\", {\n    /**\n     * Gets the async instance associated with the component, created on demand. The async instance gives\n     * subclasses a way to execute setTimeout/setInterval async calls safely, where the callbacks\n     * will be cleared/ignored automatically after unmounting. The helpers within the async object also\n     * preserve the this pointer so that you don't need to \"bind\" the callbacks.\n     */\n    get: function get() {\n      if (!this.__async) {\n        this.__async = new Async(this);\n\n        this._disposables.push(this.__async);\n      }\n\n      return this.__async;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(BaseComponent.prototype, \"_events\", {\n    /**\n     * Gets the event group instance assocaited with the component, created on demand. The event instance\n     * provides on/off methods for listening to DOM (or regular javascript object) events. The event callbacks\n     * will be automatically disconnected after unmounting. The helpers within the events object also\n     * preserve the this reference so that you don't need to \"bind\" the callbacks.\n     */\n    get: function get() {\n      if (!this.__events) {\n        this.__events = new EventGroup(this);\n\n        this._disposables.push(this.__events);\n      }\n\n      return this.__events;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Helper to return a memoized ref resolver function.\n   * @param refName - Name of the member to assign the ref to.\n   * @returns A function instance keyed from the given refname.\n   * @deprecated Use `createRef` from React.createRef.\n   */\n\n  BaseComponent.prototype._resolveRef = function (refName) {\n    var _this = this;\n\n    if (!this.__resolves) {\n      this.__resolves = {};\n    }\n\n    if (!this.__resolves[refName]) {\n      this.__resolves[refName] = function (ref) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return _this[refName] = ref;\n      };\n    }\n\n    return this.__resolves[refName];\n  };\n  /**\n   * Updates the componentRef (by calling it with \"this\" when necessary.)\n   */\n\n\n  BaseComponent.prototype._updateComponentRef = function (currentProps, newProps) {\n    if (newProps === void 0) {\n      newProps = {};\n    } // currentProps *should* always be defined, but verify that just in case a subclass is manually\n    // calling a lifecycle method with no parameters (which has happened) or other odd usage.\n\n\n    if (currentProps && newProps && currentProps.componentRef !== newProps.componentRef) {\n      this._setComponentRef(currentProps.componentRef, null);\n\n      this._setComponentRef(newProps.componentRef, this);\n    }\n  };\n  /**\n   * Warns when a deprecated props are being used.\n   *\n   * @param deprecationMap - The map of deprecations, where key is the prop name and the value is\n   * either null or a replacement prop name.\n   */\n\n\n  BaseComponent.prototype._warnDeprecations = function (deprecationMap) {\n    warnDeprecations(this.className, this.props, deprecationMap);\n  };\n  /**\n   * Warns when props which are mutually exclusive with each other are both used.\n   *\n   * @param mutuallyExclusiveMap - The map of mutually exclusive props.\n   */\n\n\n  BaseComponent.prototype._warnMutuallyExclusive = function (mutuallyExclusiveMap) {\n    warnMutuallyExclusive(this.className, this.props, mutuallyExclusiveMap);\n  };\n  /**\n   * Warns when props are required if a condition is met.\n   *\n   * @param requiredProps - The name of the props that are required when the condition is met.\n   * @param conditionalPropName - The name of the prop that the condition is based on.\n   * @param condition - Whether the condition is met.\n   */\n\n\n  BaseComponent.prototype._warnConditionallyRequiredProps = function (requiredProps, conditionalPropName, condition) {\n    warnConditionallyRequiredProps(this.className, this.props, requiredProps, conditionalPropName, condition);\n  };\n\n  BaseComponent.prototype._setComponentRef = function (ref, value) {\n    if (!this._skipComponentRefResolution && ref) {\n      if (typeof ref === 'function') {\n        ref(value);\n      }\n\n      if (typeof ref === 'object') {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        ref.current = value;\n      }\n    }\n  };\n\n  return BaseComponent;\n}(React.Component);\n\nexport { BaseComponent };\n/**\n * Helper to override a given method with a wrapper method that can try/catch the original, but also\n * ensures that the BaseComponent's methods are called before the subclass's. This ensures that\n * componentWillUnmount in the base is called and that things in the _disposables array are disposed.\n */\n// eslint-disable-next-line deprecation/deprecation\n\nfunction _makeAllSafe(obj, prototype, methodNames) {\n  for (var i = 0, len = methodNames.length; i < len; i++) {\n    _makeSafe(obj, prototype, methodNames[i]);\n  }\n} // eslint-disable-next-line deprecation/deprecation\n\n\nfunction _makeSafe(obj, prototype, methodName) {\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  var classMethod = obj[methodName];\n  var prototypeMethod = prototype[methodName];\n\n  if (classMethod || prototypeMethod) {\n    obj[methodName] = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      /* eslint-enable @typescript-eslint/no-explicit-any */\n\n\n      var retVal;\n\n      if (prototypeMethod) {\n        retVal = prototypeMethod.apply(this, args);\n      }\n\n      if (classMethod !== prototypeMethod) {\n        retVal = classMethod.apply(this, args);\n      }\n\n      return retVal;\n    };\n  }\n}\n/**\n * Simple constant function for returning null, used to render empty templates in JSX.\n *\n * @public\n */\n\n\nexport function nullRender() {\n  return null;\n}","/**\n * Allows you to hoist static functions in components.\n * Created for the purpose of fixing broken static functions in classes\n * that utilize decorators.\n *\n * @public\n * @param source - The object where the methods are hoisted from.\n * @param dest - The object to hoist the methods onto.\n * @returns The dest object with methods added\n */\nexport function hoistStatics(source, dest) {\n  for (var name_1 in source) {\n    if (source.hasOwnProperty(name_1)) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      dest[name_1] = source[name_1];\n    }\n  }\n\n  return dest;\n}","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { Customizations } from './Customizations';\nimport { hoistStatics } from '../hoistStatics';\nimport { CustomizerContext } from './CustomizerContext';\nimport { concatStyleSets } from '@uifabric/merge-styles';\nexport function customizable(scope, fields, concatStyles) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return function customizableFactory(ComposedComponent) {\n    var _a;\n\n    var resultClass = (_a =\n    /** @class */\n    function (_super) {\n      __extends(ComponentWithInjectedProps, _super);\n\n      function ComponentWithInjectedProps(props) {\n        var _this = _super.call(this, props) || this; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n        _this._styleCache = {};\n        _this._onSettingChanged = _this._onSettingChanged.bind(_this);\n        return _this;\n      }\n\n      ComponentWithInjectedProps.prototype.componentDidMount = function () {\n        Customizations.observe(this._onSettingChanged);\n      };\n\n      ComponentWithInjectedProps.prototype.componentWillUnmount = function () {\n        Customizations.unobserve(this._onSettingChanged);\n      };\n\n      ComponentWithInjectedProps.prototype.render = function () {\n        var _this = this;\n\n        return React.createElement(CustomizerContext.Consumer, null, function (context) {\n          var defaultProps = Customizations.getSettings(fields, scope, context.customizations); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n          var componentProps = _this.props; // If defaultProps.styles is a function, evaluate it before calling concatStyleSets\n\n          if (defaultProps.styles && typeof defaultProps.styles === 'function') {\n            defaultProps.styles = defaultProps.styles(__assign(__assign({}, defaultProps), componentProps));\n          } // If concatStyles is true and custom styles have been defined compute those styles\n\n\n          if (concatStyles && defaultProps.styles) {\n            if (_this._styleCache.default !== defaultProps.styles || _this._styleCache.component !== componentProps.styles) {\n              var mergedStyles = concatStyleSets(defaultProps.styles, componentProps.styles);\n              _this._styleCache.default = defaultProps.styles;\n              _this._styleCache.component = componentProps.styles;\n              _this._styleCache.merged = mergedStyles;\n            }\n\n            return React.createElement(ComposedComponent, __assign({}, defaultProps, componentProps, {\n              styles: _this._styleCache.merged\n            }));\n          }\n\n          return React.createElement(ComposedComponent, __assign({}, defaultProps, componentProps));\n        });\n      };\n\n      ComponentWithInjectedProps.prototype._onSettingChanged = function () {\n        this.forceUpdate();\n      };\n\n      return ComponentWithInjectedProps;\n    }(React.Component), _a.displayName = 'Customized' + scope, _a);\n    return hoistStatics(ComposedComponent, resultClass);\n  };\n}","/**\n * Concatination helper, which can merge class names together. Skips over falsey values.\n *\n * @public\n */\nexport function css() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  var classes = [];\n\n  for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n    var arg = args_1[_a];\n\n    if (arg) {\n      if (typeof arg === 'string') {\n        classes.push(arg);\n      } else if (arg.hasOwnProperty('toString') && typeof arg.toString === 'function') {\n        classes.push(arg.toString());\n      } else {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        for (var key in arg) {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          if (arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n  }\n\n  return classes.join(' ');\n}","import { getVirtualParent } from './getVirtualParent';\n/**\n * Gets the element which is the parent of a given element.\n * If `allowVirtuaParents` is `true`, this method prefers the virtual parent over\n * real DOM parent when present.\n *\n * @public\n */\n\nexport function getParent(child, allowVirtualParents) {\n  if (allowVirtualParents === void 0) {\n    allowVirtualParents = true;\n  }\n\n  return child && (allowVirtualParents && getVirtualParent(child) || child.parentNode && child.parentNode);\n}","import { isVirtualElement } from './isVirtualElement';\n/**\n * Gets the virtual parent given the child element, if it exists.\n *\n * @public\n */\n\nexport function getVirtualParent(child) {\n  var parent;\n\n  if (child && isVirtualElement(child)) {\n    parent = child._virtual.parent;\n  }\n\n  return parent;\n}","/**\n * Determines whether or not an element has the virtual hierarchy extension.\n *\n * @public\n */\nexport function isVirtualElement(element) {\n  return element && !!element._virtual;\n}","import { getParent } from './getParent';\n/**\n * Finds the first parent element where the matchFunction returns true\n * @param element - element to start searching at\n * @param matchFunction - the function that determines if the element is a match\n * @returns the matched element or null no match was found\n */\n\nexport function findElementRecursive(element, matchFunction) {\n  if (!element || element === document.body) {\n    return null;\n  }\n\n  return matchFunction(element) ? element : findElementRecursive(getParent(element), matchFunction);\n}","import { findElementRecursive } from './findElementRecursive';\nimport { DATA_PORTAL_ATTRIBUTE } from './setPortalAttribute';\n/**\n * Determine whether a target is within a portal from perspective of root or optional parent.\n * This function only works against portal components that use the setPortalAttribute function.\n * If both parent and child are within the same portal this function will return false.\n * @param target - Element to query portal containment status of.\n * @param parent - Optional parent perspective. Search for containing portal stops at parent\n * (or root if parent is undefined or invalid.)\n */\n\nexport function portalContainsElement(target, parent) {\n  var elementMatch = findElementRecursive(target, function (testElement) {\n    return parent === testElement || testElement.hasAttribute(DATA_PORTAL_ATTRIBUTE);\n  });\n  return elementMatch !== null && elementMatch.hasAttribute(DATA_PORTAL_ATTRIBUTE);\n}","export var DATA_PORTAL_ATTRIBUTE = 'data-portal-element';\n/**\n * Identify element as a portal by setting an attribute.\n * @param element - Element to mark as a portal.\n */\n\nexport function setPortalAttribute(element) {\n  element.setAttribute(DATA_PORTAL_ATTRIBUTE, 'true');\n}","/* eslint-disable @typescript-eslint/no-explicit-any */\n\n/**\n * Returns a single function which will call each of the given functions in the context of the\n * parent.\n */\nexport function appendFunction(parent) {\n  var functions = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    functions[_i - 1] = arguments[_i];\n  }\n\n  if (functions.length < 2) {\n    return functions[0];\n  }\n\n  return function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    functions.forEach(function (f) {\n      return f && f.apply(parent, args);\n    });\n  };\n}","import { extendComponent } from './extendComponent';\n/**\n * Helper to manage componentRef resolution. Internally appends logic to\n * lifetime methods to resolve componentRef to the passed in object.\n *\n * Usage: call initializeComponentRef(this) in the constructor,\n */\n\nexport function initializeComponentRef(obj) {\n  extendComponent(obj, {\n    componentDidMount: _onMount,\n    componentDidUpdate: _onUpdate,\n    componentWillUnmount: _onUnmount\n  });\n}\n\nfunction _onMount() {\n  _setComponentRef(this.props.componentRef, this);\n}\n\nfunction _onUpdate(prevProps) {\n  if (prevProps.componentRef !== this.props.componentRef) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    _setComponentRef(prevProps.componentRef, null);\n\n    _setComponentRef(this.props.componentRef, this);\n  }\n}\n\nfunction _onUnmount() {\n  _setComponentRef(this.props.componentRef, null);\n}\n\nfunction _setComponentRef(componentRef, value) {\n  if (componentRef) {\n    if (typeof componentRef === 'object') {\n      componentRef.current = value;\n    } else if (typeof componentRef === 'function') {\n      componentRef(value);\n    }\n  }\n}","import { appendFunction } from './appendFunction';\n/**\n * Extends a component's lifetime methods by appending new functions to the existing lifetime functions.\n */\n\nexport function extendComponent(parent, methods) {\n  for (var name_1 in methods) {\n    if (methods.hasOwnProperty(name_1)) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      parent[name_1] = appendFunction(parent, parent[name_1], methods[name_1]);\n    }\n  }\n}","import { getWindow } from './dom/getWindow';\nimport { Stylesheet } from '@uifabric/merge-styles'; // Initialize global window id.\n\nvar CURRENT_ID_PROPERTY = '__currentId__';\nvar DEFAULT_ID_STRING = 'id__'; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nvar _global = getWindow() || {};\n\nif (_global[CURRENT_ID_PROPERTY] === undefined) {\n  _global[CURRENT_ID_PROPERTY] = 0;\n}\n\nvar _initializedStylesheetResets = false;\n/**\n * Generates a unique id in the global scope (this spans across duplicate copies of the same library.)\n *\n * @public\n */\n\nexport function getId(prefix) {\n  if (!_initializedStylesheetResets) {\n    // Configure ids to reset on stylesheet resets.\n    var stylesheet = Stylesheet.getInstance();\n\n    if (stylesheet && stylesheet.onReset) {\n      stylesheet.onReset(resetIds);\n    }\n\n    _initializedStylesheetResets = true;\n  }\n\n  var index = _global[CURRENT_ID_PROPERTY]++;\n  return (prefix === undefined ? DEFAULT_ID_STRING : prefix) + index;\n}\n/**\n * Resets id counter to an (optional) number.\n *\n * @public\n */\n\nexport function resetIds(counter) {\n  if (counter === void 0) {\n    counter = 0;\n  }\n\n  _global[CURRENT_ID_PROPERTY] = counter;\n}","var _a;\n\nimport { KeyCodes } from './KeyCodes';\nvar DirectionalKeyCodes = (_a = {}, _a[KeyCodes.up] = 1, _a[KeyCodes.down] = 1, _a[KeyCodes.left] = 1, _a[KeyCodes.right] = 1, _a[KeyCodes.home] = 1, _a[KeyCodes.end] = 1, _a[KeyCodes.tab] = 1, _a[KeyCodes.pageUp] = 1, _a[KeyCodes.pageDown] = 1, _a);\n/**\n * Returns true if the keycode is a directional keyboard key.\n */\n\nexport function isDirectionalKeyCode(which) {\n  return !!DirectionalKeyCodes[which];\n}\n/**\n * Adds a keycode to the list of keys that, when pressed, should cause the focus outlines to be visible.\n * This can be used to add global shortcut keys that directionally move from section to section within\n * an app or between focus trap zones.\n */\n\nexport function addDirectionalKeyCode(which) {\n  DirectionalKeyCodes[which] = 1;\n}","import * as React from 'react';\nimport { getWindow } from './dom/getWindow';\nimport { isDirectionalKeyCode } from './keyboard';\nimport { setFocusVisibility } from './setFocusVisibility';\n/**\n * Counter for mounted component that uses focus rectangle.\n * We want to cleanup the listners before last component that uses focus rectangle unmounts.\n */\n\nvar mountCounters = new WeakMap();\n\nfunction setMountCounters(key, delta) {\n  var newValue;\n  var currValue = mountCounters.get(key);\n\n  if (currValue) {\n    newValue = currValue + delta;\n  } else {\n    newValue = 1;\n  }\n\n  mountCounters.set(key, newValue);\n  return newValue;\n}\n/**\n * Initializes the logic which:\n *\n * 1. Subscribes keydown and mousedown events. (It will only do it once per window,\n *    so it's safe to call this method multiple times.)\n * 2. When the user presses directional keyboard keys, adds the 'ms-Fabric--isFocusVisible' classname\n *    to the document body, removes the 'ms-Fabric-isFocusHidden' classname.\n * 3. When the user clicks a mouse button, adds the 'ms-Fabric-isFocusHidden' classname to the\n *    document body, removes the 'ms-Fabric--isFocusVisible' classname.\n *\n * This logic allows components on the page to conditionally render focus treatments based on\n * the existence of global classnames, which simplifies logic overall.\n *\n * @param rootRef - A Ref object. Focus rectangle can be applied on itself and all its children.\n */\n\n\nexport function useFocusRects(rootRef) {\n  React.useEffect(function () {\n    var _a, _b;\n\n    var win = getWindow((_a = rootRef) === null || _a === void 0 ? void 0 : _a.current);\n\n    if (!win || ((_b = win.FabricConfig) === null || _b === void 0 ? void 0 : _b.disableFocusRects) === true) {\n      return undefined;\n    }\n\n    var count = setMountCounters(win, 1);\n\n    if (count <= 1) {\n      win.addEventListener('mousedown', _onMouseDown, true);\n      win.addEventListener('pointerdown', _onPointerDown, true);\n      win.addEventListener('keydown', _onKeyDown, true);\n    }\n\n    return function () {\n      var _a;\n\n      if (!win || ((_a = win.FabricConfig) === null || _a === void 0 ? void 0 : _a.disableFocusRects) === true) {\n        return;\n      }\n\n      count = setMountCounters(win, -1);\n\n      if (count === 0) {\n        win.removeEventListener('mousedown', _onMouseDown, true);\n        win.removeEventListener('pointerdown', _onPointerDown, true);\n        win.removeEventListener('keydown', _onKeyDown, true);\n      }\n    };\n  }, [rootRef]);\n}\n/**\n * Function Component wrapper which enables calling `useFocusRects` hook.\n * Renders nothing.\n */\n\nexport var FocusRects = function FocusRects(props) {\n  useFocusRects(props.rootRef);\n  return null;\n};\n\nfunction _onMouseDown(ev) {\n  setFocusVisibility(false, ev.target);\n}\n\nfunction _onPointerDown(ev) {\n  if (ev.pointerType !== 'mouse') {\n    setFocusVisibility(false, ev.target);\n  }\n}\n\nfunction _onKeyDown(ev) {\n  // eslint-disable-next-line deprecation/deprecation\n  if (isDirectionalKeyCode(ev.which)) {\n    setFocusVisibility(true, ev.target);\n  }\n}","/**\n * ARIA helper to concatenate attributes, returning undefined if all attributes\n * are undefined. (Empty strings are not a valid ARIA attribute value.)\n *\n * @param ariaAttributes - ARIA attributes to merge\n */\nexport function mergeAriaAttributeValues() {\n  var ariaAttributes = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    ariaAttributes[_i] = arguments[_i];\n  }\n\n  var mergedAttribute = ariaAttributes.filter(function (arg) {\n    return arg;\n  }).join(' ').trim();\n  return mergedAttribute === '' ? undefined : mergedAttribute;\n}","import \"core-js/modules/es.array.reduce.js\";\n\n/**\n * Helper to find the index of an item within an array, using a callback to\n * determine the match.\n *\n * @public\n * @param array - Array to search.\n * @param cb - Callback which returns true on matches.\n * @param fromIndex - Optional index to start from (defaults to 0)\n */\nexport function findIndex(array, cb, fromIndex) {\n  if (fromIndex === void 0) {\n    fromIndex = 0;\n  }\n\n  var index = -1;\n\n  for (var i = fromIndex; array && i < array.length; i++) {\n    if (cb(array[i], i)) {\n      index = i;\n      break;\n    }\n  }\n\n  return index;\n}\n/**\n * Helper to find the first item within an array that satisfies the callback.\n * @param array - Array to search\n * @param cb - Callback which returns true on matches\n */\n\nexport function find(array, cb) {\n  var index = findIndex(array, cb);\n\n  if (index < 0) {\n    return undefined;\n  }\n\n  return array[index];\n}\n/**\n * Creates an array of a given size and helper method to populate.\n *\n * @public\n * @param size - Size of array.\n * @param getItem - Callback to populate given cell index.\n */\n\nexport function createArray(size, getItem) {\n  var array = [];\n\n  for (var i = 0; i < size; i++) {\n    array.push(getItem(i));\n  }\n\n  return array;\n}\n/**\n * Convert the given array to a matrix with columnCount number\n * of columns.\n *\n * @public\n * @param items - The array to convert\n * @param columnCount - The number of columns for the resulting matrix\n * @returns A matrix of items\n */\n\nexport function toMatrix(items, columnCount) {\n  return items.reduce(function (rows, currentValue, index) {\n    if (index % columnCount === 0) {\n      rows.push([currentValue]);\n    } else {\n      rows[rows.length - 1].push(currentValue);\n    }\n\n    return rows;\n  }, []);\n}\n/**\n * Given an array, it returns a new array that does not contain the item at the given index.\n * @param array - The array to operate on\n * @param index - The index of the element to remove\n */\n\nexport function removeIndex(array, index) {\n  return array.filter(function (_, i) {\n    return index !== i;\n  });\n}\n/**\n * Given an array, this function returns a new array where the element at a given index has been replaced.\n * @param array - The array to operate on\n * @param newElement - The element that will be placed in the new array\n * @param index - The index of the element that should be replaced\n */\n\nexport function replaceElement(array, newElement, index) {\n  var copy = array.slice();\n  copy[index] = newElement;\n  return copy;\n}\n/**\n * Given an array, this function returns a new array where an element has been inserted at the given index.\n * @param array - The array to operate on\n * @param index - The index where an element should be inserted\n * @param itemToAdd - The element to insert\n */\n\nexport function addElementAtIndex(array, index, itemToAdd) {\n  var copy = array.slice();\n  copy.splice(index, 0, itemToAdd);\n  return copy;\n}\n/**\n * Given an array where each element is of type T or T[], flatten it into an array of T\n * @param array - The array where each element can optionally also be an array\n */\n\nexport function flatten(array) {\n  var result = [];\n  array.forEach(function (item) {\n    return result = result.concat(item);\n  });\n  return result;\n}\n/**\n * Returns a boolean indicating if the two given arrays are equal in length and values.\n *\n * @param array1 - First array to compare\n * @param array2 - Second array to compare\n * @returns True if the arrays are the same length and have the same values in the same positions, false otherwise.\n */\n\nexport function arraysEqual(array1, array2) {\n  if (array1.length !== array2.length) {\n    return false;\n  }\n\n  for (var i = 0; i < array1.length; i++) {\n    if (array1[i] !== array2[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}","import { arraysEqual } from './array';\n/**\n * Set up a ref resolver function given internal state managed for the ref.\n * @param local Set\n */\n\nvar createResolver = function createResolver(local) {\n  return function (newValue) {\n    for (var _i = 0, _a = local.refs; _i < _a.length; _i++) {\n      var ref = _a[_i];\n\n      if (typeof ref === 'function') {\n        ref(newValue);\n      } else if (ref) {\n        // work around the immutability of the React.Ref type\n        ref.current = newValue;\n      }\n    }\n  };\n};\n/**\n * Helper to merge refs from within class components.\n */\n\n\nexport var createMergedRef = function createMergedRef(value) {\n  var local = {\n    refs: []\n  };\n  return function () {\n    var newRefs = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      newRefs[_i] = arguments[_i];\n    }\n\n    if (!local.resolver || !arraysEqual(local.refs, newRefs)) {\n      local.resolver = createResolver(local);\n    }\n\n    local.refs = newRefs;\n    return local.resolver;\n  };\n};","import * as React from 'react';\nimport { Customizations } from './Customizations';\nimport { CustomizerContext } from './CustomizerContext';\n/**\n * Hook to get Customizations settings from Customizations singleton or CustomizerContext.\n * It will trigger component state update on settings change observed.\n */\n\nexport function useCustomizationSettings(properties, scopeName) {\n  var forceUpdate = useForceUpdate();\n  var customizations = React.useContext(CustomizerContext).customizations;\n  var inCustomizerContext = customizations.inCustomizerContext;\n  React.useEffect(function () {\n    if (!inCustomizerContext) {\n      Customizations.observe(forceUpdate);\n    }\n\n    return function () {\n      if (!inCustomizerContext) {\n        Customizations.unobserve(forceUpdate);\n      }\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps -- exclude forceUpdate\n  }, [inCustomizerContext]);\n  return Customizations.getSettings(properties, scopeName, customizations);\n}\n\nfunction useForceUpdate() {\n  var _a = React.useState(0),\n      setValue = _a[1];\n\n  return function () {\n    return setValue(function (value) {\n      return ++value;\n    });\n  };\n}","import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nimport { concatStyleSetsWithProps } from '@uifabric/merge-styles';\nimport { useCustomizationSettings } from './customizations/useCustomizationSettings';\nvar DefaultFields = ['theme', 'styles'];\nexport function styled(Component, baseStyles, getProps, customizable, pure) {\n  customizable = customizable || {\n    scope: '',\n    fields: undefined\n  };\n  var scope = customizable.scope,\n      _a = customizable.fields,\n      fields = _a === void 0 ? DefaultFields : _a;\n  var Wrapped = React.forwardRef(function (props, forwardedRef) {\n    var styles = React.useRef();\n    var settings = useCustomizationSettings(fields, scope);\n\n    var customizedStyles = settings.styles,\n        dir = settings.dir,\n        rest = __rest(settings, [\"styles\", \"dir\"]);\n\n    var additionalProps = getProps ? getProps(props) : undefined; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    var cache = styles.current && styles.current.__cachedInputs__ || [];\n\n    if (!styles.current || customizedStyles !== cache[1] || props.styles !== cache[2]) {\n      // Using styled components as the Component arg will result in nested styling arrays.\n      var concatenatedStyles = function concatenatedStyles(styleProps) {\n        return concatStyleSetsWithProps(styleProps, baseStyles, customizedStyles, props.styles);\n      }; // The __cachedInputs__ array is attached to the function and consumed by the\n      // classNamesFunction as a list of keys to include for memoizing classnames.\n\n\n      concatenatedStyles.__cachedInputs__ = [baseStyles, customizedStyles, props.styles];\n      concatenatedStyles.__noStyleOverride__ = !customizedStyles && !props.styles;\n      styles.current = concatenatedStyles;\n    }\n\n    return React.createElement(Component, __assign({\n      ref: forwardedRef\n    }, rest, additionalProps, props, {\n      styles: styles.current\n    }));\n  }); // Function.prototype.name is an ES6 feature, so the cast to any is required until we're\n  // able to drop IE 11 support and compile with ES6 libs\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  Wrapped.displayName = \"Styled\" + (Component.displayName || Component.name); // This preserves backwards compatibility.\n\n  var pureComponent = pure ? React.memo(Wrapped) : Wrapped; // Check if the wrapper has a displayName after it has been memoized. Then assign it to the pure component.\n\n  if (Wrapped.displayName) {\n    pureComponent.displayName = Wrapped.displayName;\n  }\n\n  return pureComponent;\n}","/**\n * @deprecated Icon type is inferred based on presence of `IIconProps.imageProps`\n * {@docCategory Icon}\n */\nexport var IconType;\n\n(function (IconType) {\n  /**\n   * Render using the fabric icon font.\n   * @deprecated Icon type is inferred based on presence of `IIconProps.imageProps`\n   */\n  IconType[IconType[\"default\"] = 0] = \"default\";\n  /**\n   * Render using an image, where imageProps would be used.\n   * @deprecated Icon type is inferred based on presence of `IIconProps.imageProps`\n   */\n\n  IconType[IconType[\"image\"] = 1] = \"image\";\n  /**\n   * Deprecated, use `default`.\n   * @deprecated Use `default`.\n   */\n\n  IconType[IconType[\"Default\"] = 100000] = \"Default\";\n  /**\n   * Deprecated, use `image`.\n   * @deprecated Use `image`.\n   */\n\n  IconType[IconType[\"Image\"] = 100001] = \"Image\";\n})(IconType || (IconType = {}));","import { mergeCssSets, Stylesheet } from '@uifabric/merge-styles';\nimport { getRTL } from './rtl';\nimport { getWindow } from './dom';\nvar MAX_CACHE_COUNT = 50;\nvar DEFAULT_SPECIFICITY_MULTIPLIER = 5;\nvar _memoizedClassNames = 0;\nvar stylesheet = Stylesheet.getInstance();\n\nif (stylesheet && stylesheet.onReset) {\n  stylesheet.onReset(function () {\n    return _memoizedClassNames++;\n  });\n} // Note that because of the caching nature within the classNames memoization,\n// I've disabled this rule to simply be able to work with any types.\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n// This represents a prop we attach to each Map to indicate the cached return value\n// associated with the graph node.\n\n\nvar retVal = '__retval__';\n/**\n * Creates a getClassNames function which calls getStyles given the props, and injects them\n * into mergeStyleSets.\n *\n * Note that the props you pass in on every render should be in the same order and\n * immutable (numbers, strings, and booleans). This will allow the results to be memoized. Violating\n * these will cause extra recalcs to occur.\n */\n\nexport function classNamesFunction(options) {\n  // We build a trie where each node is a Map. The map entry key represents an argument\n  // value, and the entry value is another node (Map). Each node has a `__retval__`\n  // property which is used to hold the cached response.\n  if (options === void 0) {\n    options = {};\n  } // To derive the response, we can simply ensure the arguments are added or already\n  // exist in the trie. At the last node, if there is a `__retval__` we return that. Otherwise\n  // we call the `getStyles` api to evaluate, cache on the property, and return that.\n\n\n  var map = new Map();\n  var styleCalcCount = 0;\n  var getClassNamesCount = 0;\n  var currentMemoizedClassNames = _memoizedClassNames;\n\n  var getClassNames = function getClassNames(styleFunctionOrObject, styleProps) {\n    if (styleProps === void 0) {\n      styleProps = {};\n    }\n\n    var _a, _b; // If useStaticStyles is true, styleFunctionOrObject returns slot to classname mappings.\n    // If there is also no style overrides, we can skip merge styles completely and\n    // simply return the result from the style funcion.\n\n\n    if (options.useStaticStyles && typeof styleFunctionOrObject === 'function' && styleFunctionOrObject.__noStyleOverride__) {\n      return styleFunctionOrObject(styleProps);\n    }\n\n    getClassNamesCount++;\n    var current = map;\n    var theme = styleProps.theme;\n    var rtl = theme && theme.rtl !== undefined ? theme.rtl : getRTL();\n    var disableCaching = options.disableCaching; // On reset of our stylesheet, reset memoized cache.\n\n    if (currentMemoizedClassNames !== _memoizedClassNames) {\n      currentMemoizedClassNames = _memoizedClassNames;\n      map = new Map();\n      styleCalcCount = 0;\n    }\n\n    if (!options.disableCaching) {\n      current = _traverseMap(map, styleFunctionOrObject);\n      current = _traverseMap(current, styleProps);\n    }\n\n    if (disableCaching || !current[retVal]) {\n      if (styleFunctionOrObject === undefined) {\n        current[retVal] = {};\n      } else {\n        current[retVal] = mergeCssSets([typeof styleFunctionOrObject === 'function' ? styleFunctionOrObject(styleProps) : styleFunctionOrObject], {\n          rtl: !!rtl,\n          specificityMultiplier: options.useStaticStyles ? DEFAULT_SPECIFICITY_MULTIPLIER : undefined\n        });\n      }\n\n      if (!disableCaching) {\n        styleCalcCount++;\n      }\n    }\n\n    if (styleCalcCount > (options.cacheSize || MAX_CACHE_COUNT)) {\n      var win = getWindow();\n\n      if ((_b = (_a = win) === null || _a === void 0 ? void 0 : _a.FabricConfig) === null || _b === void 0 ? void 0 : _b.enableClassNameCacheFullWarning) {\n        // eslint-disable-next-line no-console\n        console.warn(\"Styles are being recalculated too frequently. Cache miss rate is \" + styleCalcCount + \"/\" + getClassNamesCount + \".\"); // eslint-disable-next-line no-console\n\n        console.trace();\n      }\n\n      map.clear();\n      styleCalcCount = 0; // Mutate the options passed in, that's all we can do.\n\n      options.disableCaching = true;\n    } // Note: the retVal is an attached property on the Map; not a key in the Map. We use this attached property to\n    // cache the return value for this branch of the graph.\n\n\n    return current[retVal];\n  };\n\n  return getClassNames;\n}\n\nfunction _traverseEdge(current, value) {\n  value = _normalizeValue(value);\n\n  if (!current.has(value)) {\n    current.set(value, new Map());\n  }\n\n  return current.get(value);\n}\n\nfunction _traverseMap(current, inputs) {\n  if (typeof inputs === 'function') {\n    var cachedInputsFromStyled = inputs.__cachedInputs__;\n\n    if (cachedInputsFromStyled) {\n      // The styled helper will generate the styles function and will attach the cached\n      // inputs (consisting of the default styles, customzied styles, and user provided styles.)\n      // These should be used as cache keys for deriving the memoized value.\n      for (var _i = 0, _a = inputs.__cachedInputs__; _i < _a.length; _i++) {\n        var input = _a[_i];\n        current = _traverseEdge(current, input);\n      }\n    } else {\n      current = _traverseEdge(current, inputs);\n    }\n  } else if (typeof inputs === 'object') {\n    for (var propName in inputs) {\n      if (inputs.hasOwnProperty(propName)) {\n        current = _traverseEdge(current, inputs[propName]);\n      }\n    }\n  }\n\n  return current;\n}\n\nfunction _normalizeValue(value) {\n  switch (value) {\n    case undefined:\n      return '__undefined__';\n\n    case null:\n      return '__null__';\n\n    default:\n      return value;\n  }\n}","/**\n * The possible methods that can be used to fit the image.\n * {@docCategory Image}\n */\nexport var ImageFit;\n\n(function (ImageFit) {\n  /**\n   * The image is not scaled. The image is centered and cropped within the content box.\n   */\n  ImageFit[ImageFit[\"center\"] = 0] = \"center\";\n  /**\n   * The image is scaled to maintain its aspect ratio while being fully contained within the frame. The image will\n   * be centered horizontally and vertically within the frame. The space in the top and bottom or in the sides of\n   * the frame will be empty depending on the difference in aspect ratio between the image and the frame.\n   */\n\n  ImageFit[ImageFit[\"contain\"] = 1] = \"contain\";\n  /**\n   * The image is scaled to maintain its aspect ratio while filling the frame. Portions of the image will be cropped\n   * from the top and bottom, or the sides, depending on the difference in aspect ratio between the image and the frame.\n   */\n\n  ImageFit[ImageFit[\"cover\"] = 2] = \"cover\";\n  /**\n   * Neither the image nor the frame are scaled. If their sizes do not match, the image will either be cropped or the\n   * frame will have empty space.\n   */\n\n  ImageFit[ImageFit[\"none\"] = 3] = \"none\";\n  /**\n   * The image will be centered horizontally and vertically within the frame and maintains its aspect ratio. It will\n   * behave as ImageFit.center if the image's natural height or width is less than the Image frame's height or width,\n   * but if both natural height and width are larger than the frame it will behave as ImageFit.cover.\n   */\n\n  ImageFit[ImageFit[\"centerCover\"] = 4] = \"centerCover\";\n  /**\n   * The image will be centered horizontally and vertically within the frame and maintains its aspect ratio. It will\n   * behave as ImageFit.center if the image's natural height and width is less than the Image frame's height and width,\n   * but if either natural height or width are larger than the frame it will behave as ImageFit.contain.\n   */\n\n  ImageFit[ImageFit[\"centerContain\"] = 5] = \"centerContain\";\n})(ImageFit || (ImageFit = {}));\n/**\n * The cover style to be used on the image\n * {@docCategory Image}\n */\n\n\nexport var ImageCoverStyle;\n\n(function (ImageCoverStyle) {\n  /**\n   * The image will be shown at 100% height of container and the width will be scaled accordingly\n   */\n  ImageCoverStyle[ImageCoverStyle[\"landscape\"] = 0] = \"landscape\";\n  /**\n   * The image will be shown at 100% width of container and the height will be scaled accordingly\n   */\n\n  ImageCoverStyle[ImageCoverStyle[\"portrait\"] = 1] = \"portrait\";\n})(ImageCoverStyle || (ImageCoverStyle = {}));\n/**\n * {@docCategory Image}\n */\n\n\nexport var ImageLoadState;\n\n(function (ImageLoadState) {\n  /**\n   * The image has not yet been loaded, and there is no error yet.\n   */\n  ImageLoadState[ImageLoadState[\"notLoaded\"] = 0] = \"notLoaded\";\n  /**\n   * The image has been loaded successfully.\n   */\n\n  ImageLoadState[ImageLoadState[\"loaded\"] = 1] = \"loaded\";\n  /**\n   * An error has been encountered while loading the image.\n   */\n\n  ImageLoadState[ImageLoadState[\"error\"] = 2] = \"error\";\n  /**\n   * Deprecated at v1.3.6, to replace the src in case of errors, use `onLoadingStateChange` instead\n   * and rerender the Image with a difference src.\n   * @deprecated Use `onLoadingStateChange` instead\n   * and rerender the Image with a difference src.\n   */\n\n  ImageLoadState[ImageLoadState[\"errorLoaded\"] = 3] = \"errorLoaded\";\n})(ImageLoadState || (ImageLoadState = {}));","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { classNamesFunction, getNativeProps, imgProperties } from '../../Utilities';\nimport { ImageCoverStyle, ImageFit, ImageLoadState } from './Image.types';\nvar getClassNames = classNamesFunction();\nvar KEY_PREFIX = 'fabricImage';\n\nvar ImageBase =\n/** @class */\nfunction (_super) {\n  __extends(ImageBase, _super);\n\n  function ImageBase(props) {\n    var _this = _super.call(this, props) || this; // Make an initial assumption about the image layout until we can\n    // check the rendered element. The value here only takes effect when\n    // shouldStartVisible is true.\n\n\n    _this._coverStyle = ImageCoverStyle.portrait;\n    _this._imageElement = React.createRef();\n    _this._frameElement = React.createRef();\n\n    _this._onImageLoaded = function (ev) {\n      var _a = _this.props,\n          src = _a.src,\n          onLoad = _a.onLoad;\n\n      if (onLoad) {\n        onLoad(ev);\n      }\n\n      _this._computeCoverStyle(_this.props);\n\n      if (src) {\n        _this.setState({\n          loadState: ImageLoadState.loaded\n        });\n      }\n    };\n\n    _this._onImageError = function (ev) {\n      if (_this.props.onError) {\n        _this.props.onError(ev);\n      }\n\n      _this.setState({\n        loadState: ImageLoadState.error\n      });\n    };\n\n    _this.state = {\n      loadState: ImageLoadState.notLoaded\n    };\n    return _this;\n  }\n\n  ImageBase.prototype.UNSAFE_componentWillReceiveProps = function (nextProps) {\n    if (nextProps.src !== this.props.src) {\n      this.setState({\n        loadState: ImageLoadState.notLoaded\n      });\n    } else if (this.state.loadState === ImageLoadState.loaded) {\n      this._computeCoverStyle(nextProps);\n    }\n  };\n\n  ImageBase.prototype.componentDidUpdate = function (prevProps, prevState) {\n    this._checkImageLoaded();\n\n    if (this.props.onLoadingStateChange && prevState.loadState !== this.state.loadState) {\n      this.props.onLoadingStateChange(this.state.loadState);\n    }\n  };\n\n  ImageBase.prototype.render = function () {\n    var imageProps = getNativeProps(this.props, imgProperties, ['width', 'height']);\n    var _a = this.props,\n        src = _a.src,\n        alt = _a.alt,\n        width = _a.width,\n        height = _a.height,\n        shouldFadeIn = _a.shouldFadeIn,\n        shouldStartVisible = _a.shouldStartVisible,\n        className = _a.className,\n        imageFit = _a.imageFit,\n        role = _a.role,\n        maximizeFrame = _a.maximizeFrame,\n        styles = _a.styles,\n        theme = _a.theme;\n    var loadState = this.state.loadState;\n    var coverStyle = this.props.coverStyle !== undefined ? this.props.coverStyle : this._coverStyle;\n    var classNames = getClassNames(styles, {\n      theme: theme,\n      className: className,\n      width: width,\n      height: height,\n      maximizeFrame: maximizeFrame,\n      shouldFadeIn: shouldFadeIn,\n      shouldStartVisible: shouldStartVisible,\n      isLoaded: loadState === ImageLoadState.loaded || loadState === ImageLoadState.notLoaded && this.props.shouldStartVisible,\n      isLandscape: coverStyle === ImageCoverStyle.landscape,\n      isCenter: imageFit === ImageFit.center,\n      isCenterContain: imageFit === ImageFit.centerContain,\n      isCenterCover: imageFit === ImageFit.centerCover,\n      isContain: imageFit === ImageFit.contain,\n      isCover: imageFit === ImageFit.cover,\n      isNone: imageFit === ImageFit.none,\n      isError: loadState === ImageLoadState.error,\n      isNotImageFit: imageFit === undefined\n    }); // If image dimensions aren't specified, the natural size of the image is used.\n\n    return React.createElement(\"div\", {\n      className: classNames.root,\n      style: {\n        width: width,\n        height: height\n      },\n      ref: this._frameElement\n    }, React.createElement(\"img\", __assign({}, imageProps, {\n      onLoad: this._onImageLoaded,\n      onError: this._onImageError,\n      key: KEY_PREFIX + this.props.src || '',\n      className: classNames.image,\n      ref: this._imageElement,\n      src: src,\n      alt: alt,\n      role: role\n    })));\n  };\n\n  ImageBase.prototype._checkImageLoaded = function () {\n    var src = this.props.src;\n    var loadState = this.state.loadState;\n\n    if (loadState === ImageLoadState.notLoaded) {\n      // testing if naturalWidth and naturalHeight are greater than zero is better than checking\n      // .complete, because .complete will also be set to true if the image breaks. However,\n      // for some browsers, SVG images do not have a naturalWidth or naturalHeight, so fall back\n      // to checking .complete for these images.\n      var isLoaded = this._imageElement.current ? src && this._imageElement.current.naturalWidth > 0 && this._imageElement.current.naturalHeight > 0 || this._imageElement.current.complete && ImageBase._svgRegex.test(src) : false;\n\n      if (isLoaded) {\n        this._computeCoverStyle(this.props);\n\n        this.setState({\n          loadState: ImageLoadState.loaded\n        });\n      }\n    }\n  };\n\n  ImageBase.prototype._computeCoverStyle = function (props) {\n    var imageFit = props.imageFit,\n        width = props.width,\n        height = props.height; // Do not compute cover style if it was already specified in props\n\n    if ((imageFit === ImageFit.cover || imageFit === ImageFit.contain || imageFit === ImageFit.centerContain || imageFit === ImageFit.centerCover) && this.props.coverStyle === undefined && this._imageElement.current && this._frameElement.current) {\n      // Determine the desired ratio using the width and height props.\n      // If those props aren't available, measure measure the frame.\n      var desiredRatio = void 0;\n\n      if (typeof width === 'number' && typeof height === 'number' && imageFit !== ImageFit.centerContain && imageFit !== ImageFit.centerCover) {\n        desiredRatio = width / height;\n      } else {\n        desiredRatio = this._frameElement.current.clientWidth / this._frameElement.current.clientHeight;\n      } // Examine the source image to determine its original ratio.\n\n\n      var naturalRatio = this._imageElement.current.naturalWidth / this._imageElement.current.naturalHeight; // Should we crop from the top or the sides?\n\n      if (naturalRatio > desiredRatio) {\n        this._coverStyle = ImageCoverStyle.landscape;\n      } else {\n        this._coverStyle = ImageCoverStyle.portrait;\n      }\n    }\n  };\n\n  ImageBase.defaultProps = {\n    shouldFadeIn: true\n  };\n  ImageBase._svgRegex = /\\.svg$/i;\n  return ImageBase;\n}(React.Component);\n\nexport { ImageBase };","import { AnimationClassNames, getGlobalClassNames } from '../../Styling';\nimport { getWindow } from '../../Utilities';\nvar GlobalClassNames = {\n  root: 'ms-Image',\n  rootMaximizeFrame: 'ms-Image--maximizeFrame',\n  image: 'ms-Image-image',\n  imageCenter: 'ms-Image-image--center',\n  imageContain: 'ms-Image-image--contain',\n  imageCover: 'ms-Image-image--cover',\n  imageCenterContain: 'ms-Image-image--centerContain',\n  imageCenterCover: 'ms-Image-image--centerCover',\n  imageNone: 'ms-Image-image--none',\n  imageLandscape: 'ms-Image-image--landscape',\n  imagePortrait: 'ms-Image-image--portrait'\n};\nexport var getStyles = function getStyles(props) {\n  var className = props.className,\n      width = props.width,\n      height = props.height,\n      maximizeFrame = props.maximizeFrame,\n      isLoaded = props.isLoaded,\n      shouldFadeIn = props.shouldFadeIn,\n      shouldStartVisible = props.shouldStartVisible,\n      isLandscape = props.isLandscape,\n      isCenter = props.isCenter,\n      isContain = props.isContain,\n      isCover = props.isCover,\n      isCenterContain = props.isCenterContain,\n      isCenterCover = props.isCenterCover,\n      isNone = props.isNone,\n      isError = props.isError,\n      isNotImageFit = props.isNotImageFit,\n      theme = props.theme;\n  var classNames = getGlobalClassNames(GlobalClassNames, theme);\n  var ImageFitStyles = {\n    position: 'absolute',\n    left: '50% /* @noflip */',\n    top: '50%',\n    transform: 'translate(-50%,-50%)'\n  }; // Cut the mustard using msMaxTouchPoints to detect IE11 which does not support CSS object-fit\n\n  var window = getWindow();\n  var supportsObjectFit = window !== undefined && window.navigator.msMaxTouchPoints === undefined;\n  var fallbackObjectFitStyles = isContain && isLandscape || isCover && !isLandscape ? {\n    width: '100%',\n    height: 'auto'\n  } : {\n    width: 'auto',\n    height: '100%'\n  };\n  return {\n    root: [classNames.root, theme.fonts.medium, {\n      overflow: 'hidden'\n    }, maximizeFrame && [classNames.rootMaximizeFrame, {\n      height: '100%',\n      width: '100%'\n    }], isLoaded && shouldFadeIn && !shouldStartVisible && AnimationClassNames.fadeIn400, (isCenter || isContain || isCover || isCenterContain || isCenterCover) && {\n      position: 'relative'\n    }, className],\n    image: [classNames.image, {\n      display: 'block',\n      opacity: 0\n    }, isLoaded && ['is-loaded', {\n      opacity: 1\n    }], isCenter && [classNames.imageCenter, ImageFitStyles], isContain && [classNames.imageContain, supportsObjectFit && {\n      width: '100%',\n      height: '100%',\n      objectFit: 'contain'\n    }, !supportsObjectFit && fallbackObjectFitStyles, ImageFitStyles], isCover && [classNames.imageCover, supportsObjectFit && {\n      width: '100%',\n      height: '100%',\n      objectFit: 'cover'\n    }, !supportsObjectFit && fallbackObjectFitStyles, ImageFitStyles], isCenterContain && [classNames.imageCenterContain, isLandscape && {\n      maxWidth: '100%'\n    }, !isLandscape && {\n      maxHeight: '100%'\n    }, ImageFitStyles], isCenterCover && [classNames.imageCenterCover, isLandscape && {\n      maxHeight: '100%'\n    }, !isLandscape && {\n      maxWidth: '100%'\n    }, ImageFitStyles], isNone && [classNames.imageNone, {\n      width: 'auto',\n      height: 'auto'\n    }], isNotImageFit && [!!width && !height && {\n      height: 'auto',\n      width: '100%'\n    }, !width && !!height && {\n      height: '100%',\n      width: 'auto'\n    }, !!width && !!height && {\n      height: '100%',\n      width: '100%'\n    }], isLandscape && classNames.imageLandscape, !isLandscape && classNames.imagePortrait, !isLoaded && 'is-notLoaded', shouldFadeIn && 'is-fadeIn', isError && 'is-error']\n  };\n};","import { styled } from '../../Utilities';\nimport { ImageBase } from './Image.base';\nimport { getStyles } from './Image.styles';\nexport var Image = styled(ImageBase, getStyles, undefined, {\n  scope: 'Image'\n}, true);","import { mergeStyleSets } from '../../Styling';\n/** Class names used in themeable and non-themeable Icon components */\n\nexport var classNames = mergeStyleSets({\n  root: {\n    display: 'inline-block'\n  },\n  placeholder: ['ms-Icon-placeHolder', {\n    width: '1em'\n  }],\n  image: ['ms-Icon-imageContainer', {\n    overflow: 'hidden'\n  }]\n});\n/** Class name used only in non-themeable Icon components */\n\nexport var MS_ICON = 'ms-Icon';\nexport var getStyles = function getStyles(props) {\n  var className = props.className,\n      iconClassName = props.iconClassName,\n      isPlaceholder = props.isPlaceholder,\n      isImage = props.isImage,\n      styles = props.styles;\n  return {\n    root: [isPlaceholder && classNames.placeholder, classNames.root, isImage && classNames.image, iconClassName, className, styles && styles.root, // eslint-disable-next-line deprecation/deprecation\n    styles && styles.imageContainer]\n  };\n};","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { classNames, MS_ICON } from './Icon.styles';\nimport { css, getNativeProps, htmlElementProperties, memoizeFunction } from '../../Utilities';\nimport { getIcon } from '../../Styling';\nexport var getIconContent = memoizeFunction(function (iconName) {\n  var _a = getIcon(iconName) || {\n    subset: {},\n    code: undefined\n  },\n      code = _a.code,\n      subset = _a.subset;\n\n  if (!code) {\n    return null;\n  }\n\n  return {\n    children: code,\n    iconClassName: subset.className,\n    fontFamily: subset.fontFace && subset.fontFace.fontFamily\n  };\n}, undefined, true\n/*ignoreNullOrUndefinedResult */\n);\n/**\n * Fast icon component which only supports font glyphs (not images) and can't be targeted by customizations.\n * To style the icon, use `className` or reference `ms-Icon` in CSS.\n * {@docCategory Icon}\n */\n\nexport var FontIcon = function FontIcon(props) {\n  var iconName = props.iconName,\n      className = props.className,\n      _a = props.style,\n      style = _a === void 0 ? {} : _a;\n  var iconContent = getIconContent(iconName) || {};\n  var iconClassName = iconContent.iconClassName,\n      children = iconContent.children,\n      fontFamily = iconContent.fontFamily;\n  var nativeProps = getNativeProps(props, htmlElementProperties);\n  var containerProps = props['aria-label'] ? {} : {\n    role: 'presentation',\n    'aria-hidden': true\n  };\n  return React.createElement(\"i\", __assign({\n    \"data-icon-name\": iconName\n  }, containerProps, nativeProps, {\n    className: css(MS_ICON, classNames.root, iconClassName, !iconName && classNames.placeholder, className),\n    // Apply the font family this way to ensure it doesn't get overridden by Fabric Core ms-Icon styles\n    // https://github.com/microsoft/fluentui/issues/10449\n    style: __assign({\n      fontFamily: fontFamily\n    }, style)\n  }), children);\n};\n/**\n * Memoized helper for rendering a FontIcon.\n * @param iconName - The name of the icon to use from the icon font.\n * @param className - Class name for styling the icon.\n * @param ariaLabel - Label for the icon for the benefit of screen readers.\n * {@docCategory Icon}\n */\n\nexport var getFontIcon = memoizeFunction(function (iconName, className, ariaLabel) {\n  return FontIcon({\n    iconName: iconName,\n    className: className,\n    'aria-label': ariaLabel\n  });\n});","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { IconType } from './Icon.types';\nimport { Image } from '../Image/Image';\nimport { ImageLoadState } from '../Image/Image.types';\nimport { getNativeProps, htmlElementProperties, classNamesFunction } from '../../Utilities';\nimport { getIconContent } from './FontIcon';\nvar getClassNames = classNamesFunction({\n  // Icon is used a lot by other components.\n  // It's likely to see expected cases which pass different className to the Icon.\n  // Therefore setting a larger cache size.\n  cacheSize: 100\n});\n\nvar IconBase =\n/** @class */\nfunction (_super) {\n  __extends(IconBase, _super);\n\n  function IconBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._onImageLoadingStateChange = function (state) {\n      if (_this.props.imageProps && _this.props.imageProps.onLoadingStateChange) {\n        _this.props.imageProps.onLoadingStateChange(state);\n      }\n\n      if (state === ImageLoadState.error) {\n        _this.setState({\n          imageLoadError: true\n        });\n      }\n    };\n\n    _this.state = {\n      imageLoadError: false\n    };\n    return _this;\n  }\n\n  IconBase.prototype.render = function () {\n    var _a = this.props,\n        children = _a.children,\n        className = _a.className,\n        styles = _a.styles,\n        iconName = _a.iconName,\n        imageErrorAs = _a.imageErrorAs,\n        theme = _a.theme;\n    var isPlaceholder = typeof iconName === 'string' && iconName.length === 0;\n    var isImage = // eslint-disable-next-line deprecation/deprecation\n    !!this.props.imageProps || this.props.iconType === IconType.image || this.props.iconType === IconType.Image;\n    var iconContent = getIconContent(iconName) || {};\n    var iconClassName = iconContent.iconClassName,\n        iconContentChildren = iconContent.children;\n    var classNames = getClassNames(styles, {\n      theme: theme,\n      className: className,\n      iconClassName: iconClassName,\n      isImage: isImage,\n      isPlaceholder: isPlaceholder\n    });\n    var RootType = isImage ? 'span' : 'i';\n    var nativeProps = getNativeProps(this.props, htmlElementProperties, ['aria-label']);\n    var imageLoadError = this.state.imageLoadError;\n\n    var imageProps = __assign(__assign({}, this.props.imageProps), {\n      onLoadingStateChange: this._onImageLoadingStateChange\n    });\n\n    var ImageType = imageLoadError && imageErrorAs || Image; // eslint-disable-next-line deprecation/deprecation\n\n    var ariaLabel = this.props['aria-label'] || this.props.ariaLabel;\n    var containerProps = ariaLabel ? {\n      'aria-label': ariaLabel\n    } : {\n      'aria-hidden': this.props['aria-labelledby'] || imageProps['aria-labelledby'] ? false : true\n    };\n    return React.createElement(RootType, __assign({\n      \"data-icon-name\": iconName\n    }, containerProps, nativeProps, {\n      className: classNames.root\n    }), isImage ? React.createElement(ImageType, __assign({}, imageProps)) : children || iconContentChildren);\n  };\n\n  return IconBase;\n}(React.Component);\n\nexport { IconBase };","import { styled } from '../../Utilities';\nimport { IconBase } from './Icon.base';\nimport { getStyles } from './Icon.styles';\n/**\n * Legacy Icon component which can be targeted by customization. It's recommended to use `FontIcon`\n * or `ImageIcon` instead, especially in scenarios where rendering performance is important.\n * {@docCategory Icon}\n */\n\nexport var Icon = styled(IconBase, getStyles, undefined, {\n  scope: 'Icon'\n}, true);\nIcon.displayName = 'Icon';","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { Image } from '../Image/Image';\nimport { css, getNativeProps, htmlElementProperties } from '../../Utilities';\nimport { classNames, MS_ICON } from './Icon.styles';\n/**\n * Fast icon component which only supports images (not font glyphs) and can't be targeted by customizations.\n * To style the icon, use `className` or reference `ms-Icon` in CSS.\n * {@docCategory Icon}\n */\n\nexport var ImageIcon = function ImageIcon(props) {\n  var className = props.className,\n      imageProps = props.imageProps;\n  var nativeProps = getNativeProps(props, htmlElementProperties);\n  var containerProps = props['aria-label'] ? {} : {\n    role: 'presentation',\n    'aria-hidden': imageProps.alt || imageProps['aria-labelledby'] ? false : true\n  };\n  return React.createElement(\"div\", __assign({}, containerProps, nativeProps, {\n    className: css(MS_ICON, classNames.root, classNames.image, className)\n  }), React.createElement(Image, __assign({}, imageProps)));\n};","export { DirectionalHint } from '../../common/DirectionalHint';\n/**\n * {@docCategory ContextualMenu}\n */\n\nexport var ContextualMenuItemType;\n\n(function (ContextualMenuItemType) {\n  ContextualMenuItemType[ContextualMenuItemType[\"Normal\"] = 0] = \"Normal\";\n  ContextualMenuItemType[ContextualMenuItemType[\"Divider\"] = 1] = \"Divider\";\n  ContextualMenuItemType[ContextualMenuItemType[\"Header\"] = 2] = \"Header\";\n  ContextualMenuItemType[ContextualMenuItemType[\"Section\"] = 3] = \"Section\";\n})(ContextualMenuItemType || (ContextualMenuItemType = {}));","export var DirectionalHint = {\n  /**\n   * Appear above the target element, with the left edges of the callout and target aligning.\n   */\n  topLeftEdge: 0,\n\n  /**\n   * Appear above the target element, with the centers of the callout and target aligning.\n   */\n  topCenter: 1,\n\n  /**\n   * Appear above the target element, with the right edges of the callout and target aligning.\n   */\n  topRightEdge: 2,\n\n  /**\n   * Appear above the target element, aligning with the target element such that the callout tends toward\n   * the center of the screen.\n   */\n  topAutoEdge: 3,\n\n  /**\n   * Appear below the target element, with the left edges of the callout and target aligning.\n   */\n  bottomLeftEdge: 4,\n\n  /**\n   * Appear below the target element, with the centers of the callout and target aligning.\n   */\n  bottomCenter: 5,\n\n  /**\n   * Appear below the target element, with the right edges of the callout and target aligning.\n   */\n  bottomRightEdge: 6,\n\n  /**\n   * Appear below the target element, aligning with the target element such that the callout tends toward\n   * the center of the screen.\n   */\n  bottomAutoEdge: 7,\n\n  /**\n   * Appear to the left of the target element, with the top edges of the callout and target aligning.\n   */\n  leftTopEdge: 8,\n\n  /**\n   * Appear to the left of the target element, with the centers of the callout and target aligning.\n   */\n  leftCenter: 9,\n\n  /**\n   * Appear to the left of the target element, with the bottom edges of the callout and target aligning.\n   */\n  leftBottomEdge: 10,\n\n  /**\n   * Appear to the right of the target element, with the top edges of the callout and target aligning.\n   */\n  rightTopEdge: 11,\n\n  /**\n   * Appear to the right of the target element, with the centers of the callout and target aligning.\n   */\n  rightCenter: 12,\n\n  /**\n   * Appear to the right of the target element, with the bottom edges of the callout and target aligning.\n   */\n  rightBottomEdge: 13\n};","/**\n * {@docCategory FocusZone}\n */\nexport var FocusZoneTabbableElements = {\n  /** Tabbing is not allowed */\n  none: 0,\n\n  /** All tabbing action is allowed */\n  all: 1,\n\n  /** Tabbing is allowed only on input elements */\n  inputOnly: 2\n};\n/**\n * {@docCategory FocusZone}\n */\n\nexport var FocusZoneDirection;\n\n(function (FocusZoneDirection) {\n  /** Only react to up/down arrows. */\n  FocusZoneDirection[FocusZoneDirection[\"vertical\"] = 0] = \"vertical\";\n  /** Only react to left/right arrows. */\n\n  FocusZoneDirection[FocusZoneDirection[\"horizontal\"] = 1] = \"horizontal\";\n  /** React to all arrows. */\n\n  FocusZoneDirection[FocusZoneDirection[\"bidirectional\"] = 2] = \"bidirectional\";\n  /**\n   * React to all arrows. Navigate next item in DOM on right/down arrow keys and previous - left/up arrow keys.\n   * Right and Left arrow keys are swapped in RTL mode.\n   */\n\n  FocusZoneDirection[FocusZoneDirection[\"domOrder\"] = 3] = \"domOrder\";\n})(FocusZoneDirection || (FocusZoneDirection = {}));","import { getParent } from './getParent';\n/**\n * Determines whether or not a parent element contains a given child element.\n * If `allowVirtualParents` is true, this method may return `true` if the child\n * has the parent in its virtual element hierarchy.\n *\n * @public\n */\n\nexport function elementContains(parent, child, allowVirtualParents) {\n  if (allowVirtualParents === void 0) {\n    allowVirtualParents = true;\n  }\n\n  var isContained = false;\n\n  if (parent && child) {\n    if (allowVirtualParents) {\n      if (parent === child) {\n        isContained = true;\n      } else {\n        isContained = false;\n\n        while (child) {\n          var nextParent = getParent(child);\n\n          if (nextParent === parent) {\n            isContained = true;\n            break;\n          }\n\n          child = nextParent;\n        }\n      }\n    } else if (parent.contains) {\n      isContained = parent.contains(child);\n    }\n  }\n\n  return isContained;\n}","import { elementContainsAttribute } from './dom/elementContainsAttribute';\nimport { elementContains } from './dom/elementContains';\nimport { getParent } from './dom/getParent';\nimport { getWindow } from './dom/getWindow';\nimport { getDocument } from './dom/getDocument';\nvar IS_FOCUSABLE_ATTRIBUTE = 'data-is-focusable';\nvar IS_VISIBLE_ATTRIBUTE = 'data-is-visible';\nvar FOCUSZONE_ID_ATTRIBUTE = 'data-focuszone-id';\nvar FOCUSZONE_SUB_ATTRIBUTE = 'data-is-sub-focuszone';\n/**\n * Gets the first focusable element.\n *\n * @public\n */\n\nexport function getFirstFocusable(rootElement, currentElement, includeElementsInFocusZones) {\n  return getNextElement(rootElement, currentElement, true\n  /*checkNode*/\n  , false\n  /*suppressParentTraversal*/\n  , false\n  /*suppressChildTraversal*/\n  , includeElementsInFocusZones);\n}\n/**\n * Gets the last focusable element.\n *\n * @public\n */\n\nexport function getLastFocusable(rootElement, currentElement, includeElementsInFocusZones) {\n  return getPreviousElement(rootElement, currentElement, true\n  /*checkNode*/\n  , false\n  /*suppressParentTraversal*/\n  , true\n  /*traverseChildren*/\n  , includeElementsInFocusZones);\n}\n/**\n * Gets the first tabbable element. (The difference between focusable and tabbable is that tabbable elements are\n * focusable elements that also have tabIndex != -1.)\n * @param rootElement - The parent element to search beneath.\n * @param currentElement - The descendant of rootElement to start the search at.  This element is the first one checked,\n * and iteration continues forward.  Typical use passes rootElement.firstChild.\n * @param includeElementsInFocusZones - true if traversal should go into FocusZone descendants.\n * @param checkNode - Include currentElement in search when true. Defaults to true.\n * @public\n */\n\nexport function getFirstTabbable(rootElement, currentElement, includeElementsInFocusZones, checkNode) {\n  if (checkNode === void 0) {\n    checkNode = true;\n  }\n\n  return getNextElement(rootElement, currentElement, checkNode, false\n  /*suppressParentTraversal*/\n  , false\n  /*suppressChildTraversal*/\n  , includeElementsInFocusZones, false\n  /*allowFocusRoot*/\n  , true\n  /*tabbable*/\n  );\n}\n/**\n * Gets the last tabbable element. (The difference between focusable and tabbable is that tabbable elements are\n * focusable elements that also have tabIndex != -1.)\n * @param rootElement - The parent element to search beneath.\n * @param currentElement - The descendant of rootElement to start the search at.  This element is the first one checked,\n * and iteration continues in reverse.  Typical use passes rootElement.lastChild.\n * @param includeElementsInFocusZones - true if traversal should go into FocusZone descendants.\n * @param checkNode - Include currentElement in search when true. Defaults to true.\n * @public\n */\n\nexport function getLastTabbable(rootElement, currentElement, includeElementsInFocusZones, checkNode) {\n  if (checkNode === void 0) {\n    checkNode = true;\n  }\n\n  return getPreviousElement(rootElement, currentElement, checkNode, false\n  /*suppressParentTraversal*/\n  , true\n  /*traverseChildren*/\n  , includeElementsInFocusZones, false\n  /*allowFocusRoot*/\n  , true\n  /*tabbable*/\n  );\n}\n/**\n * Attempts to focus the first focusable element that is a child or child's child of the rootElement.\n *\n * @public\n * @param rootElement - Element to start the search for a focusable child.\n * @returns True if focus was set, false if it was not.\n */\n\nexport function focusFirstChild(rootElement) {\n  var element = getNextElement(rootElement, rootElement, true, false, false, true);\n\n  if (element) {\n    focusAsync(element);\n    return true;\n  }\n\n  return false;\n}\n/**\n * Traverse to find the previous element.\n * If tabbable is true, the element must have tabIndex != -1.\n *\n * @public\n */\n\nexport function getPreviousElement(rootElement, currentElement, checkNode, suppressParentTraversal, traverseChildren, includeElementsInFocusZones, allowFocusRoot, tabbable) {\n  if (!currentElement || !allowFocusRoot && currentElement === rootElement) {\n    return null;\n  }\n\n  var isCurrentElementVisible = isElementVisible(currentElement); // Check its children.\n\n  if (traverseChildren && isCurrentElementVisible && (includeElementsInFocusZones || !(isElementFocusZone(currentElement) || isElementFocusSubZone(currentElement)))) {\n    var childMatch = getPreviousElement(rootElement, currentElement.lastElementChild, true, true, true, includeElementsInFocusZones, allowFocusRoot, tabbable);\n\n    if (childMatch) {\n      if (tabbable && isElementTabbable(childMatch, true) || !tabbable) {\n        return childMatch;\n      }\n\n      var childMatchSiblingMatch = getPreviousElement(rootElement, childMatch.previousElementSibling, true, true, true, includeElementsInFocusZones, allowFocusRoot, tabbable);\n\n      if (childMatchSiblingMatch) {\n        return childMatchSiblingMatch;\n      }\n\n      var childMatchParent = childMatch.parentElement; // At this point if we have not found any potential matches\n      // start looking at the rest of the subtree under the currentParent.\n      // NOTE: We do not want to recurse here because doing so could\n      // cause elements to get skipped.\n\n      while (childMatchParent && childMatchParent !== currentElement) {\n        var childMatchParentMatch = getPreviousElement(rootElement, childMatchParent.previousElementSibling, true, true, true, includeElementsInFocusZones, allowFocusRoot, tabbable);\n\n        if (childMatchParentMatch) {\n          return childMatchParentMatch;\n        }\n\n        childMatchParent = childMatchParent.parentElement;\n      }\n    }\n  } // Check the current node, if it's not the first traversal.\n\n\n  if (checkNode && isCurrentElementVisible && isElementTabbable(currentElement, tabbable)) {\n    return currentElement;\n  } // Check its previous sibling.\n\n\n  var siblingMatch = getPreviousElement(rootElement, currentElement.previousElementSibling, true, true, true, includeElementsInFocusZones, allowFocusRoot, tabbable);\n\n  if (siblingMatch) {\n    return siblingMatch;\n  } // Check its parent.\n\n\n  if (!suppressParentTraversal) {\n    return getPreviousElement(rootElement, currentElement.parentElement, true, false, false, includeElementsInFocusZones, allowFocusRoot, tabbable);\n  }\n\n  return null;\n}\n/**\n * Traverse to find the next focusable element.\n * If tabbable is true, the element must have tabIndex != -1.\n *\n * @public\n * @param checkNode - Include currentElement in search when true.\n */\n\nexport function getNextElement(rootElement, currentElement, checkNode, suppressParentTraversal, suppressChildTraversal, includeElementsInFocusZones, allowFocusRoot, tabbable) {\n  if (!currentElement || currentElement === rootElement && suppressChildTraversal && !allowFocusRoot) {\n    return null;\n  }\n\n  var isCurrentElementVisible = isElementVisible(currentElement); // Check the current node, if it's not the first traversal.\n\n  if (checkNode && isCurrentElementVisible && isElementTabbable(currentElement, tabbable)) {\n    return currentElement;\n  } // Check its children.\n\n\n  if (!suppressChildTraversal && isCurrentElementVisible && (includeElementsInFocusZones || !(isElementFocusZone(currentElement) || isElementFocusSubZone(currentElement)))) {\n    var childMatch = getNextElement(rootElement, currentElement.firstElementChild, true, true, false, includeElementsInFocusZones, allowFocusRoot, tabbable);\n\n    if (childMatch) {\n      return childMatch;\n    }\n  }\n\n  if (currentElement === rootElement) {\n    return null;\n  } // Check its sibling.\n\n\n  var siblingMatch = getNextElement(rootElement, currentElement.nextElementSibling, true, true, false, includeElementsInFocusZones, allowFocusRoot, tabbable);\n\n  if (siblingMatch) {\n    return siblingMatch;\n  }\n\n  if (!suppressParentTraversal) {\n    return getNextElement(rootElement, currentElement.parentElement, false, false, true, includeElementsInFocusZones, allowFocusRoot, tabbable);\n  }\n\n  return null;\n}\n/**\n * Determines if an element is visible.\n *\n * @public\n */\n\nexport function isElementVisible(element) {\n  // If the element is not valid, return false.\n  if (!element || !element.getAttribute) {\n    return false;\n  }\n\n  var visibilityAttribute = element.getAttribute(IS_VISIBLE_ATTRIBUTE); // If the element is explicitly marked with the visibility attribute, return that value as boolean.\n\n  if (visibilityAttribute !== null && visibilityAttribute !== undefined) {\n    return visibilityAttribute === 'true';\n  } // Fallback to other methods of determining actual visibility.\n\n\n  return element.offsetHeight !== 0 || element.offsetParent !== null || // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  element.isVisible === true; // used as a workaround for testing.\n}\n/**\n * Determines if an element can receive focus programmatically or via a mouse click.\n * If checkTabIndex is true, additionally checks to ensure the element can be focused with the tab key,\n * meaning tabIndex != -1.\n *\n * @public\n */\n\nexport function isElementTabbable(element, checkTabIndex) {\n  // If this element is null or is disabled, it is not considered tabbable.\n  if (!element || element.disabled) {\n    return false;\n  }\n\n  var tabIndex = 0;\n  var tabIndexAttributeValue = null;\n\n  if (element && element.getAttribute) {\n    tabIndexAttributeValue = element.getAttribute('tabIndex');\n\n    if (tabIndexAttributeValue) {\n      tabIndex = parseInt(tabIndexAttributeValue, 10);\n    }\n  }\n\n  var isFocusableAttribute = element.getAttribute ? element.getAttribute(IS_FOCUSABLE_ATTRIBUTE) : null;\n  var isTabIndexSet = tabIndexAttributeValue !== null && tabIndex >= 0;\n  var result = !!element && isFocusableAttribute !== 'false' && (element.tagName === 'A' || element.tagName === 'BUTTON' || element.tagName === 'INPUT' || element.tagName === 'TEXTAREA' || element.tagName === 'SELECT' || isFocusableAttribute === 'true' || isTabIndexSet);\n  return checkTabIndex ? tabIndex !== -1 && result : result;\n}\n/**\n * Determines if a given element is a focus zone.\n *\n * @public\n */\n\nexport function isElementFocusZone(element) {\n  return !!(element && element.getAttribute && !!element.getAttribute(FOCUSZONE_ID_ATTRIBUTE));\n}\n/**\n * Determines if a given element is a focus sub zone.\n *\n * @public\n */\n\nexport function isElementFocusSubZone(element) {\n  return !!(element && element.getAttribute && element.getAttribute(FOCUSZONE_SUB_ATTRIBUTE) === 'true');\n}\n/**\n * Determines if an element, or any of its children, contain focus.\n *\n * @public\n */\n\nexport function doesElementContainFocus(element) {\n  var document = getDocument(element);\n  var currentActiveElement = document && document.activeElement;\n\n  if (currentActiveElement && elementContains(element, currentActiveElement)) {\n    return true;\n  }\n\n  return false;\n}\n/**\n * Determines if an, or any of its ancestors, sepcificies that it doesn't want focus to wrap\n * @param element - element to start searching from\n * @param noWrapDataAttribute - the no wrap data attribute to match (either)\n * @returns true if focus should wrap, false otherwise\n */\n\nexport function shouldWrapFocus(element, noWrapDataAttribute) {\n  return elementContainsAttribute(element, noWrapDataAttribute) === 'true' ? false : true;\n}\nvar targetToFocusOnNextRepaint = undefined;\n/**\n * Sets focus to an element asynchronously. The focus will be set at the next browser repaint,\n * meaning it won't cause any extra recalculations. If more than one focusAsync is called during one frame,\n * only the latest called focusAsync element will actually be focused\n * @param element - The element to focus\n */\n\nexport function focusAsync(element) {\n  if (element) {\n    // An element was already queued to be focused, so replace that one with the new element\n    if (targetToFocusOnNextRepaint) {\n      targetToFocusOnNextRepaint = element;\n      return;\n    }\n\n    targetToFocusOnNextRepaint = element;\n    var win = getWindow(element);\n\n    if (win) {\n      // element.focus() is a no-op if the element is no longer in the DOM, meaning this is always safe\n      win.requestAnimationFrame(function () {\n        var focusableElement = targetToFocusOnNextRepaint; // We are done focusing for this frame, so reset the queued focus element\n\n        targetToFocusOnNextRepaint = undefined;\n\n        if (focusableElement) {\n          if (focusableElement.getAttribute && focusableElement.getAttribute(IS_FOCUSABLE_ATTRIBUTE) === 'true') {\n            // Normally, a FocusZone would be responsible for setting the tabindex values on all its descendants.\n            // However, even this animation frame callback can pre-empt the rendering of a FocusZone's child elements,\n            // so it may be necessary to set the tabindex directly here.\n            if (!focusableElement.getAttribute('tabindex')) {\n              focusableElement.setAttribute('tabindex', '0');\n            }\n          }\n\n          focusableElement.focus();\n        }\n      });\n    }\n  }\n}\n/**\n * Finds the closest focusable element via an index path from a parent. See\n * `getElementIndexPath` for getting an index path from an element to a child.\n */\n\nexport function getFocusableByIndexPath(parent, path) {\n  var element = parent;\n\n  for (var _i = 0, path_1 = path; _i < path_1.length; _i++) {\n    var index = path_1[_i];\n    var nextChild = element.children[Math.min(index, element.children.length - 1)];\n\n    if (!nextChild) {\n      break;\n    }\n\n    element = nextChild;\n  }\n\n  element = isElementTabbable(element) && isElementVisible(element) ? element : getNextElement(parent, element, true) || getPreviousElement(parent, element);\n  return element;\n}\n/**\n * Finds the element index path from a parent element to a child element.\n *\n * If you had this node structure: \"A has children [B, C] and C has child D\",\n * the index path from A to D would be [1, 0], or `parent.chidren[1].children[0]`.\n */\n\nexport function getElementIndexPath(fromElement, toElement) {\n  var path = [];\n\n  while (toElement && fromElement && toElement !== fromElement) {\n    var parent_1 = getParent(toElement, true);\n\n    if (parent_1 === null) {\n      return [];\n    }\n\n    path.unshift(Array.prototype.indexOf.call(parent_1.children, toElement));\n    toElement = parent_1;\n  }\n\n  return path;\n}","import { findElementRecursive } from './findElementRecursive';\n/**\n * Determines if an element, or any of its ancestors, contain the given attribute\n * @param element - element to start searching at\n * @param attribute - the attribute to search for\n * @returns the value of the first instance found\n */\n\nexport function elementContainsAttribute(element, attribute) {\n  var elementMatch = findElementRecursive(element, function (testElement) {\n    return testElement.hasAttribute(attribute);\n  });\n  return elementMatch && elementMatch.getAttribute(attribute);\n}","import { getDocument } from './dom/getDocument';\nimport { mergeStyles } from '@uifabric/merge-styles';\nimport { getWindow } from './dom/getWindow';\n\nvar _scrollbarWidth;\n\nvar _bodyScrollDisabledCount = 0;\nvar DisabledScrollClassName = mergeStyles({\n  overflow: 'hidden !important'\n});\n/**\n * Placing this attribute on scrollable divs optimizes detection to know\n * if the div is scrollable or not (given we can avoid expensive operations\n * like getComputedStyle.)\n *\n * @public\n */\n\nexport var DATA_IS_SCROLLABLE_ATTRIBUTE = 'data-is-scrollable';\n/**\n * Allows the user to scroll within a element,\n * while preventing the user from scrolling the body\n */\n\nexport var allowScrollOnElement = function allowScrollOnElement(element, events) {\n  if (!element) {\n    return;\n  }\n\n  var _previousClientY = 0;\n  var _element = null; // remember the clientY for future calls of _preventOverscrolling\n\n  var _saveClientY = function _saveClientY(event) {\n    if (event.targetTouches.length === 1) {\n      _previousClientY = event.targetTouches[0].clientY;\n    }\n  }; // prevent the body from scrolling when the user attempts\n  // to scroll past the top or bottom of the element\n\n\n  var _preventOverscrolling = function _preventOverscrolling(event) {\n    // only respond to a single-finger touch\n    if (event.targetTouches.length !== 1) {\n      return;\n    } // prevent the body touchmove handler from firing\n    // so that scrolling is allowed within the element\n\n\n    event.stopPropagation();\n\n    if (!_element) {\n      return;\n    }\n\n    var clientY = event.targetTouches[0].clientY - _previousClientY;\n    var scrollableParent = findScrollableParent(event.target);\n\n    if (scrollableParent) {\n      _element = scrollableParent;\n    } // if the element is scrolled to the top,\n    // prevent the user from scrolling up\n\n\n    if (_element.scrollTop === 0 && clientY > 0) {\n      event.preventDefault();\n    } // if the element is scrolled to the bottom,\n    // prevent the user from scrolling down\n\n\n    if (_element.scrollHeight - Math.ceil(_element.scrollTop) <= _element.clientHeight && clientY < 0) {\n      event.preventDefault();\n    }\n  };\n\n  events.on(element, 'touchstart', _saveClientY, {\n    passive: false\n  });\n  events.on(element, 'touchmove', _preventOverscrolling, {\n    passive: false\n  });\n  _element = element;\n};\n/**\n * Same as allowScrollOnElement but does not prevent overscrolling.\n */\n\nexport var allowOverscrollOnElement = function allowOverscrollOnElement(element, events) {\n  if (!element) {\n    return;\n  }\n\n  var _allowElementScroll = function _allowElementScroll(event) {\n    event.stopPropagation();\n  };\n\n  events.on(element, 'touchmove', _allowElementScroll, {\n    passive: false\n  });\n};\n\nvar _disableIosBodyScroll = function _disableIosBodyScroll(event) {\n  event.preventDefault();\n};\n/**\n * Disables the body scrolling.\n *\n * @public\n */\n\n\nexport function disableBodyScroll() {\n  var doc = getDocument();\n\n  if (doc && doc.body && !_bodyScrollDisabledCount) {\n    doc.body.classList.add(DisabledScrollClassName);\n    doc.body.addEventListener('touchmove', _disableIosBodyScroll, {\n      passive: false,\n      capture: false\n    });\n  }\n\n  _bodyScrollDisabledCount++;\n}\n/**\n * Enables the body scrolling.\n *\n * @public\n */\n\nexport function enableBodyScroll() {\n  if (_bodyScrollDisabledCount > 0) {\n    var doc = getDocument();\n\n    if (doc && doc.body && _bodyScrollDisabledCount === 1) {\n      doc.body.classList.remove(DisabledScrollClassName);\n      doc.body.removeEventListener('touchmove', _disableIosBodyScroll);\n    }\n\n    _bodyScrollDisabledCount--;\n  }\n}\n/**\n * Calculates the width of a scrollbar for the browser/os.\n *\n * @public\n */\n\nexport function getScrollbarWidth() {\n  if (_scrollbarWidth === undefined) {\n    var scrollDiv = document.createElement('div');\n    scrollDiv.style.setProperty('width', '100px');\n    scrollDiv.style.setProperty('height', '100px');\n    scrollDiv.style.setProperty('overflow', 'scroll');\n    scrollDiv.style.setProperty('position', 'absolute');\n    scrollDiv.style.setProperty('top', '-9999px');\n    document.body.appendChild(scrollDiv); // Get the scrollbar width\n\n    _scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth; // Delete the DIV\n\n    document.body.removeChild(scrollDiv);\n  }\n\n  return _scrollbarWidth;\n}\n/**\n * Traverses up the DOM for the element with the data-is-scrollable=true attribute, or returns\n * document.body.\n *\n * @public\n */\n\nexport function findScrollableParent(startingElement) {\n  var el = startingElement;\n  var doc = getDocument(startingElement); // First do a quick scan for the scrollable attribute.\n\n  while (el && el !== doc.body) {\n    if (el.getAttribute(DATA_IS_SCROLLABLE_ATTRIBUTE) === 'true') {\n      return el;\n    }\n\n    el = el.parentElement;\n  } // If we haven't found it, the use the slower method: compute styles to evaluate if overflow is set.\n\n\n  el = startingElement;\n\n  while (el && el !== doc.body) {\n    if (el.getAttribute(DATA_IS_SCROLLABLE_ATTRIBUTE) !== 'false') {\n      var computedStyles = getComputedStyle(el);\n      var overflowY = computedStyles ? computedStyles.getPropertyValue('overflow-y') : '';\n\n      if (overflowY && (overflowY === 'scroll' || overflowY === 'auto')) {\n        return el;\n      }\n    }\n\n    el = el.parentElement;\n  } // Fall back to window scroll.\n\n\n  if (!el || el === doc.body) {\n    el = getWindow(startingElement);\n  }\n\n  return el;\n}","/** Raises a click event. */\nexport function raiseClick(target) {\n  var event = createNewEvent('MouseEvents');\n  event.initEvent('click', true, true);\n  target.dispatchEvent(event);\n}\n\nfunction createNewEvent(eventName) {\n  var event;\n\n  if (typeof Event === 'function') {\n    // Chrome, Opera, Firefox\n    event = new Event(eventName);\n  } else {\n    // IE\n    event = document.createEvent('Event');\n    event.initEvent(eventName, true, true);\n  }\n\n  return event;\n}","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { mergeStyles } from '@uifabric/merge-styles';\nimport { getTheme } from '@uifabric/styling';\nimport { KeyCodes, css, elementContains, getDocument, getElementIndexPath, getFocusableByIndexPath, getId, getNativeProps, getNextElement, getParent, getPreviousElement, getRTL, htmlElementProperties, initializeComponentRef, isElementFocusSubZone, isElementFocusZone, isElementTabbable, raiseClick, shouldWrapFocus, warnDeprecations, portalContainsElement, getWindow, findScrollableParent, createMergedRef } from '@uifabric/utilities';\nimport { FocusZoneDirection, FocusZoneTabbableElements } from './FocusZone.types';\nvar IS_FOCUSABLE_ATTRIBUTE = 'data-is-focusable';\nvar IS_ENTER_DISABLED_ATTRIBUTE = 'data-disable-click-on-enter';\nvar FOCUSZONE_ID_ATTRIBUTE = 'data-focuszone-id';\nvar TABINDEX = 'tabindex';\nvar NO_VERTICAL_WRAP = 'data-no-vertical-wrap';\nvar NO_HORIZONTAL_WRAP = 'data-no-horizontal-wrap';\nvar LARGE_DISTANCE_FROM_CENTER = 999999999;\nvar LARGE_NEGATIVE_DISTANCE_FROM_CENTER = -999999999;\nvar focusZoneStyles;\nvar focusZoneClass = 'ms-FocusZone'; // Helper function that will return a class for when the root is focused\n\nfunction getRootClass() {\n  if (!focusZoneStyles) {\n    focusZoneStyles = mergeStyles({\n      selectors: {\n        ':focus': {\n          outline: 'none'\n        }\n      }\n    }, focusZoneClass);\n  }\n\n  return focusZoneStyles;\n}\n\nvar _allInstances = {};\n\nvar _outerZones = new Set();\n\nvar ALLOWED_INPUT_TYPES = ['text', 'number', 'password', 'email', 'tel', 'url', 'search'];\nvar ALLOW_VIRTUAL_ELEMENTS = false;\n\nvar FocusZone =\n/** @class */\nfunction (_super) {\n  __extends(FocusZone, _super);\n\n  function FocusZone(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._root = React.createRef();\n    _this._mergedRef = createMergedRef();\n\n    _this._onFocus = function (ev) {\n      if (_this._portalContainsElement(ev.target)) {\n        // If the event target is inside a portal do not process the event.\n        return;\n      }\n\n      var _a = _this.props,\n          onActiveElementChanged = _a.onActiveElementChanged,\n          // eslint-disable-next-line deprecation/deprecation\n      doNotAllowFocusEventToPropagate = _a.doNotAllowFocusEventToPropagate,\n          stopFocusPropagation = _a.stopFocusPropagation,\n          // eslint-disable-next-line deprecation/deprecation\n      onFocusNotification = _a.onFocusNotification,\n          onFocus = _a.onFocus,\n          shouldFocusInnerElementWhenReceivedFocus = _a.shouldFocusInnerElementWhenReceivedFocus,\n          defaultTabbableElement = _a.defaultTabbableElement;\n\n      var isImmediateDescendant = _this._isImmediateDescendantOfZone(ev.target);\n\n      var newActiveElement;\n\n      if (isImmediateDescendant) {\n        newActiveElement = ev.target;\n      } else {\n        var parentElement = ev.target;\n\n        while (parentElement && parentElement !== _this._root.current) {\n          if (isElementTabbable(parentElement) && _this._isImmediateDescendantOfZone(parentElement)) {\n            newActiveElement = parentElement;\n            break;\n          }\n\n          parentElement = getParent(parentElement, ALLOW_VIRTUAL_ELEMENTS);\n        }\n      } // If an inner focusable element should be focused when FocusZone container receives focus\n\n\n      if (shouldFocusInnerElementWhenReceivedFocus && ev.target === _this._root.current) {\n        var maybeElementToFocus = defaultTabbableElement && typeof defaultTabbableElement === 'function' && defaultTabbableElement(_this._root.current); // try to focus defaultTabbable element\n\n        if (maybeElementToFocus && isElementTabbable(maybeElementToFocus)) {\n          newActiveElement = maybeElementToFocus;\n          maybeElementToFocus.focus();\n        } else {\n          // force focus on first focusable element\n          _this.focus(true);\n\n          if (_this._activeElement) {\n            // set to null as new active element was handled in method above\n            newActiveElement = null;\n          }\n        }\n      }\n\n      var initialElementFocused = !_this._activeElement; // If the new active element is a child of this zone and received focus,\n      // update alignment an immediate descendant\n\n      if (newActiveElement && newActiveElement !== _this._activeElement) {\n        if (isImmediateDescendant || initialElementFocused) {\n          _this._setFocusAlignment(newActiveElement, true, true);\n        }\n\n        _this._activeElement = newActiveElement;\n\n        if (initialElementFocused) {\n          _this._updateTabIndexes();\n        }\n      }\n\n      if (onActiveElementChanged) {\n        onActiveElementChanged(_this._activeElement, ev);\n      }\n\n      if (stopFocusPropagation || doNotAllowFocusEventToPropagate) {\n        ev.stopPropagation();\n      }\n\n      if (onFocus) {\n        onFocus(ev);\n      } else if (onFocusNotification) {\n        onFocusNotification();\n      }\n    };\n\n    _this._onBlur = function () {\n      _this._setParkedFocus(false);\n    };\n\n    _this._onMouseDown = function (ev) {\n      if (_this._portalContainsElement(ev.target)) {\n        // If the event target is inside a portal do not process the event.\n        return;\n      }\n\n      var disabled = _this.props.disabled;\n\n      if (disabled) {\n        return;\n      }\n\n      var target = ev.target;\n      var path = [];\n\n      while (target && target !== _this._root.current) {\n        path.push(target);\n        target = getParent(target, ALLOW_VIRTUAL_ELEMENTS);\n      }\n\n      while (path.length) {\n        target = path.pop();\n\n        if (target && isElementTabbable(target)) {\n          _this._setActiveElement(target, true);\n        }\n\n        if (isElementFocusZone(target)) {\n          // Stop here since the focus zone will take care of its own children.\n          break;\n        }\n      }\n    };\n    /**\n     * Handle the keystrokes.\n     */\n\n\n    _this._onKeyDown = function (ev, theme) {\n      if (_this._portalContainsElement(ev.target)) {\n        // If the event target is inside a portal do not process the event.\n        return;\n      } // eslint-disable-next-line deprecation/deprecation\n\n\n      var _a = _this.props,\n          direction = _a.direction,\n          disabled = _a.disabled,\n          isInnerZoneKeystroke = _a.isInnerZoneKeystroke,\n          pagingSupportDisabled = _a.pagingSupportDisabled,\n          shouldEnterInnerZone = _a.shouldEnterInnerZone;\n\n      if (disabled) {\n        return;\n      }\n\n      if (_this.props.onKeyDown) {\n        _this.props.onKeyDown(ev);\n      } // If the default has been prevented, do not process keyboard events.\n\n\n      if (ev.isDefaultPrevented()) {\n        return;\n      }\n\n      if (_this._getDocument().activeElement === _this._root.current && _this._isInnerZone) {\n        // If this element has focus, it is being controlled by a parent.\n        // Ignore the keystroke.\n        return;\n      }\n\n      if ((shouldEnterInnerZone && shouldEnterInnerZone(ev) || isInnerZoneKeystroke && isInnerZoneKeystroke(ev)) && _this._isImmediateDescendantOfZone(ev.target)) {\n        // Try to focus\n        var innerZone = _this._getFirstInnerZone();\n\n        if (innerZone) {\n          if (!innerZone.focus(true)) {\n            return;\n          }\n        } else if (isElementFocusSubZone(ev.target)) {\n          if (!_this.focusElement(getNextElement(ev.target, ev.target.firstChild, true))) {\n            return;\n          }\n        } else {\n          return;\n        }\n      } else if (ev.altKey) {\n        return;\n      } else {\n        // eslint-disable-next-line @fluentui/deprecated-keyboard-event-props\n        switch (ev.which) {\n          case KeyCodes.space:\n            if (_this._tryInvokeClickForFocusable(ev.target)) {\n              break;\n            }\n\n            return;\n\n          case KeyCodes.left:\n            if (direction !== FocusZoneDirection.vertical) {\n              _this._preventDefaultWhenHandled(ev);\n\n              if (_this._moveFocusLeft(theme)) {\n                break;\n              }\n            }\n\n            return;\n\n          case KeyCodes.right:\n            if (direction !== FocusZoneDirection.vertical) {\n              _this._preventDefaultWhenHandled(ev);\n\n              if (_this._moveFocusRight(theme)) {\n                break;\n              }\n            }\n\n            return;\n\n          case KeyCodes.up:\n            if (direction !== FocusZoneDirection.horizontal) {\n              _this._preventDefaultWhenHandled(ev);\n\n              if (_this._moveFocusUp()) {\n                break;\n              }\n            }\n\n            return;\n\n          case KeyCodes.down:\n            if (direction !== FocusZoneDirection.horizontal) {\n              _this._preventDefaultWhenHandled(ev);\n\n              if (_this._moveFocusDown()) {\n                break;\n              }\n            }\n\n            return;\n\n          case KeyCodes.pageDown:\n            if (!pagingSupportDisabled && _this._moveFocusPaging(true)) {\n              break;\n            }\n\n            return;\n\n          case KeyCodes.pageUp:\n            if (!pagingSupportDisabled && _this._moveFocusPaging(false)) {\n              break;\n            }\n\n            return;\n\n          case KeyCodes.tab:\n            if ( // eslint-disable-next-line deprecation/deprecation\n            _this.props.allowTabKey || _this.props.handleTabKey === FocusZoneTabbableElements.all || _this.props.handleTabKey === FocusZoneTabbableElements.inputOnly && _this._isElementInput(ev.target)) {\n              var focusChanged = false;\n              _this._processingTabKey = true;\n\n              if (direction === FocusZoneDirection.vertical || !_this._shouldWrapFocus(_this._activeElement, NO_HORIZONTAL_WRAP)) {\n                focusChanged = ev.shiftKey ? _this._moveFocusUp() : _this._moveFocusDown();\n              } else {\n                var tabWithDirection = getRTL(theme) ? !ev.shiftKey : ev.shiftKey;\n                focusChanged = tabWithDirection ? _this._moveFocusLeft(theme) : _this._moveFocusRight(theme);\n              }\n\n              _this._processingTabKey = false;\n\n              if (focusChanged) {\n                break;\n              } else if (_this.props.shouldResetActiveElementWhenTabFromZone) {\n                _this._activeElement = null;\n              }\n            }\n\n            return;\n\n          case KeyCodes.home:\n            if (_this._isContentEditableElement(ev.target) || _this._isElementInput(ev.target) && !_this._shouldInputLoseFocus(ev.target, false)) {\n              return false;\n            }\n\n            var firstChild = _this._root.current && _this._root.current.firstChild;\n\n            if (_this._root.current && firstChild && _this.focusElement(getNextElement(_this._root.current, firstChild, true))) {\n              break;\n            }\n\n            return;\n\n          case KeyCodes.end:\n            if (_this._isContentEditableElement(ev.target) || _this._isElementInput(ev.target) && !_this._shouldInputLoseFocus(ev.target, true)) {\n              return false;\n            }\n\n            var lastChild = _this._root.current && _this._root.current.lastChild;\n\n            if (_this._root.current && _this.focusElement(getPreviousElement(_this._root.current, lastChild, true, true, true))) {\n              break;\n            }\n\n            return;\n\n          case KeyCodes.enter:\n            if (_this._tryInvokeClickForFocusable(ev.target)) {\n              break;\n            }\n\n            return;\n\n          default:\n            return;\n        }\n      }\n\n      ev.preventDefault();\n      ev.stopPropagation();\n    };\n\n    _this._getHorizontalDistanceFromCenter = function (isForward, activeRect, targetRect) {\n      // eslint-disable-next-line deprecation/deprecation\n      var leftAlignment = _this._focusAlignment.left || _this._focusAlignment.x || 0; // ClientRect values can be floats that differ by very small fractions of a decimal.\n      // If the difference between top and bottom are within a pixel then we should treat\n      // them as equivalent by using Math.floor. For instance 5.2222 and 5.222221 should be equivalent,\n      // but without Math.Floor they will be handled incorrectly.\n\n      var targetRectTop = Math.floor(targetRect.top);\n      var activeRectBottom = Math.floor(activeRect.bottom);\n      var targetRectBottom = Math.floor(targetRect.bottom);\n      var activeRectTop = Math.floor(activeRect.top);\n      var isValidCandidateOnpagingDown = isForward && targetRectTop > activeRectBottom;\n      var isValidCandidateOnpagingUp = !isForward && targetRectBottom < activeRectTop;\n\n      if (isValidCandidateOnpagingDown || isValidCandidateOnpagingUp) {\n        if (leftAlignment >= targetRect.left && leftAlignment <= targetRect.left + targetRect.width) {\n          return 0;\n        }\n\n        return Math.abs(targetRect.left + targetRect.width / 2 - leftAlignment);\n      }\n\n      if (!_this._shouldWrapFocus(_this._activeElement, NO_VERTICAL_WRAP)) {\n        return LARGE_NEGATIVE_DISTANCE_FROM_CENTER;\n      }\n\n      return LARGE_DISTANCE_FROM_CENTER;\n    }; // Manage componentRef resolution.\n\n\n    initializeComponentRef(_this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      warnDeprecations('FocusZone', props, {\n        rootProps: undefined,\n        allowTabKey: 'handleTabKey',\n        elementType: 'as',\n        ariaDescribedBy: 'aria-describedby',\n        ariaLabelledBy: 'aria-labelledby'\n      });\n    }\n\n    _this._id = getId('FocusZone');\n    _this._focusAlignment = {\n      left: 0,\n      top: 0\n    };\n    _this._processingTabKey = false;\n    return _this;\n  }\n  /** Used for testing purposes only. */\n\n\n  FocusZone.getOuterZones = function () {\n    return _outerZones.size;\n  };\n  /**\n   * Handle global tab presses so that we can patch tabindexes on the fly.\n   * HEADS UP: This must not be an arrow function in order to be referentially equal among instances\n   * for ref counting to work correctly!\n   */\n\n\n  FocusZone._onKeyDownCapture = function (ev) {\n    // eslint-disable-next-line deprecation/deprecation, @fluentui/deprecated-keyboard-event-props\n    if (ev.which === KeyCodes.tab) {\n      _outerZones.forEach(function (zone) {\n        return zone._updateTabIndexes();\n      });\n    }\n  };\n\n  FocusZone.prototype.componentDidMount = function () {\n    var root = this._root.current;\n    _allInstances[this._id] = this;\n\n    if (root) {\n      this._windowElement = getWindow(root);\n      var parentElement = getParent(root, ALLOW_VIRTUAL_ELEMENTS);\n\n      while (parentElement && parentElement !== this._getDocument().body && parentElement.nodeType === 1) {\n        if (isElementFocusZone(parentElement)) {\n          this._isInnerZone = true;\n          break;\n        }\n\n        parentElement = getParent(parentElement, ALLOW_VIRTUAL_ELEMENTS);\n      }\n\n      if (!this._isInnerZone) {\n        _outerZones.add(this);\n\n        if (this._windowElement && _outerZones.size === 1) {\n          this._windowElement.addEventListener('keydown', FocusZone._onKeyDownCapture, true);\n        }\n      }\n\n      this._root.current && this._root.current.addEventListener('blur', this._onBlur, true); // Assign initial tab indexes so that we can set initial focus as appropriate.\n\n      this._updateTabIndexes();\n\n      if (this.props.defaultTabbableElement && typeof this.props.defaultTabbableElement === 'string') {\n        this._activeElement = this._getDocument().querySelector(this.props.defaultTabbableElement); // eslint-disable-next-line deprecation/deprecation\n      } else if (this.props.defaultActiveElement) {\n        // eslint-disable-next-line deprecation/deprecation\n        this._activeElement = this._getDocument().querySelector(this.props.defaultActiveElement);\n      }\n\n      if (this.props.shouldFocusOnMount) {\n        this.focus();\n      }\n    }\n  };\n\n  FocusZone.prototype.componentDidUpdate = function () {\n    var root = this._root.current;\n\n    var doc = this._getDocument();\n\n    if (doc && this._lastIndexPath && (doc.activeElement === doc.body || doc.activeElement === null || !this.props.preventFocusRestoration && doc.activeElement === root)) {\n      // The element has been removed after the render, attempt to restore focus.\n      var elementToFocus = getFocusableByIndexPath(root, this._lastIndexPath);\n\n      if (elementToFocus) {\n        this._setActiveElement(elementToFocus, true);\n\n        elementToFocus.focus();\n\n        this._setParkedFocus(false);\n      } else {\n        // We had a focus path to restore, but now that path is unresolvable. Park focus\n        // on the container until we can try again.\n        this._setParkedFocus(true);\n      }\n    }\n  };\n\n  FocusZone.prototype.componentWillUnmount = function () {\n    delete _allInstances[this._id];\n\n    if (!this._isInnerZone) {\n      _outerZones.delete(this); // If this is the last outer zone, remove the keydown listener.\n\n\n      if (this._windowElement && _outerZones.size === 0) {\n        this._windowElement.removeEventListener('keydown', FocusZone._onKeyDownCapture, true);\n      }\n    }\n\n    if (this._root.current) {\n      this._root.current.removeEventListener('blur', this._onBlur, true);\n    }\n\n    this._activeElement = null;\n    this._defaultFocusElement = null;\n  };\n\n  FocusZone.prototype.render = function () {\n    var _this = this; // eslint-disable-next-line deprecation/deprecation\n\n\n    var _a = this.props,\n        tag = _a.as,\n        elementType = _a.elementType,\n        rootProps = _a.rootProps,\n        ariaDescribedBy = _a.ariaDescribedBy,\n        ariaLabelledBy = _a.ariaLabelledBy,\n        className = _a.className;\n    var divProps = getNativeProps(this.props, htmlElementProperties);\n    var Tag = tag || elementType || 'div'; // Note, right before rendering/reconciling proceeds, we need to record if focus\n    // was in the zone before the update. This helper will track this and, if focus\n    // was actually in the zone, what the index path to the element is at this time.\n    // Then, later in componentDidUpdate, we can evaluate if we need to restore it in\n    // the case the element was removed.\n\n    this._evaluateFocusBeforeRender(); // Only support RTL defined in global theme, not contextual theme/RTL.\n\n\n    var theme = getTheme();\n    return React.createElement(Tag, __assign({\n      \"aria-labelledby\": ariaLabelledBy,\n      \"aria-describedby\": ariaDescribedBy\n    }, divProps, rootProps, {\n      // Once the getClassName correctly memoizes inputs this should\n      // be replaced so that className is passed to getRootClass and is included there so\n      // the class names will always be in the same order.\n      className: css(getRootClass(), className),\n      // eslint-disable-next-line deprecation/deprecation\n      ref: this._mergedRef(this.props.elementRef, this._root),\n      \"data-focuszone-id\": this._id,\n      // eslint-disable-next-line react/jsx-no-bind\n      onKeyDown: function onKeyDown(ev) {\n        return _this._onKeyDown(ev, theme);\n      },\n      onFocus: this._onFocus,\n      onMouseDownCapture: this._onMouseDown\n    }), this.props.children);\n  };\n  /**\n   * Sets focus to the first tabbable item in the zone.\n   * @param forceIntoFirstElement - If true, focus will be forced into the first element, even\n   * if focus is already in the focus zone.\n   * @returns True if focus could be set to an active element, false if no operation was taken.\n   */\n\n\n  FocusZone.prototype.focus = function (forceIntoFirstElement) {\n    if (forceIntoFirstElement === void 0) {\n      forceIntoFirstElement = false;\n    }\n\n    if (this._root.current) {\n      if (!forceIntoFirstElement && this._root.current.getAttribute(IS_FOCUSABLE_ATTRIBUTE) === 'true' && this._isInnerZone) {\n        var ownerZoneElement = this._getOwnerZone(this._root.current);\n\n        if (ownerZoneElement !== this._root.current) {\n          var ownerZone = _allInstances[ownerZoneElement.getAttribute(FOCUSZONE_ID_ATTRIBUTE)];\n\n          return !!ownerZone && ownerZone.focusElement(this._root.current);\n        }\n\n        return false;\n      } else if (!forceIntoFirstElement && this._activeElement && elementContains(this._root.current, this._activeElement) && isElementTabbable(this._activeElement)) {\n        this._activeElement.focus();\n\n        return true;\n      } else {\n        var firstChild = this._root.current.firstChild;\n        return this.focusElement(getNextElement(this._root.current, firstChild, true));\n      }\n    }\n\n    return false;\n  };\n  /**\n   * Sets focus to the last tabbable item in the zone.\n   * @returns True if focus could be set to an active element, false if no operation was taken.\n   */\n\n\n  FocusZone.prototype.focusLast = function () {\n    if (this._root.current) {\n      var lastChild = this._root.current && this._root.current.lastChild;\n      return this.focusElement(getPreviousElement(this._root.current, lastChild, true, true, true));\n    }\n\n    return false;\n  };\n  /**\n   * Sets focus to a specific child element within the zone. This can be used in conjunction with\n   * shouldReceiveFocus to create delayed focus scenarios (like animate the scroll position to the correct\n   * location and then focus.)\n   * @param element - The child element within the zone to focus.\n   * @param forceAlignment - If true, focus alignment will be set according to the element provided.\n   * @returns True if focus could be set to an active element, false if no operation was taken.\n   */\n\n\n  FocusZone.prototype.focusElement = function (element, forceAlignment) {\n    // eslint-disable-next-line deprecation/deprecation\n    var _a = this.props,\n        onBeforeFocus = _a.onBeforeFocus,\n        shouldReceiveFocus = _a.shouldReceiveFocus;\n\n    if (shouldReceiveFocus && !shouldReceiveFocus(element) || onBeforeFocus && !onBeforeFocus(element)) {\n      return false;\n    }\n\n    if (element) {\n      // when we set focus to a specific child, we should recalculate the alignment depending on its position.\n      this._setActiveElement(element, forceAlignment);\n\n      if (this._activeElement) {\n        this._activeElement.focus();\n      }\n\n      return true;\n    }\n\n    return false;\n  };\n  /**\n   * Forces horizontal alignment in the context of vertical arrowing to use specific point as the reference,\n   * rather than a center based on the last horizontal motion.\n   * @param point - the new reference point.\n   */\n\n\n  FocusZone.prototype.setFocusAlignment = function (point) {\n    this._focusAlignment = point;\n  };\n\n  FocusZone.prototype._evaluateFocusBeforeRender = function () {\n    var root = this._root.current;\n\n    var doc = this._getDocument();\n\n    if (doc) {\n      var focusedElement = doc.activeElement; // Only update the index path if we are not parked on the root.\n\n      if (focusedElement !== root) {\n        var shouldRestoreFocus = elementContains(root, focusedElement, false);\n        this._lastIndexPath = shouldRestoreFocus ? getElementIndexPath(root, focusedElement) : undefined;\n      }\n    }\n  };\n  /**\n   * When focus is in the zone at render time but then all focusable elements are removed,\n   * we \"park\" focus temporarily on the root. Once we update with focusable children, we restore\n   * focus to the closest path from previous. If the user tabs away from the parked container,\n   * we restore focusability to the pre-parked state.\n   */\n\n\n  FocusZone.prototype._setParkedFocus = function (isParked) {\n    var root = this._root.current;\n\n    if (root && this._isParked !== isParked) {\n      this._isParked = isParked;\n\n      if (isParked) {\n        if (!this.props.allowFocusRoot) {\n          this._parkedTabIndex = root.getAttribute('tabindex');\n          root.setAttribute('tabindex', '-1');\n        }\n\n        root.focus();\n      } else if (!this.props.allowFocusRoot) {\n        if (this._parkedTabIndex) {\n          root.setAttribute('tabindex', this._parkedTabIndex);\n          this._parkedTabIndex = undefined;\n        } else {\n          root.removeAttribute('tabindex');\n        }\n      }\n    }\n  };\n\n  FocusZone.prototype._setActiveElement = function (element, forceAlignment) {\n    var previousActiveElement = this._activeElement;\n    this._activeElement = element;\n\n    if (previousActiveElement) {\n      if (isElementFocusZone(previousActiveElement)) {\n        this._updateTabIndexes(previousActiveElement);\n      }\n\n      previousActiveElement.tabIndex = -1;\n    }\n\n    if (this._activeElement) {\n      if (!this._focusAlignment || forceAlignment) {\n        this._setFocusAlignment(element, true, true);\n      }\n\n      this._activeElement.tabIndex = 0;\n    }\n  };\n\n  FocusZone.prototype._preventDefaultWhenHandled = function (ev) {\n    this.props.preventDefaultWhenHandled && ev.preventDefault();\n  };\n  /**\n   * Walk up the dom try to find a focusable element.\n   */\n\n\n  FocusZone.prototype._tryInvokeClickForFocusable = function (target) {\n    if (target === this._root.current || !this.props.shouldRaiseClicks) {\n      return false;\n    }\n\n    do {\n      if (target.tagName === 'BUTTON' || target.tagName === 'A' || target.tagName === 'INPUT' || target.tagName === 'TEXTAREA') {\n        return false;\n      }\n\n      if (this._isImmediateDescendantOfZone(target) && target.getAttribute(IS_FOCUSABLE_ATTRIBUTE) === 'true' && target.getAttribute(IS_ENTER_DISABLED_ATTRIBUTE) !== 'true') {\n        raiseClick(target);\n        return true;\n      }\n\n      target = getParent(target, ALLOW_VIRTUAL_ELEMENTS);\n    } while (target !== this._root.current);\n\n    return false;\n  };\n  /**\n   * Traverse to find first child zone.\n   */\n\n\n  FocusZone.prototype._getFirstInnerZone = function (rootElement) {\n    rootElement = rootElement || this._activeElement || this._root.current;\n\n    if (!rootElement) {\n      return null;\n    }\n\n    if (isElementFocusZone(rootElement)) {\n      return _allInstances[rootElement.getAttribute(FOCUSZONE_ID_ATTRIBUTE)];\n    }\n\n    var child = rootElement.firstElementChild;\n\n    while (child) {\n      if (isElementFocusZone(child)) {\n        return _allInstances[child.getAttribute(FOCUSZONE_ID_ATTRIBUTE)];\n      }\n\n      var match = this._getFirstInnerZone(child);\n\n      if (match) {\n        return match;\n      }\n\n      child = child.nextElementSibling;\n    }\n\n    return null;\n  };\n\n  FocusZone.prototype._moveFocus = function (isForward, getDistanceFromCenter, ev, useDefaultWrap) {\n    if (useDefaultWrap === void 0) {\n      useDefaultWrap = true;\n    }\n\n    var element = this._activeElement;\n    var candidateDistance = -1;\n    var candidateElement = undefined;\n    var changedFocus = false;\n    var isBidirectional = this.props.direction === FocusZoneDirection.bidirectional;\n\n    if (!element || !this._root.current) {\n      return false;\n    }\n\n    if (this._isElementInput(element)) {\n      if (!this._shouldInputLoseFocus(element, isForward)) {\n        return false;\n      }\n    }\n\n    var activeRect = isBidirectional ? element.getBoundingClientRect() : null;\n\n    do {\n      element = isForward ? getNextElement(this._root.current, element) : getPreviousElement(this._root.current, element);\n\n      if (isBidirectional) {\n        if (element) {\n          var targetRect = element.getBoundingClientRect();\n          var elementDistance = getDistanceFromCenter(activeRect, targetRect);\n\n          if (elementDistance === -1 && candidateDistance === -1) {\n            candidateElement = element;\n            break;\n          }\n\n          if (elementDistance > -1 && (candidateDistance === -1 || elementDistance < candidateDistance)) {\n            candidateDistance = elementDistance;\n            candidateElement = element;\n          }\n\n          if (candidateDistance >= 0 && elementDistance < 0) {\n            break;\n          }\n        }\n      } else {\n        candidateElement = element;\n        break;\n      }\n    } while (element); // Focus the closest candidate\n\n\n    if (candidateElement && candidateElement !== this._activeElement) {\n      changedFocus = true;\n      this.focusElement(candidateElement);\n    } else if (this.props.isCircularNavigation && useDefaultWrap) {\n      if (isForward) {\n        return this.focusElement(getNextElement(this._root.current, this._root.current.firstElementChild, true));\n      } else {\n        return this.focusElement(getPreviousElement(this._root.current, this._root.current.lastElementChild, true, true, true));\n      }\n    }\n\n    return changedFocus;\n  };\n\n  FocusZone.prototype._moveFocusDown = function () {\n    var _this = this;\n\n    var targetTop = -1; // eslint-disable-next-line deprecation/deprecation\n\n    var leftAlignment = this._focusAlignment.left || this._focusAlignment.x || 0;\n\n    if (this._moveFocus(true, function (activeRect, targetRect) {\n      var distance = -1; // ClientRect values can be floats that differ by very small fractions of a decimal.\n      // If the difference between top and bottom are within a pixel then we should treat\n      // them as equivalent by using Math.floor. For instance 5.2222 and 5.222221 should be equivalent,\n      // but without Math.Floor they will be handled incorrectly.\n\n      var targetRectTop = Math.floor(targetRect.top);\n      var activeRectBottom = Math.floor(activeRect.bottom);\n\n      if (targetRectTop < activeRectBottom) {\n        if (!_this._shouldWrapFocus(_this._activeElement, NO_VERTICAL_WRAP)) {\n          return LARGE_NEGATIVE_DISTANCE_FROM_CENTER;\n        }\n\n        return LARGE_DISTANCE_FROM_CENTER;\n      }\n\n      if (targetTop === -1 && targetRectTop >= activeRectBottom || targetRectTop === targetTop) {\n        targetTop = targetRectTop;\n\n        if (leftAlignment >= targetRect.left && leftAlignment <= targetRect.left + targetRect.width) {\n          distance = 0;\n        } else {\n          distance = Math.abs(targetRect.left + targetRect.width / 2 - leftAlignment);\n        }\n      }\n\n      return distance;\n    })) {\n      this._setFocusAlignment(this._activeElement, false, true);\n\n      return true;\n    }\n\n    return false;\n  };\n\n  FocusZone.prototype._moveFocusUp = function () {\n    var _this = this;\n\n    var targetTop = -1; // eslint-disable-next-line deprecation/deprecation\n\n    var leftAlignment = this._focusAlignment.left || this._focusAlignment.x || 0;\n\n    if (this._moveFocus(false, function (activeRect, targetRect) {\n      var distance = -1; // ClientRect values can be floats that differ by very small fractions of a decimal.\n      // If the difference between top and bottom are within a pixel then we should treat\n      // them as equivalent by using Math.floor. For instance 5.2222 and 5.222221 should be equivalent,\n      // but without Math.Floor they will be handled incorrectly.\n\n      var targetRectBottom = Math.floor(targetRect.bottom);\n      var targetRectTop = Math.floor(targetRect.top);\n      var activeRectTop = Math.floor(activeRect.top);\n\n      if (targetRectBottom > activeRectTop) {\n        if (!_this._shouldWrapFocus(_this._activeElement, NO_VERTICAL_WRAP)) {\n          return LARGE_NEGATIVE_DISTANCE_FROM_CENTER;\n        }\n\n        return LARGE_DISTANCE_FROM_CENTER;\n      }\n\n      if (targetTop === -1 && targetRectBottom <= activeRectTop || targetRectTop === targetTop) {\n        targetTop = targetRectTop;\n\n        if (leftAlignment >= targetRect.left && leftAlignment <= targetRect.left + targetRect.width) {\n          distance = 0;\n        } else {\n          distance = Math.abs(targetRect.left + targetRect.width / 2 - leftAlignment);\n        }\n      }\n\n      return distance;\n    })) {\n      this._setFocusAlignment(this._activeElement, false, true);\n\n      return true;\n    }\n\n    return false;\n  };\n\n  FocusZone.prototype._moveFocusLeft = function (theme) {\n    var _this = this;\n\n    var shouldWrap = this._shouldWrapFocus(this._activeElement, NO_HORIZONTAL_WRAP);\n\n    if (this._moveFocus(getRTL(theme), function (activeRect, targetRect) {\n      var distance = -1;\n      var topBottomComparison;\n\n      if (getRTL(theme)) {\n        // When in RTL, this comparison should be the same as the one in _moveFocusRight for LTR.\n        // Going left at a leftmost rectangle will go down a line instead of up a line like in LTR.\n        // This is important, because we want to be comparing the top of the target rect\n        // with the bottom of the active rect.\n        topBottomComparison = parseFloat(targetRect.top.toFixed(3)) < parseFloat(activeRect.bottom.toFixed(3));\n      } else {\n        topBottomComparison = parseFloat(targetRect.bottom.toFixed(3)) > parseFloat(activeRect.top.toFixed(3));\n      }\n\n      if (topBottomComparison && targetRect.right <= activeRect.right && _this.props.direction !== FocusZoneDirection.vertical) {\n        distance = activeRect.right - targetRect.right;\n      } else if (!shouldWrap) {\n        distance = LARGE_NEGATIVE_DISTANCE_FROM_CENTER;\n      }\n\n      return distance;\n    }, undefined\n    /*ev*/\n    , shouldWrap)) {\n      this._setFocusAlignment(this._activeElement, true, false);\n\n      return true;\n    }\n\n    return false;\n  };\n\n  FocusZone.prototype._moveFocusRight = function (theme) {\n    var _this = this;\n\n    var shouldWrap = this._shouldWrapFocus(this._activeElement, NO_HORIZONTAL_WRAP);\n\n    if (this._moveFocus(!getRTL(theme), function (activeRect, targetRect) {\n      var distance = -1;\n      var topBottomComparison;\n\n      if (getRTL(theme)) {\n        // When in RTL, this comparison should be the same as the one in _moveFocusLeft for LTR.\n        // Going right at a rightmost rectangle will go up a line instead of down a line like in LTR.\n        // This is important, because we want to be comparing the bottom of the target rect\n        // with the top of the active rect.\n        topBottomComparison = parseFloat(targetRect.bottom.toFixed(3)) > parseFloat(activeRect.top.toFixed(3));\n      } else {\n        topBottomComparison = parseFloat(targetRect.top.toFixed(3)) < parseFloat(activeRect.bottom.toFixed(3));\n      }\n\n      if (topBottomComparison && targetRect.left >= activeRect.left && _this.props.direction !== FocusZoneDirection.vertical) {\n        distance = targetRect.left - activeRect.left;\n      } else if (!shouldWrap) {\n        distance = LARGE_NEGATIVE_DISTANCE_FROM_CENTER;\n      }\n\n      return distance;\n    }, undefined\n    /*ev*/\n    , shouldWrap)) {\n      this._setFocusAlignment(this._activeElement, true, false);\n\n      return true;\n    }\n\n    return false;\n  };\n\n  FocusZone.prototype._moveFocusPaging = function (isForward, useDefaultWrap) {\n    if (useDefaultWrap === void 0) {\n      useDefaultWrap = true;\n    }\n\n    var element = this._activeElement;\n\n    if (!element || !this._root.current) {\n      return false;\n    }\n\n    if (this._isElementInput(element)) {\n      if (!this._shouldInputLoseFocus(element, isForward)) {\n        return false;\n      }\n    }\n\n    var scrollableParent = findScrollableParent(element);\n\n    if (!scrollableParent) {\n      return false;\n    }\n\n    var candidateDistance = -1;\n    var candidateElement = undefined;\n    var targetTop = -1;\n    var targetBottom = -1;\n    var pagesize = scrollableParent.clientHeight;\n    var activeRect = element.getBoundingClientRect();\n\n    do {\n      element = isForward ? getNextElement(this._root.current, element) : getPreviousElement(this._root.current, element);\n\n      if (element) {\n        var targetRect = element.getBoundingClientRect();\n        var targetRectTop = Math.floor(targetRect.top);\n        var activeRectBottom = Math.floor(activeRect.bottom);\n        var targetRectBottom = Math.floor(targetRect.bottom);\n        var activeRectTop = Math.floor(activeRect.top);\n\n        var elementDistance = this._getHorizontalDistanceFromCenter(isForward, activeRect, targetRect);\n\n        var isElementPassedPageSizeOnPagingDown = isForward && targetRectTop > activeRectBottom + pagesize;\n        var isElementPassedPageSizeOnPagingUp = !isForward && targetRectBottom < activeRectTop - pagesize;\n\n        if (isElementPassedPageSizeOnPagingDown || isElementPassedPageSizeOnPagingUp) {\n          break;\n        }\n\n        if (elementDistance > -1) {\n          // for paging down\n          if (isForward && targetRectTop > targetTop) {\n            targetTop = targetRectTop;\n            candidateDistance = elementDistance;\n            candidateElement = element;\n          } else if (!isForward && targetRectBottom < targetBottom) {\n            // for paging up\n            targetBottom = targetRectBottom;\n            candidateDistance = elementDistance;\n            candidateElement = element;\n          } else if (candidateDistance === -1 || elementDistance <= candidateDistance) {\n            candidateDistance = elementDistance;\n            candidateElement = element;\n          }\n        }\n      }\n    } while (element);\n\n    var changedFocus = false; // Focus the closest candidate\n\n    if (candidateElement && candidateElement !== this._activeElement) {\n      changedFocus = true;\n      this.focusElement(candidateElement);\n\n      this._setFocusAlignment(candidateElement, false, true);\n    } else if (this.props.isCircularNavigation && useDefaultWrap) {\n      if (isForward) {\n        return this.focusElement(getNextElement(this._root.current, this._root.current.firstElementChild, true));\n      }\n\n      return this.focusElement(getPreviousElement(this._root.current, this._root.current.lastElementChild, true, true, true));\n    }\n\n    return changedFocus;\n  };\n\n  FocusZone.prototype._setFocusAlignment = function (element, isHorizontal, isVertical) {\n    if (this.props.direction === FocusZoneDirection.bidirectional && (!this._focusAlignment || isHorizontal || isVertical)) {\n      var rect = element.getBoundingClientRect();\n      var left = rect.left + rect.width / 2;\n      var top_1 = rect.top + rect.height / 2;\n\n      if (!this._focusAlignment) {\n        this._focusAlignment = {\n          left: left,\n          top: top_1\n        };\n      }\n\n      if (isHorizontal) {\n        this._focusAlignment.left = left;\n      }\n\n      if (isVertical) {\n        this._focusAlignment.top = top_1;\n      }\n    }\n  };\n\n  FocusZone.prototype._isImmediateDescendantOfZone = function (element) {\n    return this._getOwnerZone(element) === this._root.current;\n  };\n\n  FocusZone.prototype._getOwnerZone = function (element) {\n    var parentElement = getParent(element, ALLOW_VIRTUAL_ELEMENTS);\n\n    while (parentElement && parentElement !== this._root.current && parentElement !== this._getDocument().body) {\n      if (isElementFocusZone(parentElement)) {\n        return parentElement;\n      }\n\n      parentElement = getParent(parentElement, ALLOW_VIRTUAL_ELEMENTS);\n    }\n\n    return parentElement;\n  };\n\n  FocusZone.prototype._updateTabIndexes = function (element) {\n    if (!this._activeElement && this.props.defaultTabbableElement && typeof this.props.defaultTabbableElement === 'function') {\n      this._activeElement = this.props.defaultTabbableElement(this._root.current);\n    }\n\n    if (!element && this._root.current) {\n      this._defaultFocusElement = null;\n      element = this._root.current;\n\n      if (this._activeElement && !elementContains(element, this._activeElement)) {\n        this._activeElement = null;\n      }\n    } // If active element changes state to disabled, set it to null.\n    // Otherwise, we lose keyboard accessibility to other elements in focus zone.\n\n\n    if (this._activeElement && !isElementTabbable(this._activeElement)) {\n      this._activeElement = null;\n    }\n\n    var childNodes = element && element.children;\n\n    for (var childIndex = 0; childNodes && childIndex < childNodes.length; childIndex++) {\n      var child = childNodes[childIndex];\n\n      if (!isElementFocusZone(child)) {\n        // If the item is explicitly set to not be focusable then TABINDEX needs to be set to -1.\n        if (child.getAttribute && child.getAttribute(IS_FOCUSABLE_ATTRIBUTE) === 'false') {\n          child.setAttribute(TABINDEX, '-1');\n        }\n\n        if (isElementTabbable(child)) {\n          if (this.props.disabled) {\n            child.setAttribute(TABINDEX, '-1');\n          } else if (!this._isInnerZone && (!this._activeElement && !this._defaultFocusElement || this._activeElement === child)) {\n            this._defaultFocusElement = child;\n\n            if (child.getAttribute(TABINDEX) !== '0') {\n              child.setAttribute(TABINDEX, '0');\n            }\n          } else if (child.getAttribute(TABINDEX) !== '-1') {\n            child.setAttribute(TABINDEX, '-1');\n          }\n        } else if (child.tagName === 'svg' && child.getAttribute('focusable') !== 'false') {\n          // Disgusting IE hack. Sad face.\n          child.setAttribute('focusable', 'false');\n        }\n      } else if (child.getAttribute(IS_FOCUSABLE_ATTRIBUTE) === 'true') {\n        if (!this._isInnerZone && (!this._activeElement && !this._defaultFocusElement || this._activeElement === child)) {\n          this._defaultFocusElement = child;\n\n          if (child.getAttribute(TABINDEX) !== '0') {\n            child.setAttribute(TABINDEX, '0');\n          }\n        } else if (child.getAttribute(TABINDEX) !== '-1') {\n          child.setAttribute(TABINDEX, '-1');\n        }\n      }\n\n      this._updateTabIndexes(child);\n    }\n  };\n\n  FocusZone.prototype._isContentEditableElement = function (element) {\n    return element && element.getAttribute('contenteditable') === 'true';\n  };\n\n  FocusZone.prototype._isElementInput = function (element) {\n    if (element && element.tagName && (element.tagName.toLowerCase() === 'input' || element.tagName.toLowerCase() === 'textarea')) {\n      return true;\n    }\n\n    return false;\n  };\n\n  FocusZone.prototype._shouldInputLoseFocus = function (element, isForward) {\n    // If a tab was used, we want to focus on the next element.\n    if (!this._processingTabKey && element && element.type && ALLOWED_INPUT_TYPES.indexOf(element.type.toLowerCase()) > -1) {\n      var selectionStart = element.selectionStart;\n      var selectionEnd = element.selectionEnd;\n      var isRangeSelected = selectionStart !== selectionEnd;\n      var inputValue = element.value;\n      var isReadonly = element.readOnly; // We shouldn't lose focus in the following cases:\n      // 1. There is range selected.\n      // 2. When selection start is larger than 0 and it is backward and not readOnly.\n      // 3. when selection start is not the end of length, it is forward and not readOnly.\n      // 4. We press any of the arrow keys when our handleTabKey isn't none or undefined (only losing focus if we hit\n      // tab) and if shouldInputLoseFocusOnArrowKey is defined, if scenario prefers to not loose the focus which is\n      // determined by calling the callback shouldInputLoseFocusOnArrowKey\n\n      if (isRangeSelected || selectionStart > 0 && !isForward && !isReadonly || selectionStart !== inputValue.length && isForward && !isReadonly || !!this.props.handleTabKey && !(this.props.shouldInputLoseFocusOnArrowKey && this.props.shouldInputLoseFocusOnArrowKey(element))) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  FocusZone.prototype._shouldWrapFocus = function (element, noWrapDataAttribute) {\n    return this.props.checkForNoWrap ? shouldWrapFocus(element, noWrapDataAttribute) : true;\n  };\n  /**\n   * Returns true if the element is a descendant of the FocusZone through a React portal.\n   */\n\n\n  FocusZone.prototype._portalContainsElement = function (element) {\n    return element && !!this._root.current && portalContainsElement(element, this._root.current);\n  };\n\n  FocusZone.prototype._getDocument = function () {\n    return getDocument(this._root.current);\n  };\n\n  FocusZone.defaultProps = {\n    isCircularNavigation: false,\n    direction: FocusZoneDirection.bidirectional,\n    shouldRaiseClicks: true\n  };\n  return FocusZone;\n}(React.Component);\n\nexport { FocusZone };","import { getWindow } from './dom/getWindow';\nvar isMacResult;\n/**\n * Returns true if the user is on a Mac. Caches the result value.\n * @param reset - Reset the cached result value (mainly for testing).\n */\n\nexport function isMac(reset) {\n  if (typeof isMacResult === 'undefined' || reset) {\n    var win = getWindow();\n    var userAgent = win && win.navigator.userAgent;\n    isMacResult = !!userAgent && userAgent.indexOf('Macintosh') !== -1;\n  }\n\n  return !!isMacResult;\n}","/**\n * Returns true if and only if the user is on a iOS device.\n * Used to determine whether iOS-specific behavior should be applied.\n */\nexport var isIOS = function isIOS() {\n  if (!window || !window.navigator || !window.navigator.userAgent) {\n    return false;\n  }\n\n  return /iPad|iPhone|iPod/i.test(window.navigator.userAgent);\n};","/**\n * Determines the effective checked state of a menu item.\n *\n * @param item {IContextualMenuItem} to get the check state of.\n * @returns {true} if the item is checked.\n * @returns {false} if the item is unchecked.\n * @returns {null} if the item is not checkable.\n */\nexport function getIsChecked(item) {\n  if (item.canCheck) {\n    return !!(item.isChecked || item.checked);\n  }\n\n  if (typeof item.isChecked === 'boolean') {\n    return item.isChecked;\n  }\n\n  if (typeof item.checked === 'boolean') {\n    return item.checked;\n  } // Item is not checkable.\n\n\n  return null;\n}\nexport function hasSubmenu(item) {\n  return !!(item.subMenuProps || item.items);\n}\nexport function isItemDisabled(item) {\n  return !!(item.isDisabled || item.disabled);\n}\nexport function getMenuItemAriaRole(item) {\n  var isChecked = getIsChecked(item);\n  var canCheck = isChecked !== null;\n  return canCheck ? 'menuitemcheckbox' : 'menuitem';\n}","var REACT_LIFECYCLE_EXCLUSIONS = ['setState', 'render', 'componentWillMount', 'UNSAFE_componentWillMount', 'componentDidMount', 'componentWillReceiveProps', 'UNSAFE_componentWillReceiveProps', 'shouldComponentUpdate', 'componentWillUpdate', 'getSnapshotBeforeUpdate', 'UNSAFE_componentWillUpdate', 'componentDidUpdate', 'componentWillUnmount'];\n/**\n * Allows you to hoist methods, except those in an exclusion set from a source object into a destination object.\n *\n * @public\n * @param destination - The instance of the object to hoist the methods onto.\n * @param source - The instance of the object where the methods are hoisted from.\n * @param exclusions - (Optional) What methods to exclude from being hoisted.\n * @returns An array of names of methods that were hoisted.\n */\n\nexport function hoistMethods( // eslint-disable-next-line @typescript-eslint/no-explicit-any\ndestination, // eslint-disable-next-line @typescript-eslint/no-explicit-any\nsource, exclusions) {\n  if (exclusions === void 0) {\n    exclusions = REACT_LIFECYCLE_EXCLUSIONS;\n  }\n\n  var hoisted = [];\n\n  var _loop_1 = function _loop_1(methodName) {\n    if (typeof source[methodName] === 'function' && destination[methodName] === undefined && (!exclusions || exclusions.indexOf(methodName) === -1)) {\n      hoisted.push(methodName); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      destination[methodName] = function () {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        source[methodName].apply(source, args);\n      };\n    }\n  };\n\n  for (var methodName in source) {\n    _loop_1(methodName);\n  }\n\n  return hoisted;\n}\n/**\n * Provides a method for convenience to unhoist hoisted methods.\n *\n * @public\n * @param source - The source object upon which methods were hoisted.\n * @param methodNames - An array of method names to unhoist.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function unhoistMethods(source, methodNames) {\n  methodNames.forEach(function (methodName) {\n    return delete source[methodName];\n  });\n}","import { __extends } from \"tslib\";\nimport * as React from 'react';\nimport { hoistMethods, unhoistMethods } from '../../Utilities';\n\nvar BaseDecorator =\n/** @class */\nfunction (_super) {\n  __extends(BaseDecorator, _super);\n\n  function BaseDecorator(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._updateComposedComponentRef = _this._updateComposedComponentRef.bind(_this);\n    return _this;\n  }\n  /**\n   * Updates the ref to the component composed by the decorator, which will also take care of hoisting\n   * (and unhoisting as appropriate) methods from said component.\n   *\n   * Pass this method as the argument to the 'ref' property of the composed component.\n   */\n\n\n  BaseDecorator.prototype._updateComposedComponentRef = function (composedComponentInstance) {\n    this._composedComponentInstance = composedComponentInstance;\n\n    if (composedComponentInstance) {\n      this._hoisted = hoistMethods(this, composedComponentInstance);\n    } else if (this._hoisted) {\n      unhoistMethods(this, this._hoisted);\n    }\n  };\n\n  return BaseDecorator;\n}(React.Component);\n\nexport { BaseDecorator };","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { BaseDecorator } from './BaseDecorator';\nimport { getWindow, hoistStatics, EventGroup } from '../../Utilities';\nimport { WindowContext } from '../../WindowProvider';\nexport var ResponsiveMode;\n\n(function (ResponsiveMode) {\n  ResponsiveMode[ResponsiveMode[\"small\"] = 0] = \"small\";\n  ResponsiveMode[ResponsiveMode[\"medium\"] = 1] = \"medium\";\n  ResponsiveMode[ResponsiveMode[\"large\"] = 2] = \"large\";\n  ResponsiveMode[ResponsiveMode[\"xLarge\"] = 3] = \"xLarge\";\n  ResponsiveMode[ResponsiveMode[\"xxLarge\"] = 4] = \"xxLarge\";\n  ResponsiveMode[ResponsiveMode[\"xxxLarge\"] = 5] = \"xxxLarge\";\n  ResponsiveMode[ResponsiveMode[\"unknown\"] = 999] = \"unknown\";\n})(ResponsiveMode || (ResponsiveMode = {}));\n\nvar RESPONSIVE_MAX_CONSTRAINT = [479, 639, 1023, 1365, 1919, 99999999];\n/**\n * User specified mode to default to, useful for server side rendering scenarios.\n */\n\nvar _defaultMode;\n/**\n * Tracking the last mode we successfully rendered, which allows us to\n * paint initial renders with the correct size.\n */\n\n\nvar _lastMode;\n/**\n * Allows a server rendered scenario to provide a default responsive mode.\n */\n\n\nexport function setResponsiveMode(responsiveMode) {\n  _defaultMode = responsiveMode;\n}\n/**\n * Initializes the responsive mode to the current window size. This can be used to avoid\n * a re-render during first component mount since the window would otherwise not be measured\n * until after mounting.\n */\n\nexport function initializeResponsiveMode(element) {\n  if (typeof window !== 'undefined') {\n    var currentWindow = element && getWindow(element) || window;\n    getResponsiveMode(currentWindow);\n  }\n}\nexport function getInitialResponsiveMode() {\n  return _defaultMode || _lastMode || ResponsiveMode.large;\n}\nexport function withResponsiveMode(ComposedComponent) {\n  var _a;\n\n  var resultClass = (_a =\n  /** @class */\n  function (_super) {\n    __extends(WithResponsiveMode, _super);\n\n    function WithResponsiveMode(props) {\n      var _this = _super.call(this, props) || this;\n\n      _this._onResize = function () {\n        var responsiveMode = getResponsiveMode(_this.context.window);\n\n        if (responsiveMode !== _this.state.responsiveMode) {\n          _this.setState({\n            responsiveMode: responsiveMode\n          });\n        }\n      };\n\n      _this._events = new EventGroup(_this);\n      _this._updateComposedComponentRef = _this._updateComposedComponentRef.bind(_this);\n      _this.state = {\n        responsiveMode: getInitialResponsiveMode()\n      };\n      return _this;\n    }\n\n    WithResponsiveMode.prototype.componentDidMount = function () {\n      this._events.on(this.context.window, 'resize', this._onResize);\n\n      this._onResize();\n    };\n\n    WithResponsiveMode.prototype.componentWillUnmount = function () {\n      this._events.dispose();\n    };\n\n    WithResponsiveMode.prototype.render = function () {\n      var responsiveMode = this.state.responsiveMode;\n      return responsiveMode === ResponsiveMode.unknown ? null : React.createElement(ComposedComponent, __assign({\n        ref: this._updateComposedComponentRef,\n        responsiveMode: responsiveMode\n      }, this.props));\n    };\n\n    return WithResponsiveMode;\n  }(BaseDecorator), _a.contextType = WindowContext, _a);\n  return hoistStatics(ComposedComponent, resultClass);\n}\nexport function getResponsiveMode(currentWindow) {\n  var responsiveMode = ResponsiveMode.small;\n\n  if (currentWindow) {\n    try {\n      while (currentWindow.innerWidth > RESPONSIVE_MAX_CONSTRAINT[responsiveMode]) {\n        responsiveMode++;\n      }\n    } catch (e) {\n      // Return a best effort result in cases where we're in the browser but it throws on getting innerWidth.\n      responsiveMode = getInitialResponsiveMode();\n    } // Tracking last mode just gives us a better default in future renders,\n    // which avoids starting with the wrong value if we've measured once.\n\n\n    _lastMode = responsiveMode;\n  } else {\n    if (_defaultMode !== undefined) {\n      responsiveMode = _defaultMode;\n    } else {\n      throw new Error('Content was rendered in a server environment without providing a default responsive mode. ' + 'Call setResponsiveMode to define what the responsive mode is.');\n    }\n  }\n\n  return responsiveMode;\n}","import * as React from 'react';\n/**\n * Context for providing the window.\n */\n\nexport var WindowContext = React.createContext({\n  window: typeof window === 'object' ? window : undefined\n});\n/**\n * Hook to access the window object. This can be overridden contextually using the `WindowProvider`.\n */\n\nexport var useWindow = function useWindow() {\n  return React.useContext(WindowContext).window;\n};\n/**\n * Hook to access the document object. This can be overridden contextually using the `WindowProvider`.\n */\n\nexport var useDocument = function useDocument() {\n  var _a;\n\n  return (_a = React.useContext(WindowContext).window) === null || _a === void 0 ? void 0 : _a.document;\n};\n/**\n * Component to provide the window object contextually. This is useful when rendering content to an element\n * contained within a child window or iframe element, where event handlers and styling must be projected\n * to an alternative window or document.\n */\n\nexport var WindowProvider = function WindowProvider(props) {\n  return React.createElement(WindowContext.Provider, {\n    value: props\n  }, props.children);\n};","export var RectangleEdge;\n\n(function (RectangleEdge) {\n  RectangleEdge[RectangleEdge[\"top\"] = 1] = \"top\";\n  RectangleEdge[RectangleEdge[\"bottom\"] = -1] = \"bottom\";\n  RectangleEdge[RectangleEdge[\"left\"] = 2] = \"left\";\n  RectangleEdge[RectangleEdge[\"right\"] = -2] = \"right\";\n})(RectangleEdge || (RectangleEdge = {}));\n\nexport var Position;\n\n(function (Position) {\n  Position[Position[\"top\"] = 0] = \"top\";\n  Position[Position[\"bottom\"] = 1] = \"bottom\";\n  Position[Position[\"start\"] = 2] = \"start\";\n  Position[Position[\"end\"] = 3] = \"end\";\n})(Position || (Position = {}));","export function on(element, eventName, callback, options) {\n  element.addEventListener(eventName, callback, options);\n  return function () {\n    return element.removeEventListener(eventName, callback, options);\n  };\n}","/**\n * Rectangle helper class.\n *\n * @public\n * {@docCategory Rectangle}\n */\nvar Rectangle =\n/** @class */\nfunction () {\n  function Rectangle(left, right, top, bottom) {\n    if (left === void 0) {\n      left = 0;\n    }\n\n    if (right === void 0) {\n      right = 0;\n    }\n\n    if (top === void 0) {\n      top = 0;\n    }\n\n    if (bottom === void 0) {\n      bottom = 0;\n    }\n\n    this.top = top;\n    this.bottom = bottom;\n    this.left = left;\n    this.right = right;\n  }\n\n  Object.defineProperty(Rectangle.prototype, \"width\", {\n    /**\n     * Calculated automatically by subtracting the right from left\n     */\n    get: function get() {\n      return this.right - this.left;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Rectangle.prototype, \"height\", {\n    /**\n     * Calculated automatically by subtracting the bottom from top.\n     */\n    get: function get() {\n      return this.bottom - this.top;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Tests if another rect is approximately equal to this rect (within 4 decimal places.)\n   */\n\n  Rectangle.prototype.equals = function (rect) {\n    // Fixing to 4 decimal places because it allows enough precision and will handle cases when something\n    // should be rounded, like .999999 should round to 1.\n    return parseFloat(this.top.toFixed(4)) === parseFloat(rect.top.toFixed(4)) && parseFloat(this.bottom.toFixed(4)) === parseFloat(rect.bottom.toFixed(4)) && parseFloat(this.left.toFixed(4)) === parseFloat(rect.left.toFixed(4)) && parseFloat(this.right.toFixed(4)) === parseFloat(rect.right.toFixed(4));\n  };\n\n  return Rectangle;\n}();\n\nexport { Rectangle };","var _a;\n\nimport { __assign } from \"tslib\";\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport { getScrollbarWidth, getRTL } from '../../Utilities';\nimport { RectangleEdge } from './positioning.types';\nimport { Rectangle } from '../../Utilities';\n\nfunction _createPositionData(targetEdge, alignmentEdge, isAuto) {\n  return {\n    targetEdge: targetEdge,\n    alignmentEdge: alignmentEdge,\n    isAuto: isAuto\n  };\n} // Currently the beakPercent is set to 50 for all positions meaning that it should tend to the center of the target\n\n\nvar DirectionalDictionary = (_a = {}, _a[DirectionalHint.topLeftEdge] = _createPositionData(RectangleEdge.top, RectangleEdge.left), _a[DirectionalHint.topCenter] = _createPositionData(RectangleEdge.top), _a[DirectionalHint.topRightEdge] = _createPositionData(RectangleEdge.top, RectangleEdge.right), _a[DirectionalHint.topAutoEdge] = _createPositionData(RectangleEdge.top, undefined, true), _a[DirectionalHint.bottomLeftEdge] = _createPositionData(RectangleEdge.bottom, RectangleEdge.left), _a[DirectionalHint.bottomCenter] = _createPositionData(RectangleEdge.bottom), _a[DirectionalHint.bottomRightEdge] = _createPositionData(RectangleEdge.bottom, RectangleEdge.right), _a[DirectionalHint.bottomAutoEdge] = _createPositionData(RectangleEdge.bottom, undefined, true), _a[DirectionalHint.leftTopEdge] = _createPositionData(RectangleEdge.left, RectangleEdge.top), _a[DirectionalHint.leftCenter] = _createPositionData(RectangleEdge.left), _a[DirectionalHint.leftBottomEdge] = _createPositionData(RectangleEdge.left, RectangleEdge.bottom), _a[DirectionalHint.rightTopEdge] = _createPositionData(RectangleEdge.right, RectangleEdge.top), _a[DirectionalHint.rightCenter] = _createPositionData(RectangleEdge.right), _a[DirectionalHint.rightBottomEdge] = _createPositionData(RectangleEdge.right, RectangleEdge.bottom), _a);\n\nfunction _isRectangleWithinBounds(rect, boundingRect) {\n  if (rect.top < boundingRect.top) {\n    return false;\n  }\n\n  if (rect.bottom > boundingRect.bottom) {\n    return false;\n  }\n\n  if (rect.left < boundingRect.left) {\n    return false;\n  }\n\n  if (rect.right > boundingRect.right) {\n    return false;\n  }\n\n  return true;\n}\n/**\n * Gets all of the edges of a rectangle that are outside of the given bounds.\n * If there are no out of bounds edges it returns an empty array.\n */\n\n\nfunction _getOutOfBoundsEdges(rect, boundingRect) {\n  var outOfBounds = [];\n\n  if (rect.top < boundingRect.top) {\n    outOfBounds.push(RectangleEdge.top);\n  }\n\n  if (rect.bottom > boundingRect.bottom) {\n    outOfBounds.push(RectangleEdge.bottom);\n  }\n\n  if (rect.left < boundingRect.left) {\n    outOfBounds.push(RectangleEdge.left);\n  }\n\n  if (rect.right > boundingRect.right) {\n    outOfBounds.push(RectangleEdge.right);\n  }\n\n  return outOfBounds;\n}\n\nfunction _getEdgeValue(rect, edge) {\n  return rect[RectangleEdge[edge]];\n}\n\nfunction _setEdgeValue(rect, edge, value) {\n  rect[RectangleEdge[edge]] = value;\n  return rect;\n}\n/**\n * Returns the middle value of an edge. Only returns 1 value rather than xy coordinates as\n * the itself already contains the other coordinate.\n * For instance, a bottom edge's current value is it's y coordinate, so the number returned is the x.\n */\n\n\nfunction _getCenterValue(rect, edge) {\n  var edges = _getFlankingEdges(edge);\n\n  return (_getEdgeValue(rect, edges.positiveEdge) + _getEdgeValue(rect, edges.negativeEdge)) / 2;\n}\n/**\n * Flips the value depending on the edge.\n * If the edge is a \"positive\" edge, Top or Left, then the value should stay as it is.\n * If the edge is a \"negative\" edge, Bottom or Right, then the value should be flipped.\n * This is to account for the fact that the coordinates are effectively reveserved in certain cases for the\n * \"negative\" edges.\n *\n * For example, when testing to see if a bottom edge 1 is within the bounds of another bottom edge 2:\n * If edge 1 is greater than edge 2 then it is out of bounds. This is reversed for top edge 1 and top edge 2.\n * If top edge 1 is less than edge 2 then it is out of bounds.\n */\n\n\nfunction _getRelativeEdgeValue(edge, value) {\n  if (edge > 0) {\n    return value;\n  } else {\n    return value * -1;\n  }\n}\n\nfunction _getRelativeRectEdgeValue(edge, rect) {\n  return _getRelativeEdgeValue(edge, _getEdgeValue(rect, edge));\n}\n\nfunction _getRelativeEdgeDifference(rect, hostRect, edge) {\n  var edgeDifference = _getEdgeValue(rect, edge) - _getEdgeValue(hostRect, edge);\n\n  return _getRelativeEdgeValue(edge, edgeDifference);\n}\n/**\n * Moves the edge of a rectangle to the value given. It only moves the edge in a linear direction based on that edge.\n * For example, if it's a bottom edge it will only change y coordinates.\n */\n\n\nfunction _moveEdge(rect, edge, newValue) {\n  var difference = _getEdgeValue(rect, edge) - newValue;\n  rect = _setEdgeValue(rect, edge, newValue);\n  rect = _setEdgeValue(rect, edge * -1, _getEdgeValue(rect, edge * -1) - difference);\n  return rect;\n}\n/**\n * Aligns the edge on the passed in rect to the target. If there is a gap then it will have that space between the two.\n */\n\n\nfunction _alignEdges(rect, target, edge, gap) {\n  if (gap === void 0) {\n    gap = 0;\n  }\n\n  return _moveEdge(rect, edge, _getEdgeValue(target, edge) + _getRelativeEdgeValue(edge, gap));\n}\n/**\n * Aligns the targetEdge on the passed in target to the rects corresponding opposite edge.\n * For instance if targetEdge is bottom, then the rects top will be moved to match it.\n */\n\n\nfunction _alignOppositeEdges(rect, target, targetEdge, gap) {\n  if (gap === void 0) {\n    gap = 0;\n  }\n\n  var oppositeEdge = targetEdge * -1;\n\n  var adjustedGap = _getRelativeEdgeValue(oppositeEdge, gap);\n\n  return _moveEdge(rect, targetEdge * -1, _getEdgeValue(target, targetEdge) + adjustedGap);\n}\n/**\n * Tests to see if the given edge is within the bounds of the given rectangle.\n */\n\n\nfunction _isEdgeInBounds(rect, bounds, edge) {\n  var adjustedRectValue = _getRelativeRectEdgeValue(edge, rect);\n\n  return adjustedRectValue > _getRelativeRectEdgeValue(edge, bounds);\n}\n/**\n * Attempts to move the rectangle through various sides of the target to find a place to fit.\n * If no fit is found, the original position should be returned.\n */\n\n\nfunction _flipToFit(rect, target, bounding, positionData, gap) {\n  if (gap === void 0) {\n    gap = 0;\n  }\n\n  var directions = [RectangleEdge.left, RectangleEdge.right, RectangleEdge.bottom, RectangleEdge.top]; // In RTL page, RectangleEdge.right has a higher priority than RectangleEdge.left, so the order should be updated.\n\n  if (getRTL()) {\n    directions[0] *= -1;\n    directions[1] *= -1;\n  }\n\n  var currentEstimate = rect;\n  var currentEdge = positionData.targetEdge;\n  var currentAlignment = positionData.alignmentEdge; // Keep switching sides until one is found with enough space.\n  // If all sides don't fit then return the unmodified element.\n\n  for (var i = 0; i < 4; i++) {\n    if (!_isEdgeInBounds(currentEstimate, bounding, currentEdge)) {\n      directions.splice(directions.indexOf(currentEdge), 1);\n\n      if (directions.length > 0) {\n        if (directions.indexOf(currentEdge * -1) > -1) {\n          currentEdge = currentEdge * -1;\n        } else {\n          currentAlignment = currentEdge;\n          currentEdge = directions.slice(-1)[0];\n        }\n\n        currentEstimate = _estimatePosition(rect, target, {\n          targetEdge: currentEdge,\n          alignmentEdge: currentAlignment\n        }, gap);\n      }\n    } else {\n      return {\n        elementRectangle: currentEstimate,\n        targetEdge: currentEdge,\n        alignmentEdge: currentAlignment\n      };\n    }\n  }\n\n  return {\n    elementRectangle: rect,\n    targetEdge: positionData.targetEdge,\n    alignmentEdge: positionData.alignmentEdge\n  };\n}\n/**\n * Flips only the alignment edge of an element rectangle. This is used instead of nudging the alignment edges\n * into position, when alignTargetEdge is specified.\n */\n\n\nfunction _flipAlignmentEdge(elementEstimate, target, gap, coverTarget) {\n  var alignmentEdge = elementEstimate.alignmentEdge,\n      targetEdge = elementEstimate.targetEdge,\n      elementRectangle = elementEstimate.elementRectangle;\n  var oppositeEdge = alignmentEdge * -1;\n\n  var newEstimate = _estimatePosition(elementRectangle, target, {\n    targetEdge: targetEdge,\n    alignmentEdge: oppositeEdge\n  }, gap, coverTarget);\n\n  return {\n    elementRectangle: newEstimate,\n    targetEdge: targetEdge,\n    alignmentEdge: oppositeEdge\n  };\n}\n/**\n * Adjusts a element rectangle to fit within the bounds given. If directionalHintFixed or covertarget is passed in\n * then the element will not flip sides on the target. They will, however, be nudged to fit within the bounds given.\n */\n\n\nfunction _adjustFitWithinBounds(element, target, bounding, positionData, gap, directionalHintFixed, coverTarget) {\n  if (gap === void 0) {\n    gap = 0;\n  }\n\n  var alignmentEdge = positionData.alignmentEdge,\n      alignTargetEdge = positionData.alignTargetEdge;\n  var elementEstimate = {\n    elementRectangle: element,\n    targetEdge: positionData.targetEdge,\n    alignmentEdge: alignmentEdge\n  };\n\n  if (!directionalHintFixed && !coverTarget) {\n    elementEstimate = _flipToFit(element, target, bounding, positionData, gap);\n  }\n\n  var outOfBounds = _getOutOfBoundsEdges(element, bounding);\n\n  if (alignTargetEdge) {\n    // The edge opposite to the alignment edge might be out of bounds.\n    // Flip alignment to see if we can get it within bounds.\n    if (elementEstimate.alignmentEdge && outOfBounds.indexOf(elementEstimate.alignmentEdge * -1) > -1) {\n      var flippedElementEstimate = _flipAlignmentEdge(elementEstimate, target, gap, coverTarget);\n\n      if (_isRectangleWithinBounds(flippedElementEstimate.elementRectangle, bounding)) {\n        return flippedElementEstimate;\n      } else {\n        // If the flipped elements edges are still out of bounds, try nudging it.\n        elementEstimate = _alignOutOfBoundsEdges(_getOutOfBoundsEdges(flippedElementEstimate.elementRectangle, bounding), elementEstimate, bounding);\n      }\n    }\n  } else {\n    elementEstimate = _alignOutOfBoundsEdges(outOfBounds, elementEstimate, bounding);\n  }\n\n  return elementEstimate;\n}\n/**\n * Iterates through a list of out of bounds edges and tries to nudge and align them.\n * @param outOfBoundsEdges - Array of edges that are out of bounds\n * @param elementEstimate - The current element positioning estimate\n * @param bounding - The current bounds\n */\n\n\nfunction _alignOutOfBoundsEdges(outOfBoundsEdges, elementEstimate, bounding) {\n  for (var _i = 0, outOfBoundsEdges_1 = outOfBoundsEdges; _i < outOfBoundsEdges_1.length; _i++) {\n    var direction = outOfBoundsEdges_1[_i];\n    elementEstimate.elementRectangle = _alignEdges(elementEstimate.elementRectangle, bounding, direction);\n  }\n\n  return elementEstimate;\n}\n/**\n * Moves the middle point on an edge to the point given.\n * Only moves in one direction. For instance if a bottom edge is passed in, then\n * the bottom edge will be moved in the x axis to match the point.\n */\n\n\nfunction _centerEdgeToPoint(rect, edge, point) {\n  var positiveEdge = _getFlankingEdges(edge).positiveEdge;\n\n  var elementMiddle = _getCenterValue(rect, edge);\n\n  var distanceToMiddle = elementMiddle - _getEdgeValue(rect, positiveEdge);\n\n  return _moveEdge(rect, positiveEdge, point - distanceToMiddle);\n}\n/**\n * Moves the element rectangle to be appropriately positioned relative to a given target.\n * Does not flip or adjust the element.\n */\n\n\nfunction _estimatePosition(elementToPosition, target, positionData, gap, coverTarget) {\n  if (gap === void 0) {\n    gap = 0;\n  }\n\n  var estimatedElementPosition;\n  var alignmentEdge = positionData.alignmentEdge,\n      targetEdge = positionData.targetEdge;\n  var elementEdge = coverTarget ? targetEdge : targetEdge * -1;\n  estimatedElementPosition = coverTarget ? _alignEdges(elementToPosition, target, targetEdge, gap) : _alignOppositeEdges(elementToPosition, target, targetEdge, gap); // if no alignment edge is provided it's supposed to be centered.\n\n  if (!alignmentEdge) {\n    var targetMiddlePoint = _getCenterValue(target, targetEdge);\n\n    estimatedElementPosition = _centerEdgeToPoint(estimatedElementPosition, elementEdge, targetMiddlePoint);\n  } else {\n    estimatedElementPosition = _alignEdges(estimatedElementPosition, target, alignmentEdge);\n  }\n\n  return estimatedElementPosition;\n}\n/**\n * Returns the non-opposite edges of the target edge.\n * For instance if bottom is passed in then left and right will be returned.\n */\n\n\nfunction _getFlankingEdges(edge) {\n  if (edge === RectangleEdge.top || edge === RectangleEdge.bottom) {\n    return {\n      positiveEdge: RectangleEdge.left,\n      negativeEdge: RectangleEdge.right\n    };\n  } else {\n    return {\n      positiveEdge: RectangleEdge.top,\n      negativeEdge: RectangleEdge.bottom\n    };\n  }\n}\n/**\n * Retrieve the final value for the return edge of elementRectangle. If the elementRectangle is closer to one side\n * of the bounds versus the other, the return edge is flipped to grow inward.\n */\n\n\nfunction _finalizeReturnEdge(elementRectangle, returnEdge, bounds) {\n  if (bounds && Math.abs(_getRelativeEdgeDifference(elementRectangle, bounds, returnEdge)) > Math.abs(_getRelativeEdgeDifference(elementRectangle, bounds, returnEdge * -1))) {\n    return returnEdge * -1;\n  }\n\n  return returnEdge;\n}\n/**\n * Finalizes the element positon based on the hostElement. Only returns the\n * rectangle values to position such that they are anchored to the target.\n * This helps prevent resizing from looking very strange.\n * For instance, if the target edge is top and aligned with the left side then\n * the bottom and left values are returned so as the callou shrinks it shrinks towards that corner.\n */\n\n\nfunction _finalizeElementPosition(elementRectangle, hostElement, targetEdge, bounds, alignmentEdge, coverTarget, doNotFinalizeReturnEdge) {\n  var returnValue = {};\n\n  var hostRect = _getRectangleFromElement(hostElement);\n\n  var elementEdge = coverTarget ? targetEdge : targetEdge * -1;\n  var elementEdgeString = RectangleEdge[elementEdge];\n  var returnEdge = alignmentEdge ? alignmentEdge : _getFlankingEdges(targetEdge).positiveEdge;\n\n  if (!doNotFinalizeReturnEdge) {\n    returnEdge = _finalizeReturnEdge(elementRectangle, returnEdge, bounds);\n  }\n\n  returnValue[elementEdgeString] = _getRelativeEdgeDifference(elementRectangle, hostRect, elementEdge);\n  returnValue[RectangleEdge[returnEdge]] = _getRelativeEdgeDifference(elementRectangle, hostRect, returnEdge);\n  return returnValue;\n} // Since the beak is rotated 45 degrees the actual height/width is the length of the diagonal.\n// We still want to position the beak based on it's midpoint which does not change. It will\n// be at (beakwidth / 2, beakwidth / 2)\n\n\nfunction _calculateActualBeakWidthInPixels(beakWidth) {\n  return Math.sqrt(beakWidth * beakWidth * 2);\n}\n/**\n * Returns the appropriate IPositionData based on the props altered for RTL.\n * If directionalHintForRTL is passed in that is used if the page is RTL.\n * If directionalHint is specified, no directionalHintForRTL is available, and the page is RTL, the hint will be\n * flipped (e.g. bottomLeftEdge would become bottomRightEdge).\n *\n * If there is no directionalHint passed in, bottomAutoEdge is chosen automatically.\n */\n\n\nfunction _getPositionData(directionalHint, directionalHintForRTL, previousPositions) {\n  if (directionalHint === void 0) {\n    directionalHint = DirectionalHint.bottomAutoEdge;\n  }\n\n  if (previousPositions) {\n    return {\n      alignmentEdge: previousPositions.alignmentEdge,\n      isAuto: previousPositions.isAuto,\n      targetEdge: previousPositions.targetEdge\n    };\n  }\n\n  var positionInformation = __assign({}, DirectionalDictionary[directionalHint]);\n\n  if (getRTL()) {\n    // If alignment edge exists and that alignment edge is -2 or 2, right or left, then flip it.\n    if (positionInformation.alignmentEdge && positionInformation.alignmentEdge % 2 === 0) {\n      positionInformation.alignmentEdge = positionInformation.alignmentEdge * -1;\n    }\n\n    return directionalHintForRTL !== undefined ? DirectionalDictionary[directionalHintForRTL] : positionInformation;\n  }\n\n  return positionInformation;\n}\n/**\n * Get's the alignment data for the given information. This only really matters if the positioning is Auto.\n * If it is auto then the alignmentEdge should be chosen based on the target edge's position relative to\n * the center of the page.\n */\n\n\nfunction _getAlignmentData(positionData, target, boundingRect, coverTarget, alignTargetEdge) {\n  if (positionData.isAuto) {\n    positionData.alignmentEdge = getClosestEdge(positionData.targetEdge, target, boundingRect);\n  }\n\n  positionData.alignTargetEdge = alignTargetEdge;\n  return positionData;\n}\n\nfunction getClosestEdge(targetEdge, target, boundingRect) {\n  var targetCenter = _getCenterValue(target, targetEdge);\n\n  var boundingCenter = _getCenterValue(boundingRect, targetEdge);\n\n  var _a = _getFlankingEdges(targetEdge),\n      positiveEdge = _a.positiveEdge,\n      negativeEdge = _a.negativeEdge;\n\n  if (targetCenter <= boundingCenter) {\n    return positiveEdge;\n  } else {\n    return negativeEdge;\n  }\n}\n\nfunction _positionElementWithinBounds(elementToPosition, target, bounding, positionData, gap, directionalHintFixed, coverTarget) {\n  var estimatedElementPosition = _estimatePosition(elementToPosition, target, positionData, gap, coverTarget);\n\n  if (_isRectangleWithinBounds(estimatedElementPosition, bounding)) {\n    return {\n      elementRectangle: estimatedElementPosition,\n      targetEdge: positionData.targetEdge,\n      alignmentEdge: positionData.alignmentEdge\n    };\n  } else {\n    return _adjustFitWithinBounds(elementToPosition, target, bounding, positionData, gap, directionalHintFixed, coverTarget);\n  }\n}\n\nfunction _finalizeBeakPosition(elementPosition, positionedBeak, bounds) {\n  var targetEdge = elementPosition.targetEdge * -1; // The \"host\" element that we will use to help position the beak.\n\n  var actualElement = new Rectangle(0, elementPosition.elementRectangle.width, 0, elementPosition.elementRectangle.height);\n  var returnValue = {};\n\n  var returnEdge = _finalizeReturnEdge(elementPosition.elementRectangle, elementPosition.alignmentEdge ? elementPosition.alignmentEdge : _getFlankingEdges(targetEdge).positiveEdge, bounds);\n\n  returnValue[RectangleEdge[targetEdge]] = _getEdgeValue(positionedBeak, targetEdge);\n  returnValue[RectangleEdge[returnEdge]] = _getRelativeEdgeDifference(positionedBeak, actualElement, returnEdge);\n  return {\n    elementPosition: __assign({}, returnValue),\n    closestEdge: getClosestEdge(elementPosition.targetEdge, positionedBeak, actualElement),\n    targetEdge: targetEdge\n  };\n}\n\nfunction _positionBeak(beakWidth, elementPosition) {\n  var target = elementPosition.targetRectangle;\n  /**\n   * Note about beak positioning: The actual beak width only matters for getting the gap between the callout and\n   * target, it does not impact the beak placement within the callout. For example example, if the beakWidth is 8,\n   * then the actual beakWidth is sqrroot(8^2 + 8^2) = 11.31x11.31. So the callout will need to be an extra 3 pixels\n   * away from its target. While the beak is being positioned in the callout it still acts as though it were 8x8.\n   */\n\n  var _a = _getFlankingEdges(elementPosition.targetEdge),\n      positiveEdge = _a.positiveEdge,\n      negativeEdge = _a.negativeEdge;\n\n  var beakTargetPoint = _getCenterValue(target, elementPosition.targetEdge);\n\n  var elementBounds = new Rectangle(beakWidth / 2, elementPosition.elementRectangle.width - beakWidth / 2, beakWidth / 2, elementPosition.elementRectangle.height - beakWidth / 2);\n  var beakPosition = new Rectangle(0, beakWidth, 0, beakWidth);\n  beakPosition = _moveEdge(beakPosition, elementPosition.targetEdge * -1, -beakWidth / 2);\n  beakPosition = _centerEdgeToPoint(beakPosition, elementPosition.targetEdge * -1, beakTargetPoint - _getRelativeRectEdgeValue(positiveEdge, elementPosition.elementRectangle));\n\n  if (!_isEdgeInBounds(beakPosition, elementBounds, positiveEdge)) {\n    beakPosition = _alignEdges(beakPosition, elementBounds, positiveEdge);\n  } else if (!_isEdgeInBounds(beakPosition, elementBounds, negativeEdge)) {\n    beakPosition = _alignEdges(beakPosition, elementBounds, negativeEdge);\n  }\n\n  return beakPosition;\n}\n\nfunction _getRectangleFromElement(element) {\n  var clientRect = element.getBoundingClientRect();\n  return new Rectangle(clientRect.left, clientRect.right, clientRect.top, clientRect.bottom);\n}\n\nfunction _getRectangleFromIRect(rect) {\n  return new Rectangle(rect.left, rect.right, rect.top, rect.bottom);\n}\n\nfunction _getTargetRect(bounds, target) {\n  var targetRectangle;\n\n  if (target) {\n    // eslint-disable-next-line no-extra-boolean-cast\n    if (!!target.preventDefault) {\n      var ev = target;\n      targetRectangle = new Rectangle(ev.clientX, ev.clientX, ev.clientY, ev.clientY); // eslint-disable-next-line no-extra-boolean-cast\n    } else if (!!target.getBoundingClientRect) {\n      targetRectangle = _getRectangleFromElement(target); // HTMLImgElements can have x and y values. The check for it being a point must go last.\n    } else {\n      var point = target; // eslint-disable-next-line deprecation/deprecation\n\n      var left = point.left || point.x; // eslint-disable-next-line deprecation/deprecation\n\n      var top_1 = point.top || point.y;\n      targetRectangle = new Rectangle(left, left, top_1, top_1);\n    }\n\n    if (!_isRectangleWithinBounds(targetRectangle, bounds)) {\n      var outOfBounds = _getOutOfBoundsEdges(targetRectangle, bounds);\n\n      for (var _i = 0, outOfBounds_1 = outOfBounds; _i < outOfBounds_1.length; _i++) {\n        var direction = outOfBounds_1[_i];\n        targetRectangle[RectangleEdge[direction]] = bounds[RectangleEdge[direction]];\n      }\n    }\n  } else {\n    targetRectangle = new Rectangle(0, 0, 0, 0);\n  }\n\n  return targetRectangle;\n}\n/**\n * If max height is less than zero it returns the bounds height instead.\n */\n\n\nfunction _getMaxHeightFromTargetRectangle(targetRectangle, targetEdge, gapSpace, bounds, coverTarget) {\n  var maxHeight = 0;\n  var directionalHint = DirectionalDictionary[targetEdge]; // If cover target is set, then the max height should be calculated using the opposite of the target edge since\n  // that's the direction that the callout will expand in.\n  // For instance, if the directionalhint is bottomLeftEdge then the callout will position so it's bottom edge\n  // is aligned with the bottom of the target and expand up towards the top of the screen and the calculated max height\n  // is (bottom of target) - (top of screen) - gapSpace.\n\n  var target = coverTarget ? directionalHint.targetEdge * -1 : directionalHint.targetEdge;\n\n  if (target === RectangleEdge.top) {\n    maxHeight = _getEdgeValue(targetRectangle, directionalHint.targetEdge) - bounds.top - gapSpace;\n  } else if (target === RectangleEdge.bottom) {\n    maxHeight = bounds.bottom - _getEdgeValue(targetRectangle, directionalHint.targetEdge) - gapSpace;\n  } else {\n    maxHeight = bounds.bottom - targetRectangle.top - gapSpace;\n  }\n\n  return maxHeight > 0 ? maxHeight : bounds.height;\n}\n\nfunction _positionElementRelative(props, elementToPosition, boundingRect, previousPositions) {\n  var gap = props.gapSpace ? props.gapSpace : 0;\n\n  var targetRect = _getTargetRect(boundingRect, props.target);\n\n  var positionData = _getAlignmentData(_getPositionData(props.directionalHint, props.directionalHintForRTL, previousPositions), targetRect, boundingRect, props.coverTarget, props.alignTargetEdge);\n\n  var positionedElement = _positionElementWithinBounds(_getRectangleFromElement(elementToPosition), targetRect, boundingRect, positionData, gap, props.directionalHintFixed, props.coverTarget);\n\n  return __assign(__assign({}, positionedElement), {\n    targetRectangle: targetRect\n  });\n}\n\nfunction _finalizePositionData(positionedElement, hostElement, bounds, coverTarget, doNotFinalizeReturnEdge) {\n  var finalizedElement = _finalizeElementPosition(positionedElement.elementRectangle, hostElement, positionedElement.targetEdge, bounds, positionedElement.alignmentEdge, coverTarget, doNotFinalizeReturnEdge);\n\n  return {\n    elementPosition: finalizedElement,\n    targetEdge: positionedElement.targetEdge,\n    alignmentEdge: positionedElement.alignmentEdge\n  };\n}\n\nfunction _positionElement(props, hostElement, elementToPosition, previousPositions) {\n  var boundingRect = props.bounds ? _getRectangleFromIRect(props.bounds) : new Rectangle(0, window.innerWidth - getScrollbarWidth(), 0, window.innerHeight);\n\n  var positionedElement = _positionElementRelative(props, elementToPosition, boundingRect, previousPositions);\n\n  return _finalizePositionData(positionedElement, hostElement, boundingRect, props.coverTarget);\n}\n\nfunction _positionCallout(props, hostElement, callout, previousPositions, doNotFinalizeReturnEdge) {\n  var beakWidth = props.isBeakVisible ? props.beakWidth || 0 : 0;\n  var gap = _calculateActualBeakWidthInPixels(beakWidth) / 2 + (props.gapSpace ? props.gapSpace : 0);\n  var positionProps = props;\n  positionProps.gapSpace = gap;\n  var boundingRect = props.bounds ? _getRectangleFromIRect(props.bounds) : new Rectangle(0, window.innerWidth - getScrollbarWidth(), 0, window.innerHeight);\n\n  var positionedElement = _positionElementRelative(positionProps, callout, boundingRect, previousPositions);\n\n  var beakPositioned = _positionBeak(beakWidth, positionedElement);\n\n  var finalizedBeakPosition = _finalizeBeakPosition(positionedElement, beakPositioned, boundingRect);\n\n  return __assign(__assign({}, _finalizePositionData(positionedElement, hostElement, boundingRect, props.coverTarget, doNotFinalizeReturnEdge)), {\n    beakPosition: finalizedBeakPosition\n  });\n}\n\nfunction _positionCard(props, hostElement, callout, previousPositions) {\n  return _positionCallout(props, hostElement, callout, previousPositions, true);\n} // END PRIVATE FUNCTIONS\n\n\nexport var __positioningTestPackage = {\n  _finalizePositionData: _finalizePositionData,\n  _finalizeBeakPosition: _finalizeBeakPosition,\n  _calculateActualBeakWidthInPixels: _calculateActualBeakWidthInPixels,\n  _positionElementWithinBounds: _positionElementWithinBounds,\n  _positionBeak: _positionBeak,\n  _getPositionData: _getPositionData,\n  _getMaxHeightFromTargetRectangle: _getMaxHeightFromTargetRectangle\n};\n/**\n * Used to position an element relative to the given positioning props.\n * If positioning has been completed before, previousPositions can be passed to ensure that the positioning element\n * repositions based on its previous targets rather than starting with directionalhint.\n */\n\nexport function positionElement(props, hostElement, elementToPosition, previousPositions) {\n  return _positionElement(props, hostElement, elementToPosition, previousPositions);\n}\nexport function positionCallout(props, hostElement, elementToPosition, previousPositions) {\n  return _positionCallout(props, hostElement, elementToPosition, previousPositions);\n}\nexport function positionCard(props, hostElement, elementToPosition, previousPositions) {\n  return _positionCard(props, hostElement, elementToPosition, previousPositions);\n}\n/**\n * Gets the maximum height that a rectangle can have in order to fit below or above a target.\n * If the directional hint specifies a left or right edge (i.e. leftCenter) it will limit the height to the topBorder\n * of the target given.\n * If no bounds are provided then the window is treated as the bounds.\n */\n\nexport function getMaxHeight(target, targetEdge, gapSpace, bounds, coverTarget) {\n  if (gapSpace === void 0) {\n    gapSpace = 0;\n  }\n\n  var mouseTarget = target;\n  var elementTarget = target;\n  var pointTarget = target;\n  var targetRect;\n  var boundingRectangle = bounds ? _getRectangleFromIRect(bounds) : new Rectangle(0, window.innerWidth - getScrollbarWidth(), 0, window.innerHeight); // eslint-disable-next-line deprecation/deprecation\n\n  var left = pointTarget.left || pointTarget.x; // eslint-disable-next-line deprecation/deprecation\n\n  var top = pointTarget.top || pointTarget.y; // eslint-disable-next-line no-extra-boolean-cast -- may not actually be a MouseEvent\n\n  if (!!mouseTarget.stopPropagation) {\n    targetRect = new Rectangle(mouseTarget.clientX, mouseTarget.clientX, mouseTarget.clientY, mouseTarget.clientY);\n  } else if (left !== undefined && top !== undefined) {\n    targetRect = new Rectangle(left, left, top, top);\n  } else {\n    targetRect = _getRectangleFromElement(elementTarget);\n  }\n\n  return _getMaxHeightFromTargetRectangle(targetRect, targetEdge, gapSpace, boundingRectangle, coverTarget);\n}\n/**\n * Returns the opposite edge of the given RectangleEdge.\n */\n\nexport function getOppositeEdge(edge) {\n  return edge * -1;\n}\n\nfunction _getBoundsFromTargetWindow(target, targetWindow) {\n  var segments = undefined;\n\n  if (targetWindow.getWindowSegments) {\n    segments = targetWindow.getWindowSegments();\n  } // Identify if we're dealing with single screen scenarios.\n\n\n  if (segments === undefined || segments.length <= 1) {\n    return {\n      top: 0,\n      left: 0,\n      right: targetWindow.innerWidth,\n      bottom: targetWindow.innerHeight,\n      width: targetWindow.innerWidth,\n      height: targetWindow.innerHeight\n    };\n  } // Logic for determining dual screen scenarios.\n\n\n  var x = 0;\n  var y = 0; // If the target is an Element get coordinates for its center.\n\n  if (target !== null && !!target.getBoundingClientRect) {\n    var clientRect = target.getBoundingClientRect();\n    x = (clientRect.left + clientRect.right) / 2;\n    y = (clientRect.top + clientRect.bottom) / 2;\n  } // If the target is not null get x-axis and y-axis coordinates directly.\n  else if (target !== null) {\n      // eslint-disable-next-line deprecation/deprecation\n      x = target.left || target.x; // eslint-disable-next-line deprecation/deprecation\n\n      y = target.top || target.y;\n    }\n\n  var bounds = {\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    width: 0,\n    height: 0\n  }; // Define which window segment are the coordinates in and calculate bounds based on that.\n\n  for (var _i = 0, segments_1 = segments; _i < segments_1.length; _i++) {\n    var segment = segments_1[_i];\n\n    if (x && segment.left <= x && segment.right >= x && y && segment.top <= y && segment.bottom >= y) {\n      bounds = {\n        top: segment.top,\n        left: segment.left,\n        right: segment.right,\n        bottom: segment.bottom,\n        width: segment.width,\n        height: segment.height\n      };\n    }\n  }\n\n  return bounds;\n}\n\nexport function getBoundsFromTargetWindow(target, targetWindow) {\n  return _getBoundsFromTargetWindow(target, targetWindow);\n}","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { Async, KeyCodes, divProperties, doesElementContainFocus, getDocument, getNativeProps, on, getWindow, elementContains } from '../../Utilities';\n/**\n * This adds accessibility to Dialog and Panel controls\n */\n\nvar Popup =\n/** @class */\nfunction (_super) {\n  __extends(Popup, _super);\n\n  function Popup(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._root = React.createRef();\n    _this._disposables = [];\n\n    _this._onKeyDown = function (ev) {\n      switch (ev.which) {\n        case KeyCodes.escape:\n          if (_this.props.onDismiss) {\n            _this.props.onDismiss(ev);\n\n            ev.preventDefault();\n            ev.stopPropagation();\n          }\n\n          break;\n      }\n    };\n\n    _this._onFocus = function () {\n      _this._containsFocus = true;\n    };\n\n    _this._onBlur = function (ev) {\n      /** The popup should update this._containsFocus when:\n       * relatedTarget exists AND\n       * the relatedTarget is not contained within the popup.\n       * If the relatedTarget is within the popup, that means the popup still has focus\n       * and focused moved from one element to another within the popup.\n       * If relatedTarget is undefined or null that usually means that a\n       * keyboard event occured and focus didn't change\n       */\n      if (_this._root.current && ev.relatedTarget && !elementContains(_this._root.current, ev.relatedTarget)) {\n        _this._containsFocus = false;\n      }\n    };\n\n    _this._async = new Async(_this);\n    _this.state = {\n      needsVerticalScrollBar: false\n    };\n    return _this;\n  }\n\n  Popup.prototype.UNSAFE_componentWillMount = function () {\n    this._originalFocusedElement = getDocument().activeElement;\n  };\n\n  Popup.prototype.componentDidMount = function () {\n    if (this._root.current) {\n      this._disposables.push(on(this._root.current, 'focus', this._onFocus, true), on(this._root.current, 'blur', this._onBlur, true));\n\n      var currentWindow = getWindow(this._root.current);\n\n      if (currentWindow) {\n        this._disposables.push(on(currentWindow, 'keydown', this._onKeyDown));\n      }\n\n      if (doesElementContainFocus(this._root.current)) {\n        this._containsFocus = true;\n      }\n    }\n\n    this._updateScrollBarAsync();\n  };\n\n  Popup.prototype.componentDidUpdate = function () {\n    this._updateScrollBarAsync();\n\n    this._async.dispose();\n  };\n\n  Popup.prototype.componentWillUnmount = function () {\n    var _a;\n\n    this._disposables.forEach(function (dispose) {\n      return dispose();\n    }); // eslint-disable-next-line deprecation/deprecation\n\n\n    if (this.props.shouldRestoreFocus) {\n      var _b = this.props.onRestoreFocus,\n          onRestoreFocus = _b === void 0 ? defaultFocusRestorer : _b;\n      onRestoreFocus({\n        originalElement: this._originalFocusedElement,\n        containsFocus: this._containsFocus,\n        documentContainsFocus: ((_a = getDocument()) === null || _a === void 0 ? void 0 : _a.hasFocus()) || false\n      });\n    } // De-reference DOM Node to avoid retainment via transpiled closure of _onKeyDown\n\n\n    delete this._originalFocusedElement;\n  };\n\n  Popup.prototype.render = function () {\n    var _a = this.props,\n        role = _a.role,\n        className = _a.className,\n        ariaLabel = _a.ariaLabel,\n        ariaLabelledBy = _a.ariaLabelledBy,\n        ariaDescribedBy = _a.ariaDescribedBy,\n        style = _a.style;\n    return React.createElement(\"div\", __assign({\n      ref: this._root\n    }, getNativeProps(this.props, divProperties), {\n      className: className,\n      role: role,\n      \"aria-label\": ariaLabel,\n      \"aria-labelledby\": ariaLabelledBy,\n      \"aria-describedby\": ariaDescribedBy,\n      onKeyDown: this._onKeyDown,\n      style: __assign({\n        overflowY: this.state.needsVerticalScrollBar ? 'scroll' : undefined,\n        outline: 'none'\n      }, style)\n    }), this.props.children);\n  };\n\n  Popup.prototype._updateScrollBarAsync = function () {\n    var _this = this;\n\n    this._async.requestAnimationFrame(function () {\n      _this._getScrollBar();\n    });\n  };\n\n  Popup.prototype._getScrollBar = function () {\n    // If overflowY is overriden, don't waste time calculating whether the scrollbar is necessary.\n    if (this.props.style && this.props.style.overflowY) {\n      return;\n    }\n\n    var needsVerticalScrollBar = false;\n\n    if (this._root && this._root.current && this._root.current.firstElementChild) {\n      // ClientHeight returns the client height of an element rounded to an\n      // integer. On some browsers at different zoom levels this rounding\n      // can generate different results for the root container and child even\n      // though they are the same height. This causes us to show a scroll bar\n      // when not needed. Ideally we would use BoundingClientRect().height\n      // instead however seems that the API is 90% slower than using ClientHeight.\n      // Therefore instead we will calculate the difference between heights and\n      // allow for a 1px difference to still be considered ok and not show the\n      // scroll bar.\n      var rootHeight = this._root.current.clientHeight;\n      var firstChildHeight = this._root.current.firstElementChild.clientHeight;\n\n      if (rootHeight > 0 && firstChildHeight > rootHeight) {\n        needsVerticalScrollBar = firstChildHeight - rootHeight > 1;\n      }\n    }\n\n    if (this.state.needsVerticalScrollBar !== needsVerticalScrollBar) {\n      this.setState({\n        needsVerticalScrollBar: needsVerticalScrollBar\n      });\n    }\n  };\n\n  Popup.defaultProps = {\n    shouldRestoreFocus: true\n  };\n  return Popup;\n}(React.Component);\n\nexport { Popup };\n\nfunction defaultFocusRestorer(options) {\n  var originalElement = options.originalElement,\n      containsFocus = options.containsFocus;\n\n  if (originalElement && containsFocus && originalElement !== window) {\n    // Make sure that the focus method actually exists\n    // In some cases the object might exist but not be a real element.\n    // This is primarily for IE 11 and should be removed once IE 11 is no longer in use.\n    if (originalElement.focus) {\n      originalElement.focus();\n    }\n  }\n}","var _a;\n\nimport { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport { Async, css, divProperties, elementContains, focusFirstChild, getDocument, getNativeProps, getWindow, on, shallowCompare } from '../../Utilities';\nimport { positionCallout, getMaxHeight, RectangleEdge, positionCard, getBoundsFromTargetWindow } from '../../utilities/positioning';\nimport { Popup } from '../../Popup';\nimport { classNamesFunction } from '../../Utilities';\nimport { AnimationClassNames } from '../../Styling';\nvar ANIMATIONS = (_a = {}, _a[RectangleEdge.top] = AnimationClassNames.slideUpIn10, _a[RectangleEdge.bottom] = AnimationClassNames.slideDownIn10, _a[RectangleEdge.left] = AnimationClassNames.slideLeftIn10, _a[RectangleEdge.right] = AnimationClassNames.slideRightIn10, _a);\nvar getClassNames = classNamesFunction({\n  disableCaching: true\n});\nvar BEAK_ORIGIN_POSITION = {\n  top: 0,\n  left: 0\n}; // Microsoft Edge will overwrite inline styles if there is an animation pertaining to that style.\n// To help ensure that edge will respect the offscreen style opacity\n// filter needs to be added as an additional way to set opacity.\n// Also set pointer-events: none so that the callout will not occlude the element it is\n// going to be positioned against\n\nvar OFF_SCREEN_STYLE = {\n  opacity: 0,\n  filter: 'opacity(0)',\n  pointerEvents: 'none'\n}; // role and role description go hand-in-hand. Both would be included by spreading getNativeProps for a basic element\n// This constant array can be used to filter these out of native props spread on callout root and apply them together on\n// calloutMain (the Popup component within the callout)\n\nvar ARIA_ROLE_ATTRIBUTES = ['role', 'aria-roledescription'];\n\nvar CalloutContentBase =\n/** @class */\nfunction (_super) {\n  __extends(CalloutContentBase, _super);\n\n  function CalloutContentBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._hostElement = React.createRef();\n    _this._calloutElement = React.createRef();\n    _this._hasListeners = false;\n    _this._disposables = [];\n\n    _this.dismiss = function (ev) {\n      var onDismiss = _this.props.onDismiss;\n\n      if (onDismiss) {\n        onDismiss(ev);\n      }\n    };\n\n    _this._dismissOnScroll = function (ev) {\n      // eslint-disable-next-line deprecation/deprecation\n      var _a = _this.props,\n          preventDismissOnEvent = _a.preventDismissOnEvent,\n          preventDismissOnScroll = _a.preventDismissOnScroll;\n\n      if (_this.state.positions && (preventDismissOnEvent && !preventDismissOnEvent(ev) || !preventDismissOnEvent && !preventDismissOnScroll)) {\n        _this._dismissOnClickOrScroll(ev);\n      }\n    };\n\n    _this._dismissOnResize = function (ev) {\n      // eslint-disable-next-line deprecation/deprecation\n      var _a = _this.props,\n          preventDismissOnEvent = _a.preventDismissOnEvent,\n          preventDismissOnResize = _a.preventDismissOnResize;\n\n      if (preventDismissOnEvent && !preventDismissOnEvent(ev) || !preventDismissOnEvent && !preventDismissOnResize) {\n        _this.dismiss(ev);\n      }\n    };\n\n    _this._dismissOnLostFocus = function (ev) {\n      // eslint-disable-next-line deprecation/deprecation\n      var _a = _this.props,\n          preventDismissOnEvent = _a.preventDismissOnEvent,\n          preventDismissOnLostFocus = _a.preventDismissOnLostFocus;\n\n      if (preventDismissOnEvent && !preventDismissOnEvent(ev) || !preventDismissOnEvent && !preventDismissOnLostFocus) {\n        _this._dismissOnClickOrScroll(ev);\n      }\n    };\n\n    _this._setInitialFocus = function () {\n      if (_this.props.setInitialFocus && !_this._didSetInitialFocus && _this.state.positions && _this._calloutElement.current) {\n        _this._didSetInitialFocus = true;\n\n        _this._async.requestAnimationFrame(function () {\n          return focusFirstChild(_this._calloutElement.current);\n        }, _this._calloutElement.current);\n      }\n    };\n\n    _this._onComponentDidMount = function () {\n      _this._addListeners();\n\n      if (_this.props.onLayerMounted) {\n        _this.props.onLayerMounted();\n      }\n\n      _this._updateAsyncPosition();\n\n      _this._setHeightOffsetEveryFrame();\n    };\n\n    _this._dismissOnTargetWindowBlur = function (ev) {\n      // eslint-disable-next-line deprecation/deprecation\n      var _a = _this.props,\n          preventDismissOnEvent = _a.preventDismissOnEvent,\n          preventDismissOnLostFocus = _a.preventDismissOnLostFocus,\n          shouldDismissOnWindowFocus = _a.shouldDismissOnWindowFocus; // Do nothing\n\n      if (!shouldDismissOnWindowFocus) {\n        return;\n      }\n\n      if ((preventDismissOnEvent && !preventDismissOnEvent(ev) || !preventDismissOnEvent && !preventDismissOnLostFocus) && !_this._targetWindow.document.hasFocus() && ev.relatedTarget === null) {\n        _this.dismiss(ev);\n      }\n    };\n\n    _this._mouseDownOnPopup = function () {\n      _this._isMouseDownOnPopup = true;\n    };\n\n    _this._mouseUpOnPopup = function () {\n      _this._isMouseDownOnPopup = false;\n    };\n\n    _this._async = new Async(_this);\n    _this._didSetInitialFocus = false;\n    _this.state = {\n      positions: undefined,\n      slideDirectionalClassName: undefined,\n      // @TODO it looks like this is not even being used anymore.\n      calloutElementRect: undefined,\n      heightOffset: 0\n    };\n    _this._positionAttempts = 0;\n    return _this;\n  }\n\n  CalloutContentBase.prototype.componentDidUpdate = function () {\n    if (!this.props.hidden) {\n      this._setInitialFocus();\n\n      if (!this._hasListeners) {\n        this._addListeners();\n      }\n\n      this._updateAsyncPosition();\n    } else {\n      if (this._hasListeners) {\n        this._removeListeners();\n      }\n    }\n  };\n\n  CalloutContentBase.prototype.shouldComponentUpdate = function (newProps, newState) {\n    if (!newProps.shouldUpdateWhenHidden && this.props.hidden && newProps.hidden) {\n      // Do not update when hidden.\n      return false;\n    }\n\n    return !shallowCompare(this.props, newProps) || !shallowCompare(this.state, newState);\n  };\n\n  CalloutContentBase.prototype.UNSAFE_componentWillMount = function () {\n    this._setTargetWindowAndElement(this._getTarget());\n  };\n\n  CalloutContentBase.prototype.componentWillUnmount = function () {\n    this._async.dispose();\n\n    this._disposables.forEach(function (dispose) {\n      return dispose();\n    });\n  };\n\n  CalloutContentBase.prototype.UNSAFE_componentWillUpdate = function (newProps) {\n    // If the target element changed, find the new one. If we are tracking target with class name, always find element\n    // because we do not know if fabric has rendered a new element and disposed the old element.\n    var newTarget = this._getTarget(newProps);\n\n    var oldTarget = this._getTarget();\n\n    if ((newTarget !== oldTarget || typeof newTarget === 'string' || newTarget instanceof String) && !this._blockResetHeight) {\n      this._maxHeight = undefined;\n\n      this._setTargetWindowAndElement(newTarget);\n    }\n\n    if (newProps.gapSpace !== this.props.gapSpace || this.props.beakWidth !== newProps.beakWidth) {\n      this._maxHeight = undefined;\n    }\n\n    if (newProps.finalHeight !== this.props.finalHeight) {\n      this._setHeightOffsetEveryFrame();\n    } // Ensure positioning is recalculated when we are about to show a persisted menu.\n\n\n    if (this._didPositionPropsChange(newProps, this.props)) {\n      this._maxHeight = undefined; // Target might have been updated while hidden.\n\n      this._setTargetWindowAndElement(newTarget);\n\n      this.setState({\n        positions: undefined\n      });\n      this._didSetInitialFocus = false;\n      this._bounds = undefined;\n    }\n\n    this._blockResetHeight = false;\n  };\n\n  CalloutContentBase.prototype.componentDidMount = function () {\n    if (!this.props.hidden) {\n      this._onComponentDidMount();\n    }\n  };\n\n  CalloutContentBase.prototype.render = function () {\n    // If there is no target window then we are likely in server side rendering and we should not render anything.\n    if (!this._targetWindow) {\n      return null;\n    }\n\n    var target = this.props.target;\n    var _a = this.props,\n        styles = _a.styles,\n        style = _a.style,\n        ariaLabel = _a.ariaLabel,\n        ariaDescribedBy = _a.ariaDescribedBy,\n        ariaLabelledBy = _a.ariaLabelledBy,\n        className = _a.className,\n        isBeakVisible = _a.isBeakVisible,\n        children = _a.children,\n        beakWidth = _a.beakWidth,\n        calloutWidth = _a.calloutWidth,\n        calloutMaxWidth = _a.calloutMaxWidth,\n        finalHeight = _a.finalHeight,\n        _b = _a.hideOverflow,\n        hideOverflow = _b === void 0 ? !!finalHeight : _b,\n        backgroundColor = _a.backgroundColor,\n        calloutMaxHeight = _a.calloutMaxHeight,\n        onScroll = _a.onScroll,\n        // eslint-disable-next-line deprecation/deprecation\n    _c = _a.shouldRestoreFocus,\n        // eslint-disable-next-line deprecation/deprecation\n    shouldRestoreFocus = _c === void 0 ? true : _c;\n    target = this._getTarget();\n    var positions = this.state.positions;\n    var getContentMaxHeight = this._getMaxHeight() ? this._getMaxHeight() + this.state.heightOffset : undefined;\n    var contentMaxHeight = calloutMaxHeight && getContentMaxHeight && calloutMaxHeight < getContentMaxHeight ? calloutMaxHeight : getContentMaxHeight;\n    var overflowYHidden = hideOverflow;\n    var beakVisible = isBeakVisible && !!target;\n    this._classNames = getClassNames(styles, {\n      theme: this.props.theme,\n      className: className,\n      overflowYHidden: overflowYHidden,\n      calloutWidth: calloutWidth,\n      positions: positions,\n      beakWidth: beakWidth,\n      backgroundColor: backgroundColor,\n      calloutMaxWidth: calloutMaxWidth\n    });\n\n    var overflowStyle = __assign(__assign(__assign({}, style), {\n      maxHeight: contentMaxHeight\n    }), overflowYHidden && {\n      overflowY: 'hidden'\n    });\n\n    var visibilityStyle = this.props.hidden ? {\n      visibility: 'hidden'\n    } : undefined; // React.CSSProperties does not understand IRawStyle, so the inline animations will need to be cast as any for now.\n\n    var content = React.createElement(\"div\", {\n      ref: this._hostElement,\n      className: this._classNames.container,\n      style: visibilityStyle\n    }, React.createElement(\"div\", __assign({}, getNativeProps(this.props, divProperties, ARIA_ROLE_ATTRIBUTES), {\n      className: css(this._classNames.root, positions && positions.targetEdge && ANIMATIONS[positions.targetEdge]),\n      style: positions ? positions.elementPosition : OFF_SCREEN_STYLE,\n      // Safari and Firefox on Mac OS requires this to back-stop click events so focus remains in the Callout.\n      // See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus\n      tabIndex: -1,\n      ref: this._calloutElement\n    }), beakVisible && React.createElement(\"div\", {\n      className: this._classNames.beak,\n      style: this._getBeakPosition()\n    }), beakVisible && React.createElement(\"div\", {\n      className: this._classNames.beakCurtain\n    }), React.createElement(Popup, __assign({}, getNativeProps(this.props, ARIA_ROLE_ATTRIBUTES), {\n      ariaLabel: ariaLabel,\n      onRestoreFocus: this.props.onRestoreFocus,\n      ariaDescribedBy: ariaDescribedBy,\n      ariaLabelledBy: ariaLabelledBy,\n      className: this._classNames.calloutMain,\n      onDismiss: this.dismiss,\n      onScroll: onScroll,\n      shouldRestoreFocus: shouldRestoreFocus,\n      style: overflowStyle,\n      onMouseDown: this._mouseDownOnPopup,\n      onMouseUp: this._mouseUpOnPopup\n    }), children)));\n    return content;\n  };\n\n  CalloutContentBase.prototype._dismissOnClickOrScroll = function (ev) {\n    var target = ev.target;\n    var isEventTargetOutsideCallout = this._hostElement.current && !elementContains(this._hostElement.current, target); // If mouse is pressed down on callout but moved outside then released, don't dismiss the callout.\n\n    if (isEventTargetOutsideCallout && this._isMouseDownOnPopup) {\n      this._isMouseDownOnPopup = false;\n      return;\n    }\n\n    if (!this._target && isEventTargetOutsideCallout || ev.target !== this._targetWindow && isEventTargetOutsideCallout && (this._target.stopPropagation || !this._target || this.props.dismissOnTargetClick || target !== this._target && !elementContains(this._target, target))) {\n      this.dismiss(ev);\n    }\n  };\n\n  CalloutContentBase.prototype._addListeners = function () {\n    var _this = this; // This is added so the callout will dismiss when the window is scrolled\n    // but not when something inside the callout is scrolled. The delay seems\n    // to be required to avoid React firing an async focus event in IE from\n    // the target changing focus quickly prior to rendering the callout.\n\n\n    this._async.setTimeout(function () {\n      _this._disposables.push(on(_this._targetWindow, 'scroll', _this._dismissOnScroll, true), on(_this._targetWindow, 'resize', _this._dismissOnResize, true), on(_this._targetWindow.document.documentElement, 'focus', _this._dismissOnLostFocus, true), on(_this._targetWindow.document.documentElement, 'click', _this._dismissOnLostFocus, true), on(_this._targetWindow, 'blur', _this._dismissOnTargetWindowBlur, true));\n\n      _this._hasListeners = true;\n    }, 0);\n  };\n\n  CalloutContentBase.prototype._removeListeners = function () {\n    this._disposables.forEach(function (dispose) {\n      return dispose();\n    });\n\n    this._disposables = [];\n    this._hasListeners = false;\n  };\n\n  CalloutContentBase.prototype._updateAsyncPosition = function () {\n    var _this = this;\n\n    this._async.requestAnimationFrame(function () {\n      return _this._updatePosition();\n    }, this._calloutElement.current);\n  };\n\n  CalloutContentBase.prototype._getBeakPosition = function () {\n    var positions = this.state.positions;\n\n    var beakPostionStyle = __assign({}, positions && positions.beakPosition ? positions.beakPosition.elementPosition : null);\n\n    if (!beakPostionStyle.top && !beakPostionStyle.bottom && !beakPostionStyle.left && !beakPostionStyle.right) {\n      beakPostionStyle.left = BEAK_ORIGIN_POSITION.left;\n      beakPostionStyle.top = BEAK_ORIGIN_POSITION.top;\n    }\n\n    return beakPostionStyle;\n  };\n\n  CalloutContentBase.prototype._updatePosition = function () {\n    // Try to update the target, page might have changed\n    this._setTargetWindowAndElement(this._getTarget());\n\n    var positions = this.state.positions;\n    var hostElement = this._hostElement.current;\n    var calloutElement = this._calloutElement.current; // If we expect a target element to position against, we need to wait until `this._target` is resolved. Otherwise\n    // we can try to position.\n\n    var expectsTarget = !!this.props.target;\n\n    if (hostElement && calloutElement && (!expectsTarget || this._target)) {\n      var currentProps = __assign({}, this.props);\n\n      currentProps.bounds = this._getBounds();\n      currentProps.target = this._target; // If there is a finalHeight given then we assume that the user knows and will handle\n      // additional positioning adjustments so we should call positionCard\n\n      var newPositions = this.props.finalHeight ? positionCard(currentProps, hostElement, calloutElement, positions) : positionCallout(currentProps, hostElement, calloutElement, positions); // Set the new position only when the positions are not exists or one of the new callout positions are different.\n      // The position should not change if the position is within 2 decimal places.\n\n      if (!positions && newPositions || positions && newPositions && !this._arePositionsEqual(positions, newPositions) && this._positionAttempts < 5) {\n        // We should not reposition the callout more than a few times, if it is then the content is likely resizing\n        // and we should stop trying to reposition to prevent a stack overflow.\n        this._positionAttempts++;\n        this.setState({\n          positions: newPositions\n        });\n      } else if (this._positionAttempts > 0) {\n        // Only call the onPositioned callback if the callout has been re-positioned at least once.\n        this._positionAttempts = 0;\n\n        if (this.props.onPositioned) {\n          this.props.onPositioned(this.state.positions);\n        }\n      }\n    }\n  };\n\n  CalloutContentBase.prototype._getBounds = function () {\n    if (!this._bounds) {\n      var bounds = this.props.bounds;\n      var currentBounds = typeof bounds === 'function' ? bounds(this.props.target, this._targetWindow) : bounds;\n\n      if (!currentBounds) {\n        currentBounds = getBoundsFromTargetWindow(this._target, this._targetWindow);\n        currentBounds = {\n          top: currentBounds.top + this.props.minPagePadding,\n          left: currentBounds.left + this.props.minPagePadding,\n          right: currentBounds.right - this.props.minPagePadding,\n          bottom: currentBounds.bottom - this.props.minPagePadding,\n          width: currentBounds.width - this.props.minPagePadding * 2,\n          height: currentBounds.height - this.props.minPagePadding * 2\n        };\n      }\n\n      this._bounds = currentBounds;\n    }\n\n    return this._bounds;\n  }; // Max height should remain as synchronous as possible, which is why it is not done using set state.\n  // It needs to be synchronous since it will impact the ultimate position of the callout.\n\n\n  CalloutContentBase.prototype._getMaxHeight = function () {\n    var _this = this;\n\n    if (!this._maxHeight) {\n      if (this.props.directionalHintFixed && this._target) {\n        var beakWidth = this.props.isBeakVisible ? this.props.beakWidth : 0;\n        var gapSpace = this.props.gapSpace ? this.props.gapSpace : 0; // Since the callout cannot measure it's border size it must be taken into account here. Otherwise it will\n        // overlap with the target.\n\n        var totalGap_1 = gapSpace + beakWidth;\n\n        this._async.requestAnimationFrame(function () {\n          if (_this._target) {\n            _this._maxHeight = getMaxHeight(_this._target, _this.props.directionalHint, totalGap_1, _this._getBounds(), _this.props.coverTarget);\n            _this._blockResetHeight = true;\n\n            _this.forceUpdate();\n          }\n        }, this._target);\n      } else {\n        this._maxHeight = this._getBounds().height;\n      }\n    }\n\n    return this._maxHeight;\n  };\n\n  CalloutContentBase.prototype._arePositionsEqual = function (positions, newPosition) {\n    return this._comparePositions(positions.elementPosition, newPosition.elementPosition) && this._comparePositions(positions.beakPosition.elementPosition, newPosition.beakPosition.elementPosition);\n  };\n\n  CalloutContentBase.prototype._comparePositions = function (oldPositions, newPositions) {\n    for (var key in newPositions) {\n      if (newPositions.hasOwnProperty(key)) {\n        var oldPositionEdge = oldPositions[key];\n        var newPositionEdge = newPositions[key];\n\n        if (oldPositionEdge !== undefined && newPositionEdge !== undefined) {\n          if (oldPositionEdge.toFixed(2) !== newPositionEdge.toFixed(2)) {\n            return false;\n          }\n        } else {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  CalloutContentBase.prototype._setTargetWindowAndElement = function (target) {\n    var currentElement = this._calloutElement.current;\n\n    if (target) {\n      if (typeof target === 'string') {\n        var currentDoc = getDocument(currentElement);\n        this._target = currentDoc ? currentDoc.querySelector(target) : null;\n        this._targetWindow = getWindow(currentElement); // Cast to any prevents error about stopPropagation always existing\n      } else if (target.stopPropagation) {\n        this._targetWindow = getWindow(target.target);\n        this._target = target; // Same reason here\n      } else if (target.getBoundingClientRect) {\n        var targetElement = target;\n        this._targetWindow = getWindow(targetElement);\n        this._target = targetElement;\n      } else if (target.current !== undefined) {\n        this._target = target.current;\n        this._targetWindow = getWindow(this._target); // HTMLImgElements can have x and y values. The check for it being a point must go last.\n      } else {\n        this._targetWindow = getWindow(currentElement);\n        this._target = target;\n      }\n    } else {\n      this._targetWindow = getWindow(currentElement);\n    }\n  };\n\n  CalloutContentBase.prototype._setHeightOffsetEveryFrame = function () {\n    var _this = this;\n\n    if (this._calloutElement.current && this.props.finalHeight) {\n      this._setHeightOffsetTimer = this._async.requestAnimationFrame(function () {\n        var calloutMainElem = _this._calloutElement.current && _this._calloutElement.current.lastChild;\n\n        if (!calloutMainElem) {\n          return;\n        }\n\n        var cardScrollHeight = calloutMainElem.scrollHeight;\n        var cardCurrHeight = calloutMainElem.offsetHeight;\n        var scrollDiff = cardScrollHeight - cardCurrHeight;\n\n        _this.setState({\n          heightOffset: _this.state.heightOffset + scrollDiff\n        });\n\n        if (calloutMainElem.offsetHeight < _this.props.finalHeight) {\n          _this._setHeightOffsetEveryFrame();\n        } else {\n          _this._async.cancelAnimationFrame(_this._setHeightOffsetTimer, _this._calloutElement.current);\n        }\n      }, this._calloutElement.current);\n    }\n  }; // Whether or not the current positions should be reset\n\n\n  CalloutContentBase.prototype._didPositionPropsChange = function (newProps, oldProps) {\n    return !newProps.hidden && newProps.hidden !== oldProps.hidden || newProps.directionalHint !== oldProps.directionalHint;\n  };\n\n  CalloutContentBase.prototype._getTarget = function (props) {\n    if (props === void 0) {\n      props = this.props;\n    }\n\n    var target = props.target;\n    return target;\n  };\n\n  CalloutContentBase.defaultProps = {\n    preventDismissOnLostFocus: false,\n    preventDismissOnScroll: false,\n    preventDismissOnResize: false,\n    isBeakVisible: true,\n    beakWidth: 16,\n    gapSpace: 0,\n    minPagePadding: 8,\n    directionalHint: DirectionalHint.bottomAutoEdge\n  };\n  return CalloutContentBase;\n}(React.Component);\n\nexport { CalloutContentBase };","import { HighContrastSelector, focusClear, getGlobalClassNames } from '../../Styling';\n\nfunction getBeakStyle(beakWidth) {\n  return {\n    height: beakWidth,\n    width: beakWidth\n  };\n}\n\nvar GlobalClassNames = {\n  container: 'ms-Callout-container',\n  root: 'ms-Callout',\n  beak: 'ms-Callout-beak',\n  beakCurtain: 'ms-Callout-beakCurtain',\n  calloutMain: 'ms-Callout-main'\n};\nexport var getStyles = function getStyles(props) {\n  var _a;\n\n  var theme = props.theme,\n      className = props.className,\n      overflowYHidden = props.overflowYHidden,\n      calloutWidth = props.calloutWidth,\n      beakWidth = props.beakWidth,\n      backgroundColor = props.backgroundColor,\n      calloutMaxWidth = props.calloutMaxWidth;\n  var classNames = getGlobalClassNames(GlobalClassNames, theme);\n  var semanticColors = theme.semanticColors,\n      effects = theme.effects;\n  return {\n    container: [classNames.container, {\n      position: 'relative'\n    }],\n    root: [classNames.root, theme.fonts.medium, {\n      position: 'absolute',\n      boxSizing: 'border-box',\n      borderRadius: effects.roundedCorner2,\n      boxShadow: effects.elevation16,\n      selectors: (_a = {}, _a[HighContrastSelector] = {\n        borderWidth: 1,\n        borderStyle: 'solid',\n        borderColor: 'WindowText'\n      }, _a)\n    }, focusClear(), className, !!calloutWidth && {\n      width: calloutWidth\n    }, !!calloutMaxWidth && {\n      maxWidth: calloutMaxWidth\n    }],\n    beak: [classNames.beak, {\n      position: 'absolute',\n      backgroundColor: semanticColors.menuBackground,\n      boxShadow: 'inherit',\n      border: 'inherit',\n      boxSizing: 'border-box',\n      transform: 'rotate(45deg)'\n    }, getBeakStyle(beakWidth), backgroundColor && {\n      backgroundColor: backgroundColor\n    }],\n    beakCurtain: [classNames.beakCurtain, {\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      backgroundColor: semanticColors.menuBackground,\n      borderRadius: effects.roundedCorner2\n    }],\n    calloutMain: [classNames.calloutMain, {\n      backgroundColor: semanticColors.menuBackground,\n      overflowX: 'hidden',\n      overflowY: 'auto',\n      position: 'relative',\n      borderRadius: effects.roundedCorner2\n    }, overflowYHidden && {\n      overflowY: 'hidden'\n    }, backgroundColor && {\n      backgroundColor: backgroundColor\n    }]\n  };\n};","import { styled } from '../../Utilities';\nimport { CalloutContentBase } from './CalloutContent.base';\nimport { getStyles } from './CalloutContent.styles';\nexport var CalloutContent = styled(CalloutContentBase, getStyles, undefined, {\n  scope: 'CalloutContent'\n});","import { __assign } from \"tslib\";\n/**\n * Merge new and old settings, giving priority to new settings.\n * New settings is optional in which case oldSettings is returned as-is.\n * @param oldSettings - Old settings to fall back to.\n * @param newSettings - New settings that will be merged over oldSettings.\n * @returns Merged settings.\n */\n\nexport function mergeSettings(oldSettings, newSettings) {\n  if (oldSettings === void 0) {\n    oldSettings = {};\n  }\n\n  var mergeSettingsWith = _isSettingsFunction(newSettings) ? newSettings : _settingsMergeWith(newSettings);\n  return mergeSettingsWith(oldSettings);\n}\nexport function mergeScopedSettings(oldSettings, newSettings) {\n  if (oldSettings === void 0) {\n    oldSettings = {};\n  }\n\n  var mergeSettingsWith = _isSettingsFunction(newSettings) ? newSettings : _scopedSettingsMergeWith(newSettings);\n  return mergeSettingsWith(oldSettings);\n}\n\nfunction _isSettingsFunction(settings) {\n  return typeof settings === 'function';\n}\n\nfunction _settingsMergeWith(newSettings) {\n  return function (settings) {\n    return newSettings ? __assign(__assign({}, settings), newSettings) : settings;\n  };\n}\n\nfunction _scopedSettingsMergeWith(scopedSettingsFromProps) {\n  if (scopedSettingsFromProps === void 0) {\n    scopedSettingsFromProps = {};\n  }\n\n  return function (oldScopedSettings) {\n    var newScopedSettings = __assign({}, oldScopedSettings);\n\n    for (var scopeName in scopedSettingsFromProps) {\n      if (scopedSettingsFromProps.hasOwnProperty(scopeName)) {\n        newScopedSettings[scopeName] = __assign(__assign({}, oldScopedSettings[scopeName]), scopedSettingsFromProps[scopeName]);\n      }\n    }\n\n    return newScopedSettings;\n  };\n}","import { __extends } from \"tslib\";\nimport * as React from 'react';\nimport { Customizations } from './Customizations';\nimport { CustomizerContext } from './CustomizerContext';\nimport { mergeCustomizations } from './mergeCustomizations';\n/**\n * The Customizer component allows for default props to be mixed into components which\n * are decorated with the customizable() decorator, or use the styled HOC. This enables\n * injection scenarios like:\n *\n * 1. render svg icons instead of the icon font within all buttons\n * 2. inject a custom theme object into a component\n *\n * Props are provided via the settings prop which should be one of the following:\n * - A json map which contains 1 or more name/value pairs representing injectable props.\n * - A function that receives the current settings and returns the new ones that apply to the scope\n *\n * @public\n */\n\nvar Customizer =\n/** @class */\nfunction (_super) {\n  __extends(Customizer, _super);\n\n  function Customizer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._onCustomizationChange = function () {\n      return _this.forceUpdate();\n    };\n\n    return _this;\n  }\n\n  Customizer.prototype.componentDidMount = function () {\n    Customizations.observe(this._onCustomizationChange);\n  };\n\n  Customizer.prototype.componentWillUnmount = function () {\n    Customizations.unobserve(this._onCustomizationChange);\n  };\n\n  Customizer.prototype.render = function () {\n    var _this = this;\n\n    var contextTransform = this.props.contextTransform;\n    return React.createElement(CustomizerContext.Consumer, null, function (parentContext) {\n      var newContext = mergeCustomizations(_this.props, parentContext);\n\n      if (contextTransform) {\n        newContext = contextTransform(newContext);\n      }\n\n      return React.createElement(CustomizerContext.Provider, {\n        value: newContext\n      }, _this.props.children);\n    });\n  };\n\n  return Customizer;\n}(React.Component);\n\nexport { Customizer };","import { mergeSettings, mergeScopedSettings } from './mergeSettings';\n/**\n * Merge props and customizations giving priority to props over context.\n * NOTE: This function will always perform multiple merge operations. Use with caution.\n * @param props - New settings to merge in.\n * @param parentContext - Context containing current settings.\n * @returns Merged customizations.\n */\n\nexport function mergeCustomizations(props, parentContext) {\n  var _a = (parentContext || {}).customizations,\n      customizations = _a === void 0 ? {\n    settings: {},\n    scopedSettings: {}\n  } : _a;\n  return {\n    customizations: {\n      settings: mergeSettings(customizations.settings, props.settings),\n      scopedSettings: mergeScopedSettings(customizations.scopedSettings, props.scopedSettings),\n      inCustomizerContext: true\n    }\n  };\n}","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { Customizer, getNativeProps, divProperties, classNamesFunction, getDocument, memoizeFunction, getRTL, FocusRects } from '../../Utilities';\nimport { createTheme } from '../../Styling';\nvar getClassNames = classNamesFunction();\nvar getFabricTheme = memoizeFunction(function (theme, isRTL) {\n  return createTheme(__assign(__assign({}, theme), {\n    rtl: isRTL\n  }));\n});\n\nvar getDir = function getDir(theme, dir) {\n  var contextDir = getRTL(theme) ? 'rtl' : 'ltr';\n  var pageDir = getRTL() ? 'rtl' : 'ltr';\n  var componentDir = dir ? dir : contextDir;\n  return {\n    // If Fabric dir !== contextDir\n    // Or If contextDir !== pageDir\n    // Then we need to set dir of the Fabric root\n    rootDir: componentDir !== contextDir || componentDir !== pageDir ? componentDir : dir,\n    // If dir !== contextDir || pageDir\n    // then set contextual theme around content\n    needsTheme: componentDir !== contextDir\n  };\n};\n\nvar FabricBase =\n/** @class */\nfunction (_super) {\n  __extends(FabricBase, _super);\n\n  function FabricBase() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._rootElement = React.createRef();\n    _this._removeClassNameFromBody = undefined;\n    return _this;\n  }\n\n  FabricBase.prototype.render = function () {\n    var _a = this.props,\n        _b = _a.as,\n        Root = _b === void 0 ? 'div' : _b,\n        theme = _a.theme,\n        dir = _a.dir;\n\n    var classNames = this._getClassNames();\n\n    var divProps = getNativeProps(this.props, divProperties, ['dir']);\n\n    var _c = getDir(theme, dir),\n        rootDir = _c.rootDir,\n        needsTheme = _c.needsTheme;\n\n    var renderedContent = React.createElement(Root, __assign({\n      dir: rootDir\n    }, divProps, {\n      className: classNames.root,\n      ref: this._rootElement\n    }));\n\n    if (needsTheme) {\n      renderedContent = React.createElement(Customizer, {\n        settings: {\n          theme: getFabricTheme(theme, dir === 'rtl')\n        }\n      }, renderedContent);\n    }\n\n    return React.createElement(React.Fragment, null, renderedContent, React.createElement(FocusRects, {\n      rootRef: this._rootElement\n    }));\n  };\n\n  FabricBase.prototype.componentDidMount = function () {\n    this._addClassNameToBody();\n  };\n\n  FabricBase.prototype.componentWillUnmount = function () {\n    if (this._removeClassNameFromBody) {\n      this._removeClassNameFromBody();\n    }\n  };\n\n  FabricBase.prototype._getClassNames = function () {\n    var _a = this.props,\n        className = _a.className,\n        theme = _a.theme,\n        applyTheme = _a.applyTheme,\n        styles = _a.styles;\n    var classNames = getClassNames(styles, {\n      theme: theme,\n      applyTheme: applyTheme,\n      className: className\n    });\n    return classNames;\n  };\n\n  FabricBase.prototype._addClassNameToBody = function () {\n    if (this.props.applyThemeToBody) {\n      var classNames_1 = this._getClassNames();\n\n      var currentDoc_1 = getDocument(this._rootElement.current);\n\n      if (currentDoc_1) {\n        currentDoc_1.body.classList.add(classNames_1.bodyThemed);\n\n        this._removeClassNameFromBody = function () {\n          currentDoc_1.body.classList.remove(classNames_1.bodyThemed);\n        };\n      }\n    }\n  };\n\n  return FabricBase;\n}(React.Component);\n\nexport { FabricBase };","import { getGlobalClassNames } from '../../Styling';\nvar inheritFont = {\n  fontFamily: 'inherit'\n};\nvar GlobalClassNames = {\n  root: 'ms-Fabric',\n  bodyThemed: 'ms-Fabric-bodyThemed'\n};\nexport var getStyles = function getStyles(props) {\n  var theme = props.theme,\n      className = props.className,\n      applyTheme = props.applyTheme;\n  var classNames = getGlobalClassNames(GlobalClassNames, theme);\n  return {\n    root: [classNames.root, theme.fonts.medium, {\n      color: theme.palette.neutralPrimary,\n      selectors: {\n        '& button': inheritFont,\n        '& input': inheritFont,\n        '& textarea': inheritFont\n      }\n    }, // apply theme to only if applyTheme is true\n    applyTheme && {\n      color: theme.semanticColors.bodyText,\n      backgroundColor: theme.semanticColors.bodyBackground\n    }, className],\n    bodyThemed: [{\n      backgroundColor: theme.semanticColors.bodyBackground\n    }]\n  };\n};","import { styled } from '../../Utilities';\nimport { FabricBase } from './Fabric.base';\nimport { getStyles } from './Fabric.styles';\nexport var Fabric = styled(FabricBase, getStyles, undefined, {\n  scope: 'Fabric'\n});","/**\n * Sets the virtual parent of an element.\n * Pass `undefined` as the `parent` to clear the virtual parent.\n *\n * @public\n */\nexport function setVirtualParent(child, parent) {\n  var virtualChild = child;\n  var virtualParent = parent;\n\n  if (!virtualChild._virtual) {\n    virtualChild._virtual = {\n      children: []\n    };\n  }\n\n  var oldParent = virtualChild._virtual.parent;\n\n  if (oldParent && oldParent !== parent) {\n    // Remove the child from its old parent.\n    var index = oldParent._virtual.children.indexOf(virtualChild);\n\n    if (index > -1) {\n      oldParent._virtual.children.splice(index, 1);\n    }\n  }\n\n  virtualChild._virtual.parent = virtualParent || undefined;\n\n  if (virtualParent) {\n    if (!virtualParent._virtual) {\n      virtualParent._virtual = {\n        children: []\n      };\n    }\n\n    virtualParent._virtual.children.push(virtualChild);\n  }\n}","var _layersByHostId = {};\n\nvar _defaultHostSelector;\n/**\n * Register a layer for a given host id\n * @param hostId Id of the layer host\n * @param layer Layer instance\n */\n\n\nexport function registerLayer(hostId, callback) {\n  if (!_layersByHostId[hostId]) {\n    _layersByHostId[hostId] = [];\n  }\n\n  _layersByHostId[hostId].push(callback);\n}\n/**\n * Unregister a layer for a given host id\n * @param hostId Id of the layer host\n * @param layer Layer instance\n */\n\nexport function unregisterLayer(hostId, callback) {\n  if (_layersByHostId[hostId]) {\n    var idx = _layersByHostId[hostId].indexOf(callback);\n\n    if (idx >= 0) {\n      _layersByHostId[hostId].splice(idx, 1);\n\n      if (_layersByHostId[hostId].length === 0) {\n        delete _layersByHostId[hostId];\n      }\n    }\n  }\n}\n/**\n * Used for notifying applicable Layers that a host is available/unavailable and to re-evaluate Layers that\n * care about the specific host.\n */\n\nexport function notifyHostChanged(id) {\n  if (_layersByHostId[id]) {\n    _layersByHostId[id].forEach(function (callback) {\n      return callback();\n    });\n  }\n}\n/**\n * Sets the default target selector to use when determining the host in which\n * Layered content will be injected into. If not provided, an element will be\n * created at the end of the document body.\n *\n * Passing in a falsey value will clear the default target and reset back to\n * using a created element at the end of document body.\n */\n\nexport function setDefaultTarget(selector) {\n  _defaultHostSelector = selector;\n}\n/**\n * Get the default target selector when determining a host\n */\n\nexport function getDefaultTarget() {\n  return _defaultHostSelector;\n}","import { __assign, __decorate, __extends } from \"tslib\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Fabric } from '../../Fabric';\nimport { classNamesFunction, customizable, getDocument, setPortalAttribute, setVirtualParent, warnDeprecations } from '../../Utilities';\nimport { registerLayer, getDefaultTarget, unregisterLayer } from './Layer.notification';\nvar getClassNames = classNamesFunction();\n\nvar LayerBase =\n/** @class */\nfunction (_super) {\n  __extends(LayerBase, _super);\n\n  function LayerBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._rootRef = React.createRef();\n\n    _this._createLayerElement = function () {\n      var hostId = _this.props.hostId;\n      var doc = getDocument(_this._rootRef.current);\n\n      var host = _this._getHost();\n\n      if (!doc || !host) {\n        return;\n      } // If one was already existing, remove.\n\n\n      _this._removeLayerElement();\n\n      var layerElement = doc.createElement('div');\n\n      var classNames = _this._getClassNames();\n\n      layerElement.className = classNames.root;\n      setPortalAttribute(layerElement);\n      setVirtualParent(layerElement, _this._rootRef.current);\n      _this.props.insertFirst ? host.insertBefore(layerElement, host.firstChild) : host.appendChild(layerElement);\n\n      _this.setState({\n        hostId: hostId,\n        layerElement: layerElement\n      }, function () {\n        // eslint-disable-next-line deprecation/deprecation\n        var _a = _this.props,\n            onLayerDidMount = _a.onLayerDidMount,\n            onLayerMounted = _a.onLayerMounted;\n\n        if (onLayerMounted) {\n          onLayerMounted();\n        }\n\n        if (onLayerDidMount) {\n          onLayerDidMount();\n        }\n      });\n    };\n\n    _this.state = {};\n\n    if (process.env.NODE_ENV !== 'production') {\n      warnDeprecations('Layer', props, {\n        onLayerMounted: 'onLayerDidMount'\n      });\n    }\n\n    return _this;\n  }\n\n  LayerBase.prototype.componentDidMount = function () {\n    var hostId = this.props.hostId;\n\n    this._createLayerElement();\n\n    if (hostId) {\n      registerLayer(hostId, this._createLayerElement);\n    }\n  };\n\n  LayerBase.prototype.render = function () {\n    var layerElement = this.state.layerElement;\n\n    var classNames = this._getClassNames();\n\n    var eventBubblingEnabled = this.props.eventBubblingEnabled;\n    return React.createElement(\"span\", {\n      className: \"ms-layer\",\n      ref: this._rootRef\n    }, layerElement && ReactDOM.createPortal(React.createElement(Fabric, __assign({}, !eventBubblingEnabled && _getFilteredEvents(), {\n      className: classNames.content\n    }), this.props.children), layerElement));\n  };\n\n  LayerBase.prototype.componentDidUpdate = function () {\n    if (this.props.hostId !== this.state.hostId) {\n      this._createLayerElement();\n    }\n  };\n\n  LayerBase.prototype.componentWillUnmount = function () {\n    var hostId = this.props.hostId;\n\n    this._removeLayerElement();\n\n    if (hostId) {\n      unregisterLayer(hostId, this._createLayerElement);\n    }\n  };\n\n  LayerBase.prototype._removeLayerElement = function () {\n    var onLayerWillUnmount = this.props.onLayerWillUnmount;\n    var layerElement = this.state.layerElement;\n\n    if (layerElement) {\n      setVirtualParent(layerElement, null);\n    }\n\n    if (onLayerWillUnmount) {\n      onLayerWillUnmount();\n    }\n\n    if (layerElement && layerElement.parentNode) {\n      var parentNode = layerElement.parentNode;\n\n      if (parentNode) {\n        parentNode.removeChild(layerElement);\n      }\n    }\n  };\n\n  LayerBase.prototype._getClassNames = function () {\n    var _a = this.props,\n        className = _a.className,\n        styles = _a.styles,\n        theme = _a.theme;\n    var classNames = getClassNames(styles, {\n      theme: theme,\n      className: className,\n      isNotHost: !this.props.hostId\n    });\n    return classNames;\n  };\n\n  LayerBase.prototype._getHost = function () {\n    var hostId = this.props.hostId;\n    var doc = getDocument(this._rootRef.current);\n\n    if (!doc) {\n      return undefined;\n    }\n\n    if (hostId) {\n      return doc.getElementById(hostId);\n    } else {\n      var defaultHostSelector = getDefaultTarget();\n      return defaultHostSelector ? doc.querySelector(defaultHostSelector) : doc.body;\n    }\n  };\n\n  LayerBase.defaultProps = {\n    onLayerDidMount: function onLayerDidMount() {\n      return undefined;\n    },\n    onLayerWillUnmount: function onLayerWillUnmount() {\n      return undefined;\n    }\n  };\n  LayerBase = __decorate([customizable('Layer', ['theme', 'hostId'])], LayerBase);\n  return LayerBase;\n}(React.Component);\n\nexport { LayerBase };\n\nvar _onFilterEvent = function _onFilterEvent(ev) {\n  // We should just be able to check ev.bubble here and only stop events that are bubbling up. However, even though\n  // mouseenter and mouseleave do NOT bubble up, they are showing up as bubbling. Therefore we stop events based on\n  // event name rather than ev.bubble.\n  if (ev.eventPhase === Event.BUBBLING_PHASE && ev.type !== 'mouseenter' && ev.type !== 'mouseleave' && ev.type !== 'touchstart' && ev.type !== 'touchend') {\n    ev.stopPropagation();\n  }\n};\n\nvar _filteredEventProps;\n\nfunction _getFilteredEvents() {\n  if (!_filteredEventProps) {\n    _filteredEventProps = {};\n    ['onClick', 'onContextMenu', 'onDoubleClick', 'onDrag', 'onDragEnd', 'onDragEnter', 'onDragExit', 'onDragLeave', 'onDragOver', 'onDragStart', 'onDrop', 'onMouseDown', 'onMouseEnter', 'onMouseLeave', 'onMouseMove', 'onMouseOver', 'onMouseOut', 'onMouseUp', 'onTouchMove', 'onTouchStart', 'onTouchCancel', 'onTouchEnd', 'onKeyDown', 'onKeyPress', 'onKeyUp', 'onFocus', 'onBlur', 'onChange', 'onInput', 'onInvalid', 'onSubmit'].forEach(function (name) {\n      return _filteredEventProps[name] = _onFilterEvent;\n    });\n  }\n\n  return _filteredEventProps;\n}","import { ZIndexes, getGlobalClassNames } from '../../Styling';\nvar GlobalClassNames = {\n  root: 'ms-Layer',\n  rootNoHost: 'ms-Layer--fixed',\n  content: 'ms-Layer-content'\n};\nexport var getStyles = function getStyles(props) {\n  var className = props.className,\n      isNotHost = props.isNotHost,\n      theme = props.theme;\n  var classNames = getGlobalClassNames(GlobalClassNames, theme);\n  return {\n    root: [classNames.root, theme.fonts.medium, isNotHost && [classNames.rootNoHost, {\n      position: 'fixed',\n      zIndex: ZIndexes.Layer,\n      top: 0,\n      left: 0,\n      bottom: 0,\n      right: 0,\n      visibility: 'hidden'\n    }], className],\n    content: [classNames.content, {\n      visibility: 'visible'\n    }]\n  };\n};","export var KTP_PREFIX = 'ktp';\nexport var KTP_SEPARATOR = '-';\nexport var KTP_FULL_PREFIX = KTP_PREFIX + KTP_SEPARATOR;\nexport var DATAKTP_TARGET = 'data-ktp-target';\nexport var DATAKTP_EXECUTE_TARGET = 'data-ktp-execute-target';\nexport var DATAKTP_ARIA_TARGET = 'data-ktp-aria-target';\nexport var KTP_LAYER_ID = 'ktp-layer-id';\nexport var KTP_ARIA_SEPARATOR = ', '; // Events\n\nexport var KeytipEvents;\n\n(function (KeytipEvents) {\n  KeytipEvents.KEYTIP_ADDED = 'keytipAdded';\n  KeytipEvents.KEYTIP_REMOVED = 'keytipRemoved';\n  KeytipEvents.KEYTIP_UPDATED = 'keytipUpdated';\n  KeytipEvents.PERSISTED_KEYTIP_ADDED = 'persistedKeytipAdded';\n  KeytipEvents.PERSISTED_KEYTIP_REMOVED = 'persistedKeytipRemoved';\n  KeytipEvents.PERSISTED_KEYTIP_EXECUTE = 'persistedKeytipExecute';\n  KeytipEvents.ENTER_KEYTIP_MODE = 'enterKeytipMode';\n  KeytipEvents.EXIT_KEYTIP_MODE = 'exitKeytipMode';\n})(KeytipEvents || (KeytipEvents = {}));","import { styled } from '../../Utilities';\nimport { LayerBase } from './Layer.base';\nimport { getStyles } from './Layer.styles';\nexport var Layer = styled(LayerBase, getStyles, undefined, {\n  scope: 'Layer',\n  fields: ['hostId', 'theme', 'styles']\n});","import { __assign, __extends, __rest } from \"tslib\";\nimport * as React from 'react';\nimport { CalloutContent } from './CalloutContent';\nimport { Layer } from '../../Layer';\n\nvar Callout =\n/** @class */\nfunction (_super) {\n  __extends(Callout, _super);\n\n  function Callout() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Callout.prototype.render = function () {\n    var _a = this.props,\n        layerProps = _a.layerProps,\n        rest = __rest(_a, [\"layerProps\"]);\n\n    var content = React.createElement(CalloutContent, __assign({}, rest));\n    return this.props.doNotLayer ? content : React.createElement(Layer, __assign({}, layerProps), content);\n  };\n\n  return Callout;\n}(React.Component);\n\nexport { Callout };","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { hasSubmenu, getIsChecked } from '../../utilities/contextualMenu/index';\nimport { getRTL, initializeComponentRef } from '../../Utilities';\nimport { Icon } from '../../Icon';\n\nvar renderItemIcon = function renderItemIcon(props) {\n  var item = props.item,\n      hasIcons = props.hasIcons,\n      classNames = props.classNames;\n  var iconProps = item.iconProps;\n\n  if (!hasIcons) {\n    return null;\n  }\n\n  if (item.onRenderIcon) {\n    return item.onRenderIcon(props);\n  }\n\n  return React.createElement(Icon, __assign({}, iconProps, {\n    className: classNames.icon\n  }));\n};\n\nvar renderCheckMarkIcon = function renderCheckMarkIcon(_a) {\n  var onCheckmarkClick = _a.onCheckmarkClick,\n      item = _a.item,\n      classNames = _a.classNames;\n  var isItemChecked = getIsChecked(item);\n\n  if (onCheckmarkClick) {\n    // Ensures that the item is passed as the first argument to the checkmark click callback.\n    var onClick = function onClick(e) {\n      return onCheckmarkClick(item, e);\n    };\n\n    return React.createElement(Icon, {\n      iconName: item.canCheck !== false && isItemChecked ? 'CheckMark' : '',\n      className: classNames.checkmarkIcon,\n      // eslint-disable-next-line react/jsx-no-bind\n      onClick: onClick\n    });\n  }\n\n  return null;\n};\n\nvar renderItemName = function renderItemName(_a) {\n  var item = _a.item,\n      classNames = _a.classNames;\n  /* eslint-disable deprecation/deprecation */\n\n  if (item.text || item.name) {\n    return React.createElement(\"span\", {\n      className: classNames.label\n    }, item.text || item.name);\n  }\n  /* eslint-enable deprecation/deprecation */\n\n\n  return null;\n};\n\nvar renderSecondaryText = function renderSecondaryText(_a) {\n  var item = _a.item,\n      classNames = _a.classNames;\n\n  if (item.secondaryText) {\n    return React.createElement(\"span\", {\n      className: classNames.secondaryText\n    }, item.secondaryText);\n  }\n\n  return null;\n};\n\nvar renderSubMenuIcon = function renderSubMenuIcon(_a) {\n  var item = _a.item,\n      classNames = _a.classNames,\n      theme = _a.theme;\n\n  if (hasSubmenu(item)) {\n    return React.createElement(Icon, __assign({\n      iconName: getRTL(theme) ? 'ChevronLeft' : 'ChevronRight'\n    }, item.submenuIconProps, {\n      className: classNames.subMenuIcon\n    }));\n  }\n\n  return null;\n};\n\nvar ContextualMenuItemBase =\n/** @class */\nfunction (_super) {\n  __extends(ContextualMenuItemBase, _super);\n\n  function ContextualMenuItemBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.openSubMenu = function () {\n      var _a = _this.props,\n          item = _a.item,\n          openSubMenu = _a.openSubMenu,\n          getSubmenuTarget = _a.getSubmenuTarget;\n\n      if (getSubmenuTarget) {\n        var submenuTarget = getSubmenuTarget();\n\n        if (hasSubmenu(item) && openSubMenu && submenuTarget) {\n          openSubMenu(item, submenuTarget);\n        }\n      }\n    };\n\n    _this.dismissSubMenu = function () {\n      var _a = _this.props,\n          item = _a.item,\n          dismissSubMenu = _a.dismissSubMenu;\n\n      if (hasSubmenu(item) && dismissSubMenu) {\n        dismissSubMenu();\n      }\n    };\n\n    _this.dismissMenu = function (dismissAll) {\n      var dismissMenu = _this.props.dismissMenu;\n\n      if (dismissMenu) {\n        dismissMenu(undefined\n        /* ev */\n        , dismissAll);\n      }\n    };\n\n    initializeComponentRef(_this);\n    return _this;\n  }\n\n  ContextualMenuItemBase.prototype.render = function () {\n    var _a = this.props,\n        item = _a.item,\n        classNames = _a.classNames;\n    var renderContent = item.onRenderContent || this._renderLayout;\n    return React.createElement(\"div\", {\n      className: item.split ? classNames.linkContentMenu : classNames.linkContent\n    }, renderContent(this.props, {\n      renderCheckMarkIcon: renderCheckMarkIcon,\n      renderItemIcon: renderItemIcon,\n      renderItemName: renderItemName,\n      renderSecondaryText: renderSecondaryText,\n      renderSubMenuIcon: renderSubMenuIcon\n    }));\n  };\n\n  ContextualMenuItemBase.prototype._renderLayout = function (props, defaultRenders) {\n    return React.createElement(React.Fragment, null, defaultRenders.renderCheckMarkIcon(props), defaultRenders.renderItemIcon(props), defaultRenders.renderItemName(props), defaultRenders.renderSecondaryText(props), defaultRenders.renderSubMenuIcon(props));\n  };\n\n  return ContextualMenuItemBase;\n}(React.Component);\n\nexport { ContextualMenuItemBase };","import { memoizeFunction } from '../../Utilities';\nimport { mergeStyleSets } from '../../Styling';\n/**\n * @deprecated use getStyles exported from VerticalDivider.styles.ts\n */\n\nexport var getDividerClassNames = memoizeFunction( // eslint-disable-next-line deprecation/deprecation\nfunction (theme) {\n  return mergeStyleSets({\n    wrapper: {\n      display: 'inline-flex',\n      height: '100%',\n      alignItems: 'center'\n    },\n    divider: {\n      width: 1,\n      height: '100%',\n      backgroundColor: theme.palette.neutralTertiaryAlt\n    }\n  });\n});","import { __assign } from \"tslib\";\nimport { concatStyleSets, getFocusStyle, HighContrastSelector, getScreenSelector, ScreenWidthMaxMedium, IconFontSizes, getEdgeChromiumNoHighContrastAdjustSelector, getHighContrastNoAdjustStyle } from '../../Styling';\nimport { memoizeFunction } from '../../Utilities';\nexport var CONTEXTUAL_MENU_ITEM_HEIGHT = 36;\nvar MediumScreenSelector = getScreenSelector(0, ScreenWidthMaxMedium);\nvar getItemHighContrastStyles = memoizeFunction(function () {\n  var _a;\n\n  return {\n    selectors: (_a = {}, _a[HighContrastSelector] = __assign({\n      backgroundColor: 'Highlight',\n      borderColor: 'Highlight',\n      color: 'HighlightText'\n    }, getHighContrastNoAdjustStyle()), _a)\n  };\n});\nexport var getMenuItemStyles = memoizeFunction(function (theme) {\n  var _a, _b, _c, _d, _e, _f, _g;\n\n  var semanticColors = theme.semanticColors,\n      fonts = theme.fonts,\n      palette = theme.palette;\n  var ContextualMenuItemBackgroundHoverColor = semanticColors.menuItemBackgroundHovered;\n  var ContextualMenuItemTextHoverColor = semanticColors.menuItemTextHovered;\n  var ContextualMenuItemBackgroundSelectedColor = semanticColors.menuItemBackgroundPressed;\n  var ContextualMenuItemDividerColor = semanticColors.bodyDivider;\n  var menuItemStyles = {\n    item: [fonts.medium, {\n      color: semanticColors.bodyText,\n      position: 'relative',\n      boxSizing: 'border-box'\n    }],\n    divider: {\n      display: 'block',\n      height: '1px',\n      backgroundColor: ContextualMenuItemDividerColor,\n      position: 'relative'\n    },\n    root: [getFocusStyle(theme), fonts.medium, {\n      color: semanticColors.bodyText,\n      backgroundColor: 'transparent',\n      border: 'none',\n      width: '100%',\n      height: CONTEXTUAL_MENU_ITEM_HEIGHT,\n      lineHeight: CONTEXTUAL_MENU_ITEM_HEIGHT,\n      display: 'block',\n      cursor: 'pointer',\n      padding: '0px 8px 0 4px',\n      textAlign: 'left'\n    }],\n    rootDisabled: {\n      color: semanticColors.disabledBodyText,\n      cursor: 'default',\n      pointerEvents: 'none',\n      selectors: __assign((_a = {}, _a[HighContrastSelector] = {\n        color: 'GrayText',\n        opacity: 1\n      }, _a), getEdgeChromiumNoHighContrastAdjustSelector())\n    },\n    rootHovered: __assign({\n      backgroundColor: ContextualMenuItemBackgroundHoverColor,\n      color: ContextualMenuItemTextHoverColor,\n      selectors: {\n        '.ms-ContextualMenu-icon': {\n          color: palette.themeDarkAlt\n        },\n        '.ms-ContextualMenu-submenuIcon': {\n          color: palette.neutralPrimary\n        }\n      }\n    }, getItemHighContrastStyles()),\n    rootFocused: __assign({\n      backgroundColor: palette.white\n    }, getItemHighContrastStyles()),\n    rootChecked: __assign({\n      selectors: {\n        '.ms-ContextualMenu-checkmarkIcon': {\n          color: palette.neutralPrimary\n        }\n      }\n    }, getItemHighContrastStyles()),\n    rootPressed: __assign({\n      backgroundColor: ContextualMenuItemBackgroundSelectedColor,\n      selectors: {\n        '.ms-ContextualMenu-icon': {\n          color: palette.themeDark\n        },\n        '.ms-ContextualMenu-submenuIcon': {\n          color: palette.neutralPrimary\n        }\n      }\n    }, getItemHighContrastStyles()),\n    rootExpanded: __assign({\n      backgroundColor: ContextualMenuItemBackgroundSelectedColor,\n      color: semanticColors.bodyTextChecked\n    }, getItemHighContrastStyles()),\n    linkContent: {\n      whiteSpace: 'nowrap',\n      height: 'inherit',\n      display: 'flex',\n      alignItems: 'center',\n      maxWidth: '100%'\n    },\n    anchorLink: {\n      padding: '0px 8px 0 4px',\n      textRendering: 'auto',\n      color: 'inherit',\n      letterSpacing: 'normal',\n      wordSpacing: 'normal',\n      textTransform: 'none',\n      textIndent: '0px',\n      textShadow: 'none',\n      textDecoration: 'none',\n      boxSizing: 'border-box'\n    },\n    label: {\n      margin: '0 4px',\n      verticalAlign: 'middle',\n      display: 'inline-block',\n      flexGrow: '1',\n      textOverflow: 'ellipsis',\n      overflow: 'hidden',\n      whiteSpace: 'nowrap'\n    },\n    secondaryText: {\n      color: theme.palette.neutralSecondary,\n      paddingLeft: '20px',\n      textAlign: 'right'\n    },\n    icon: {\n      display: 'inline-block',\n      minHeight: '1px',\n      maxHeight: CONTEXTUAL_MENU_ITEM_HEIGHT,\n      fontSize: IconFontSizes.medium,\n      width: IconFontSizes.medium,\n      margin: '0 4px',\n      verticalAlign: 'middle',\n      flexShrink: '0',\n      selectors: (_b = {}, _b[MediumScreenSelector] = {\n        fontSize: IconFontSizes.large,\n        width: IconFontSizes.large\n      }, _b)\n    },\n    iconColor: {\n      color: semanticColors.menuIcon,\n      selectors: (_c = {}, _c[HighContrastSelector] = {\n        color: 'inherit'\n      }, _c['$root:hover &'] = {\n        selectors: (_d = {}, _d[HighContrastSelector] = {\n          color: 'HighlightText'\n        }, _d)\n      }, _c['$root:focus &'] = {\n        selectors: (_e = {}, _e[HighContrastSelector] = {\n          color: 'HighlightText'\n        }, _e)\n      }, _c)\n    },\n    iconDisabled: {\n      color: semanticColors.disabledBodyText\n    },\n    checkmarkIcon: {\n      color: semanticColors.bodySubtext,\n      selectors: (_f = {}, _f[HighContrastSelector] = {\n        color: 'HighlightText'\n      }, _f)\n    },\n    subMenuIcon: {\n      height: CONTEXTUAL_MENU_ITEM_HEIGHT,\n      lineHeight: CONTEXTUAL_MENU_ITEM_HEIGHT,\n      color: palette.neutralSecondary,\n      textAlign: 'center',\n      display: 'inline-block',\n      verticalAlign: 'middle',\n      flexShrink: '0',\n      fontSize: IconFontSizes.small,\n      selectors: (_g = {\n        ':hover': {\n          color: palette.neutralPrimary\n        },\n        ':active': {\n          color: palette.neutralPrimary\n        }\n      }, _g[MediumScreenSelector] = {\n        fontSize: IconFontSizes.medium\n      }, _g[HighContrastSelector] = {\n        color: 'HighlightText'\n      }, _g)\n    },\n    splitButtonFlexContainer: [getFocusStyle(theme), {\n      display: 'flex',\n      height: CONTEXTUAL_MENU_ITEM_HEIGHT,\n      flexWrap: 'nowrap',\n      justifyContent: 'center',\n      alignItems: 'flex-start'\n    }]\n  };\n  return concatStyleSets(menuItemStyles);\n});","import { getDividerClassNames } from '../Divider/VerticalDivider.classNames';\nimport { getMenuItemStyles } from './ContextualMenu.cnstyles';\nimport { mergeStyleSets, getGlobalClassNames, getScreenSelector, ScreenWidthMaxMedium, hiddenContentStyle } from '../../Styling';\nimport { memoizeFunction, IsFocusVisibleClassName } from '../../Utilities';\nvar CONTEXTUAL_SPLIT_MENU_MINWIDTH = '28px';\nvar MediumScreenSelector = getScreenSelector(0, ScreenWidthMaxMedium);\nexport var getSplitButtonVerticalDividerClassNames = memoizeFunction(\n/* eslint-disable deprecation/deprecation */\nfunction (theme) {\n  var _a;\n\n  return mergeStyleSets(getDividerClassNames(theme), {\n    /* eslint-enable deprecation/deprecation */\n    wrapper: {\n      position: 'absolute',\n      right: 28,\n      selectors: (_a = {}, _a[MediumScreenSelector] = {\n        right: 32\n      }, _a)\n    },\n    divider: {\n      height: 16,\n      width: 1\n    }\n  });\n});\nvar GlobalClassNames = {\n  item: 'ms-ContextualMenu-item',\n  divider: 'ms-ContextualMenu-divider',\n  root: 'ms-ContextualMenu-link',\n  isChecked: 'is-checked',\n  isExpanded: 'is-expanded',\n  isDisabled: 'is-disabled',\n  linkContent: 'ms-ContextualMenu-linkContent',\n  linkContentMenu: 'ms-ContextualMenu-linkContent',\n  icon: 'ms-ContextualMenu-icon',\n  iconColor: 'ms-ContextualMenu-iconColor',\n  checkmarkIcon: 'ms-ContextualMenu-checkmarkIcon',\n  subMenuIcon: 'ms-ContextualMenu-submenuIcon',\n  label: 'ms-ContextualMenu-itemText',\n  secondaryText: 'ms-ContextualMenu-secondaryText',\n  splitMenu: 'ms-ContextualMenu-splitMenu',\n  screenReaderText: 'ms-ContextualMenu-screenReaderText'\n};\n/**\n * @deprecated To be removed in 7.0.\n * @internal\n * This is a package-internal method that has been depended on.\n * It is being kept in this form for backwards compatibility.\n * It should be cleaned up in 7.0.\n *\n * TODO: Audit perf. impact of and potentially remove memoizeFunction.\n * https://github.com/microsoft/fluentui/issues/5534\n */\n\nexport var getItemClassNames = memoizeFunction(function (theme, disabled, expanded, checked, isAnchorLink, knownIcon, itemClassName, dividerClassName, iconClassName, subMenuClassName, primaryDisabled, className) {\n  var _a, _b, _c, _d;\n\n  var styles = getMenuItemStyles(theme);\n  var classNames = getGlobalClassNames(GlobalClassNames, theme);\n  return mergeStyleSets({\n    item: [classNames.item, styles.item, itemClassName],\n    divider: [classNames.divider, styles.divider, dividerClassName],\n    root: [classNames.root, styles.root, checked && [classNames.isChecked, styles.rootChecked], isAnchorLink && styles.anchorLink, expanded && [classNames.isExpanded, styles.rootExpanded], disabled && [classNames.isDisabled, styles.rootDisabled], !disabled && !expanded && [{\n      selectors: (_a = {\n        ':hover': styles.rootHovered,\n        ':active': styles.rootPressed\n      }, _a[\".\" + IsFocusVisibleClassName + \" &:focus, .\" + IsFocusVisibleClassName + \" &:focus:hover\"] = styles.rootFocused, _a[\".\" + IsFocusVisibleClassName + \" &:hover\"] = {\n        background: 'inherit;'\n      }, _a)\n    }], className],\n    splitPrimary: [styles.root, {\n      width: \"calc(100% - \" + CONTEXTUAL_SPLIT_MENU_MINWIDTH + \")\"\n    }, checked && ['is-checked', styles.rootChecked], (disabled || primaryDisabled) && ['is-disabled', styles.rootDisabled], !(disabled || primaryDisabled) && !checked && [{\n      selectors: (_b = {\n        ':hover': styles.rootHovered\n      }, // when hovering over the splitPrimary also affect the splitMenu\n      _b[\":hover ~ .\" + classNames.splitMenu] = styles.rootHovered, _b[':active'] = styles.rootPressed, _b[\".\" + IsFocusVisibleClassName + \" &:focus, .\" + IsFocusVisibleClassName + \" &:focus:hover\"] = styles.rootFocused, _b[\".\" + IsFocusVisibleClassName + \" &:hover\"] = {\n        background: 'inherit;'\n      }, _b)\n    }]],\n    splitMenu: [classNames.splitMenu, styles.root, {\n      flexBasis: '0',\n      padding: '0 8px',\n      minWidth: CONTEXTUAL_SPLIT_MENU_MINWIDTH\n    }, expanded && ['is-expanded', styles.rootExpanded], disabled && ['is-disabled', styles.rootDisabled], !disabled && !expanded && [{\n      selectors: (_c = {\n        ':hover': styles.rootHovered,\n        ':active': styles.rootPressed\n      }, _c[\".\" + IsFocusVisibleClassName + \" &:focus, .\" + IsFocusVisibleClassName + \" &:focus:hover\"] = styles.rootFocused, _c[\".\" + IsFocusVisibleClassName + \" &:hover\"] = {\n        background: 'inherit;'\n      }, _c)\n    }]],\n    anchorLink: styles.anchorLink,\n    linkContent: [classNames.linkContent, styles.linkContent],\n    linkContentMenu: [classNames.linkContentMenu, styles.linkContent, {\n      justifyContent: 'center'\n    }],\n    icon: [classNames.icon, knownIcon && styles.iconColor, styles.icon, iconClassName, disabled && [classNames.isDisabled, styles.iconDisabled]],\n    iconColor: styles.iconColor,\n    checkmarkIcon: [classNames.checkmarkIcon, knownIcon && styles.checkmarkIcon, styles.icon, iconClassName],\n    subMenuIcon: [classNames.subMenuIcon, styles.subMenuIcon, subMenuClassName, expanded && {\n      color: theme.palette.neutralPrimary\n    }, disabled && [styles.iconDisabled]],\n    label: [classNames.label, styles.label],\n    secondaryText: [classNames.secondaryText, styles.secondaryText],\n    splitContainer: [styles.splitButtonFlexContainer, !disabled && !checked && [{\n      selectors: (_d = {}, _d[\".\" + IsFocusVisibleClassName + \" &:focus, .\" + IsFocusVisibleClassName + \" &:focus:hover\"] = styles.rootFocused, _d)\n    }]],\n    screenReaderText: [classNames.screenReaderText, styles.screenReaderText, hiddenContentStyle, {\n      visibility: 'hidden'\n    }]\n  });\n});\n/**\n * Wrapper function for generating ContextualMenuItem classNames which adheres to\n * the getStyles API, but invokes memoized className generator function with\n * primitive values.\n *\n * @param props - the ContextualMenuItem style props used to generate its styles.\n */\n\nexport var getItemStyles = function getItemStyles(props) {\n  var theme = props.theme,\n      disabled = props.disabled,\n      expanded = props.expanded,\n      checked = props.checked,\n      isAnchorLink = props.isAnchorLink,\n      knownIcon = props.knownIcon,\n      itemClassName = props.itemClassName,\n      dividerClassName = props.dividerClassName,\n      iconClassName = props.iconClassName,\n      subMenuClassName = props.subMenuClassName,\n      primaryDisabled = props.primaryDisabled,\n      className = props.className; // eslint-disable-next-line deprecation/deprecation\n\n  return getItemClassNames(theme, disabled, expanded, checked, isAnchorLink, knownIcon, itemClassName, dividerClassName, iconClassName, subMenuClassName, primaryDisabled, className);\n};","import { styled } from '../../Utilities';\nimport { ContextualMenuItemBase } from './ContextualMenuItem.base';\nimport { getItemStyles } from './ContextualMenu.classNames';\n/**\n * ContextualMenuItem description\n */\n\nexport var ContextualMenuItem = styled(ContextualMenuItemBase, getItemStyles, undefined, {\n  scope: 'ContextualMenuItem'\n});","import { __extends } from \"tslib\";\nimport * as React from 'react';\nimport { initializeComponentRef, shallowCompare } from '../../../Utilities';\n\nvar ContextualMenuItemWrapper =\n/** @class */\nfunction (_super) {\n  __extends(ContextualMenuItemWrapper, _super);\n\n  function ContextualMenuItemWrapper(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._onItemMouseEnter = function (ev) {\n      var _a = _this.props,\n          item = _a.item,\n          onItemMouseEnter = _a.onItemMouseEnter;\n\n      if (onItemMouseEnter) {\n        onItemMouseEnter(item, ev, ev.currentTarget);\n      }\n    };\n\n    _this._onItemClick = function (ev) {\n      var _a = _this.props,\n          item = _a.item,\n          onItemClickBase = _a.onItemClickBase;\n\n      if (onItemClickBase) {\n        onItemClickBase(item, ev, ev.currentTarget);\n      }\n    };\n\n    _this._onItemMouseLeave = function (ev) {\n      var _a = _this.props,\n          item = _a.item,\n          onItemMouseLeave = _a.onItemMouseLeave;\n\n      if (onItemMouseLeave) {\n        onItemMouseLeave(item, ev);\n      }\n    };\n\n    _this._onItemKeyDown = function (ev) {\n      var _a = _this.props,\n          item = _a.item,\n          onItemKeyDown = _a.onItemKeyDown;\n\n      if (onItemKeyDown) {\n        onItemKeyDown(item, ev);\n      }\n    };\n\n    _this._onItemMouseMove = function (ev) {\n      var _a = _this.props,\n          item = _a.item,\n          onItemMouseMove = _a.onItemMouseMove;\n\n      if (onItemMouseMove) {\n        onItemMouseMove(item, ev, ev.currentTarget);\n      }\n    };\n\n    _this._getSubMenuId = function (item) {\n      var getSubMenuId = _this.props.getSubMenuId;\n\n      if (getSubMenuId) {\n        return getSubMenuId(item);\n      }\n    };\n\n    _this._getSubmenuTarget = function () {\n      return undefined;\n    };\n\n    initializeComponentRef(_this);\n    return _this;\n  }\n\n  ContextualMenuItemWrapper.prototype.shouldComponentUpdate = function (newProps) {\n    return !shallowCompare(newProps, this.props);\n  };\n\n  return ContextualMenuItemWrapper;\n}(React.Component);\n\nexport { ContextualMenuItemWrapper };","import { __assign, __spreadArrays } from \"tslib\";\nimport { EventGroup, getId } from '../../Utilities';\nimport { KeytipEvents } from '../../utilities/keytips/KeytipConstants';\n/**\n * This class is responsible for handling registering, updating, and unregistering of keytips\n */\n\nvar KeytipManager =\n/** @class */\nfunction () {\n  function KeytipManager() {\n    this.keytips = {};\n    this.persistedKeytips = {};\n    this.sequenceMapping = {}; // This is (and should be) updated and kept in sync\n    // with the inKeytipMode in KeytipLayer.\n\n    this.inKeytipMode = false; // Boolean that gets checked before entering keytip mode by the KeytipLayer\n    // Used for an override in special cases (e.g. Disable entering keytip mode when a modal is shown)\n\n    this.shouldEnterKeytipMode = true; // Boolean to indicate whether to delay firing an event to update subscribers of\n    // keytip data changed.\n\n    this.delayUpdatingKeytipChange = false;\n  }\n  /**\n   * Static function to get singleton KeytipManager instance\n   *\n   * @returns Singleton KeytipManager instance\n   */\n\n\n  KeytipManager.getInstance = function () {\n    return this._instance;\n  };\n  /**\n   * Initialization code to set set parameters to define\n   * how the KeytipManager handles keytip data.\n   *\n   * @param delayUpdatingKeytipChange - T/F if we should delay notifiying keytip subscribers\n   * of keytip changes\n   */\n\n\n  KeytipManager.prototype.init = function (delayUpdatingKeytipChange) {\n    this.delayUpdatingKeytipChange = delayUpdatingKeytipChange;\n  };\n  /**\n   * Registers a keytip\n   *\n   * @param keytipProps - Keytip to register\n   * @param persisted - T/F if this keytip should be persisted, default is false\n   * @returns Unique ID for this keytip\n   */\n\n\n  KeytipManager.prototype.register = function (keytipProps, persisted) {\n    if (persisted === void 0) {\n      persisted = false;\n    }\n\n    var props = keytipProps;\n\n    if (!persisted) {\n      // Add the overflowSetSequence if necessary\n      props = this.addParentOverflow(keytipProps);\n      this.sequenceMapping[props.keySequences.toString()] = props;\n    } // Create a unique keytip\n\n\n    var uniqueKeytip = this._getUniqueKtp(props); // Add to dictionary\n\n\n    persisted ? this.persistedKeytips[uniqueKeytip.uniqueID] = uniqueKeytip : this.keytips[uniqueKeytip.uniqueID] = uniqueKeytip; // We only want to add something new if we are currently showing keytip mode\n\n    if (this.inKeytipMode || !this.delayUpdatingKeytipChange) {\n      var event_1 = persisted ? KeytipEvents.PERSISTED_KEYTIP_ADDED : KeytipEvents.KEYTIP_ADDED;\n      EventGroup.raise(this, event_1, {\n        keytip: props,\n        uniqueID: uniqueKeytip.uniqueID\n      });\n    }\n\n    return uniqueKeytip.uniqueID;\n  };\n  /**\n   * Update a keytip\n   *\n   * @param keytipProps - Keytip to update\n   * @param uniqueID - Unique ID of this keytip\n   */\n\n\n  KeytipManager.prototype.update = function (keytipProps, uniqueID) {\n    var newKeytipProps = this.addParentOverflow(keytipProps);\n\n    var uniqueKeytip = this._getUniqueKtp(newKeytipProps, uniqueID);\n\n    var oldKeyTip = this.keytips[uniqueID];\n\n    if (oldKeyTip) {\n      // Update everything except 'visible'\n      uniqueKeytip.keytip.visible = oldKeyTip.keytip.visible; // Update keytip in this.keytips\n\n      this.keytips[uniqueID] = uniqueKeytip; // Update the sequence to be up to date\n\n      delete this.sequenceMapping[oldKeyTip.keytip.keySequences.toString()];\n      this.sequenceMapping[uniqueKeytip.keytip.keySequences.toString()] = uniqueKeytip.keytip; // Raise event only if we are currently in keytip mode\n\n      if (this.inKeytipMode || !this.delayUpdatingKeytipChange) {\n        EventGroup.raise(this, KeytipEvents.KEYTIP_UPDATED, {\n          keytip: uniqueKeytip.keytip,\n          uniqueID: uniqueKeytip.uniqueID\n        });\n      }\n    }\n  };\n  /**\n   * Unregisters a keytip\n   *\n   * @param keytipToRemove - IKeytipProps of the keytip to remove\n   * @param uniqueID - Unique ID of this keytip\n   * @param persisted - T/F if this keytip should be persisted, default is false\n   */\n\n\n  KeytipManager.prototype.unregister = function (keytipToRemove, uniqueID, persisted) {\n    if (persisted === void 0) {\n      persisted = false;\n    }\n\n    persisted ? delete this.persistedKeytips[uniqueID] : delete this.keytips[uniqueID];\n    !persisted && delete this.sequenceMapping[keytipToRemove.keySequences.toString()];\n    var event = persisted ? KeytipEvents.PERSISTED_KEYTIP_REMOVED : KeytipEvents.KEYTIP_REMOVED; // Update keytips only if we're in keytip mode\n\n    if (this.inKeytipMode || !this.delayUpdatingKeytipChange) {\n      EventGroup.raise(this, event, {\n        keytip: keytipToRemove,\n        uniqueID: uniqueID\n      });\n    }\n  };\n  /**\n   * Manual call to enter keytip mode\n   */\n\n\n  KeytipManager.prototype.enterKeytipMode = function () {\n    EventGroup.raise(this, KeytipEvents.ENTER_KEYTIP_MODE);\n  };\n  /**\n   * Manual call to exit keytip mode\n   */\n\n\n  KeytipManager.prototype.exitKeytipMode = function () {\n    EventGroup.raise(this, KeytipEvents.EXIT_KEYTIP_MODE);\n  };\n  /**\n   * Gets all IKeytipProps from this.keytips\n   *\n   * @returns All keytips stored in the manager\n   */\n\n\n  KeytipManager.prototype.getKeytips = function () {\n    var _this = this;\n\n    return Object.keys(this.keytips).map(function (key) {\n      return _this.keytips[key].keytip;\n    });\n  };\n  /**\n   * Adds the overflowSetSequence to the keytipProps if its parent keytip also has it\n   *\n   * @param keytipProps - Keytip props to add overflowSetSequence to if necessary\n   * @returns - Modified keytip props, if needed to be modified\n   */\n\n\n  KeytipManager.prototype.addParentOverflow = function (keytipProps) {\n    var fullSequence = __spreadArrays(keytipProps.keySequences);\n\n    fullSequence.pop();\n\n    if (fullSequence.length !== 0) {\n      var parentKeytip = this.sequenceMapping[fullSequence.toString()];\n\n      if (parentKeytip && parentKeytip.overflowSetSequence) {\n        return __assign(__assign({}, keytipProps), {\n          overflowSetSequence: parentKeytip.overflowSetSequence\n        });\n      }\n    }\n\n    return keytipProps;\n  };\n  /**\n   * Public function to bind for overflow items that have a submenu\n   */\n\n\n  KeytipManager.prototype.menuExecute = function (overflowButtonSequences, keytipSequences) {\n    EventGroup.raise(this, KeytipEvents.PERSISTED_KEYTIP_EXECUTE, {\n      overflowButtonSequences: overflowButtonSequences,\n      keytipSequences: keytipSequences\n    });\n  };\n  /**\n   * Creates an IUniqueKeytip object\n   *\n   * @param keytipProps - IKeytipProps\n   * @param uniqueID - Unique ID, will default to the next unique ID if not passed\n   * @returns IUniqueKeytip object\n   */\n\n\n  KeytipManager.prototype._getUniqueKtp = function (keytipProps, uniqueID) {\n    if (uniqueID === void 0) {\n      uniqueID = getId();\n    }\n\n    return {\n      keytip: __assign({}, keytipProps),\n      uniqueID: uniqueID\n    };\n  };\n\n  KeytipManager._instance = new KeytipManager();\n  return KeytipManager;\n}();\n\nexport { KeytipManager };","import \"core-js/modules/es.array.reduce.js\";\nimport { __spreadArrays } from \"tslib\";\nimport { KTP_SEPARATOR, KTP_PREFIX, DATAKTP_TARGET, DATAKTP_EXECUTE_TARGET, KTP_LAYER_ID } from './KeytipConstants';\nimport { addElementAtIndex } from '../../Utilities';\n/**\n * Converts a whole set of KeySequences into one keytip ID, which will be the ID for the last keytip sequence specified\n * keySequences should not include the initial keytip 'start' sequence.\n *\n * @param keySequences - Full path of IKeySequences for one keytip.\n * @returns String to use for the keytip ID.\n */\n\nexport function sequencesToID(keySequences) {\n  return keySequences.reduce(function (prevValue, keySequence) {\n    return prevValue + KTP_SEPARATOR + keySequence.split('').join(KTP_SEPARATOR);\n  }, KTP_PREFIX);\n}\n/**\n * Merges an overflow sequence with a key sequence.\n *\n * @param keySequences - Full sequence for one keytip.\n * @param overflowKeySequences - Full overflow keytip sequence.\n * @returns Sequence that will be used by the keytip when in the overflow.\n */\n\nexport function mergeOverflows(keySequences, overflowKeySequences) {\n  var overflowSequenceLen = overflowKeySequences.length;\n\n  var overflowSequence = __spreadArrays(overflowKeySequences).pop();\n\n  var newKeySequences = __spreadArrays(keySequences);\n\n  return addElementAtIndex(newKeySequences, overflowSequenceLen - 1, overflowSequence);\n}\n/**\n * Constructs the data-ktp-target attribute selector from a full key sequence.\n *\n * @param keySequences - Full string[] for a Keytip.\n * @returns String selector to use to query for the keytip target.\n */\n\nexport function ktpTargetFromSequences(keySequences) {\n  return '[' + DATAKTP_TARGET + '=\"' + sequencesToID(keySequences) + '\"]';\n}\n/**\n * Constructs the data-ktp-execute-target attribute selector from a keytip ID.\n *\n * @param keytipId - ID of the Keytip.\n * @returns String selector to use to query for the keytip execute target.\n */\n\nexport function ktpTargetFromId(keytipId) {\n  return '[' + DATAKTP_EXECUTE_TARGET + '=\"' + keytipId + '\"]';\n}\n/**\n * Gets the aria-describedby value to put on the component with this keytip.\n *\n * @param keySequences - KeySequences of the keytip.\n * @returns The aria-describedby value to set on the component with this keytip.\n */\n\nexport function getAriaDescribedBy(keySequences) {\n  var describedby = ' ' + KTP_LAYER_ID;\n\n  if (!keySequences.length) {\n    // Return just the layer ID\n    return describedby;\n  }\n\n  return describedby + ' ' + sequencesToID(keySequences);\n}","import { __assign, __spreadArrays } from \"tslib\";\nimport * as React from 'react';\nimport { useConst, usePrevious } from '@uifabric/react-hooks';\nimport { mergeAriaAttributeValues } from '../../Utilities';\nimport { KeytipManager, mergeOverflows, sequencesToID, getAriaDescribedBy } from '../../utilities/keytips/index';\n/**\n * Hook that creates attributes for components which are enabled with Keytip.\n */\n\nexport function useKeytipData(options) {\n  var _a, _b;\n\n  var uniqueId = React.useRef();\n  var keytipProps = options.keytipProps ? __assign({\n    disabled: options.disabled\n  }, options.keytipProps) : undefined;\n  var keytipManager = useConst(KeytipManager.getInstance());\n  React.useEffect(function () {\n    // Register Keytip in KeytipManager\n    if (keytipProps) {\n      uniqueId.current = keytipManager.register(keytipProps);\n    }\n\n    return function () {\n      // Unregister Keytip in KeytipManager\n      keytipProps && keytipManager.unregister(keytipProps, uniqueId.current);\n    }; // this is meant to run only at mount, and updates are handled separately\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var prevOptions = usePrevious(options);\n\n  if (uniqueId.current && keytipProps && (((_a = prevOptions) === null || _a === void 0 ? void 0 : _a.keytipProps) !== options.keytipProps || ((_b = prevOptions) === null || _b === void 0 ? void 0 : _b.disabled) !== options.disabled)) {\n    keytipManager.update(keytipProps, uniqueId.current);\n  }\n\n  var nativeKeytipProps = {\n    ariaDescribedBy: undefined,\n    keytipId: undefined\n  };\n\n  if (keytipProps) {\n    nativeKeytipProps = getKeytipData(keytipManager, keytipProps, options.ariaDescribedBy);\n  }\n\n  return nativeKeytipProps;\n}\n/**\n * Gets the aria- and data- attributes to attach to the component\n * @param keytipProps - options for Keytip\n * @param describedByPrepend - ariaDescribedBy value to prepend\n */\n\nfunction getKeytipData(keytipManager, keytipProps, describedByPrepend) {\n  // Add the parent overflow sequence if necessary\n  var newKeytipProps = keytipManager.addParentOverflow(keytipProps); // Construct aria-describedby and data-ktp-id attributes\n\n  var ariaDescribedBy = mergeAriaAttributeValues(describedByPrepend, getAriaDescribedBy(newKeytipProps.keySequences));\n\n  var keySequences = __spreadArrays(newKeytipProps.keySequences);\n\n  if (newKeytipProps.overflowSetSequence) {\n    keySequences = mergeOverflows(keySequences, newKeytipProps.overflowSetSequence);\n  }\n\n  var keytipId = sequencesToID(keySequences);\n  return {\n    ariaDescribedBy: ariaDescribedBy,\n    keytipId: keytipId\n  };\n}","import * as React from 'react';\n/**\n * Hook to initialize and return a constant value. Unlike `React.useMemo`, this is guaranteed to\n * always return the same value (and if the initializer is a function, only call it once).\n * This is similar to setting a private member in a class constructor.\n *\n * If the value should ever change based on dependencies, use `React.useMemo` instead.\n *\n * @param initialValue - Initial value, or function to get the initial value. Similar to `useState`,\n * only the value/function passed in the first time this is called is respected.\n * @returns The value. The identity of this value will always be the same.\n */\n\nexport function useConst(initialValue) {\n  // Use useRef to store the value because it's the least expensive built-in hook that works here\n  // (we could also use `const [value] = React.useState(initialValue)` but that's more expensive\n  // internally due to reducer handling which we don't need)\n  var ref = React.useRef();\n\n  if (ref.current === undefined) {\n    // Box the value in an object so we can tell if it's initialized even if the initializer\n    // returns/is undefined\n    ref.current = {\n      value: typeof initialValue === 'function' ? initialValue() : initialValue\n    };\n  }\n\n  return ref.current.value;\n}","import { useRef, useEffect } from 'react';\n/**\n * Hook keeping track of a given value from a previous execution of the component the Hook is used in.\n *\n * See [React Hooks FAQ](https://reactjs.org/docs/hooks-faq.html#how-to-get-the-previous-props-or-state)\n */\n\nexport function usePrevious(value) {\n  var ref = useRef();\n  useEffect(function () {\n    ref.current = value;\n  });\n  return ref.current;\n}","import { __rest } from \"tslib\";\nimport { DATAKTP_TARGET, DATAKTP_EXECUTE_TARGET } from '../../utilities/keytips/index';\nimport { useKeytipData } from './useKeytipData';\n/**\n * A small element to help the target component correctly read out its aria-describedby for its Keytip\n * {@docCategory Keytips}\n */\n\nexport var KeytipData = function KeytipData(props) {\n  var _a;\n\n  var children = props.children,\n      keytipDataProps = __rest(props, [\"children\"]);\n\n  var _b = useKeytipData(keytipDataProps),\n      keytipId = _b.keytipId,\n      ariaDescribedBy = _b.ariaDescribedBy;\n\n  return children((_a = {}, _a[DATAKTP_TARGET] = keytipId, _a[DATAKTP_EXECUTE_TARGET] = keytipId, _a['aria-describedby'] = ariaDescribedBy, _a));\n};","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { anchorProperties, getNativeProps, memoizeFunction, getId, mergeAriaAttributeValues } from '../../../Utilities';\nimport { ContextualMenuItemWrapper } from './ContextualMenuItemWrapper';\nimport { KeytipData } from '../../../KeytipData';\nimport { isItemDisabled, hasSubmenu } from '../../../utilities/contextualMenu/index';\nimport { ContextualMenuItem } from '../ContextualMenuItem';\n\nvar ContextualMenuAnchor =\n/** @class */\nfunction (_super) {\n  __extends(ContextualMenuAnchor, _super);\n\n  function ContextualMenuAnchor() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._anchor = React.createRef();\n    _this._getMemoizedMenuButtonKeytipProps = memoizeFunction(function (keytipProps) {\n      return __assign(__assign({}, keytipProps), {\n        hasMenu: true\n      });\n    });\n\n    _this._getSubmenuTarget = function () {\n      return _this._anchor.current ? _this._anchor.current : undefined;\n    };\n\n    _this._onItemClick = function (ev) {\n      var _a = _this.props,\n          item = _a.item,\n          onItemClick = _a.onItemClick;\n\n      if (onItemClick) {\n        onItemClick(item, ev);\n      }\n    };\n\n    _this._renderAriaDescription = function (ariaDescription, className) {\n      // If ariaDescription is given, descriptionId will be assigned to ariaDescriptionSpan\n      return ariaDescription ? React.createElement(\"span\", {\n        id: _this._ariaDescriptionId,\n        className: className\n      }, ariaDescription) : null;\n    };\n\n    return _this;\n  }\n\n  ContextualMenuAnchor.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        item = _a.item,\n        classNames = _a.classNames,\n        index = _a.index,\n        focusableElementIndex = _a.focusableElementIndex,\n        totalItemCount = _a.totalItemCount,\n        hasCheckmarks = _a.hasCheckmarks,\n        hasIcons = _a.hasIcons,\n        _b = _a.contextualMenuItemAs,\n        ChildrenRenderer = _b === void 0 ? ContextualMenuItem : _b,\n        expandedMenuItemKey = _a.expandedMenuItemKey,\n        onItemClick = _a.onItemClick,\n        openSubMenu = _a.openSubMenu,\n        dismissSubMenu = _a.dismissSubMenu,\n        dismissMenu = _a.dismissMenu;\n    var anchorRel = item.rel;\n\n    if (item.target && item.target.toLowerCase() === '_blank') {\n      anchorRel = anchorRel ? anchorRel : 'nofollow noopener noreferrer'; // Safe default to prevent tabjacking\n    }\n\n    var subMenuId = this._getSubMenuId(item);\n\n    var itemHasSubmenu = hasSubmenu(item);\n    var nativeProps = getNativeProps(item, anchorProperties);\n    var disabled = isItemDisabled(item);\n    var itemProps = item.itemProps,\n        ariaDescription = item.ariaDescription;\n    var keytipProps = item.keytipProps;\n\n    if (keytipProps && itemHasSubmenu) {\n      keytipProps = this._getMemoizedMenuButtonKeytipProps(keytipProps);\n    } // Check for ariaDescription to set the _ariaDescriptionId and render a hidden span with\n    // the description in it to be added to ariaDescribedBy\n\n\n    if (ariaDescription) {\n      this._ariaDescriptionId = getId();\n    }\n\n    return React.createElement(\"div\", null, React.createElement(KeytipData, {\n      keytipProps: item.keytipProps,\n      ariaDescribedBy: nativeProps['aria-describedby'],\n      disabled: disabled\n    }, function (keytipAttributes) {\n      return React.createElement(\"a\", __assign({}, nativeProps, keytipAttributes, {\n        ref: _this._anchor,\n        href: item.href,\n        target: item.target,\n        rel: anchorRel,\n        className: classNames.root,\n        role: \"menuitem\",\n        \"aria-owns\": item.key === expandedMenuItemKey ? subMenuId : undefined,\n        \"aria-haspopup\": itemHasSubmenu || undefined,\n        \"aria-expanded\": itemHasSubmenu ? item.key === expandedMenuItemKey : undefined,\n        \"aria-posinset\": focusableElementIndex + 1,\n        \"aria-setsize\": totalItemCount,\n        \"aria-disabled\": isItemDisabled(item),\n        \"aria-describedby\": mergeAriaAttributeValues(ariaDescription ? _this._ariaDescriptionId : undefined, keytipAttributes ? keytipAttributes['aria-describedby'] : undefined),\n        // eslint-disable-next-line deprecation/deprecation\n        style: item.style,\n        onClick: _this._onItemClick,\n        onMouseEnter: _this._onItemMouseEnter,\n        onMouseLeave: _this._onItemMouseLeave,\n        onMouseMove: _this._onItemMouseMove,\n        onKeyDown: itemHasSubmenu ? _this._onItemKeyDown : undefined\n      }), React.createElement(ChildrenRenderer, __assign({\n        componentRef: item.componentRef,\n        item: item,\n        classNames: classNames,\n        index: index,\n        onCheckmarkClick: hasCheckmarks && onItemClick ? onItemClick : undefined,\n        hasIcons: hasIcons,\n        openSubMenu: openSubMenu,\n        dismissSubMenu: dismissSubMenu,\n        dismissMenu: dismissMenu,\n        getSubmenuTarget: _this._getSubmenuTarget\n      }, itemProps)), _this._renderAriaDescription(ariaDescription, classNames.screenReaderText));\n    }));\n  };\n\n  return ContextualMenuAnchor;\n}(ContextualMenuItemWrapper);\n\nexport { ContextualMenuAnchor };","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { buttonProperties, getNativeProps, memoizeFunction, getId, mergeAriaAttributeValues } from '../../../Utilities';\nimport { ContextualMenuItemWrapper } from './ContextualMenuItemWrapper';\nimport { KeytipData } from '../../../KeytipData';\nimport { getIsChecked, isItemDisabled, hasSubmenu, getMenuItemAriaRole } from '../../../utilities/contextualMenu/index';\nimport { ContextualMenuItem } from '../ContextualMenuItem';\n\nvar ContextualMenuButton =\n/** @class */\nfunction (_super) {\n  __extends(ContextualMenuButton, _super);\n\n  function ContextualMenuButton() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._btn = React.createRef();\n    _this._getMemoizedMenuButtonKeytipProps = memoizeFunction(function (keytipProps) {\n      return __assign(__assign({}, keytipProps), {\n        hasMenu: true\n      });\n    });\n\n    _this._renderAriaDescription = function (ariaDescription, className) {\n      // If ariaDescription is given, descriptionId will be assigned to ariaDescriptionSpan\n      return ariaDescription ? React.createElement(\"span\", {\n        id: _this._ariaDescriptionId,\n        className: className\n      }, ariaDescription) : null;\n    };\n\n    _this._getSubmenuTarget = function () {\n      return _this._btn.current ? _this._btn.current : undefined;\n    };\n\n    return _this;\n  }\n\n  ContextualMenuButton.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        item = _a.item,\n        classNames = _a.classNames,\n        index = _a.index,\n        focusableElementIndex = _a.focusableElementIndex,\n        totalItemCount = _a.totalItemCount,\n        hasCheckmarks = _a.hasCheckmarks,\n        hasIcons = _a.hasIcons,\n        _b = _a.contextualMenuItemAs,\n        ChildrenRenderer = _b === void 0 ? ContextualMenuItem : _b,\n        expandedMenuItemKey = _a.expandedMenuItemKey,\n        onItemMouseDown = _a.onItemMouseDown,\n        onItemClick = _a.onItemClick,\n        openSubMenu = _a.openSubMenu,\n        dismissSubMenu = _a.dismissSubMenu,\n        dismissMenu = _a.dismissMenu;\n\n    var subMenuId = this._getSubMenuId(item);\n\n    var isChecked = getIsChecked(item);\n    var canCheck = isChecked !== null;\n    var defaultRole = getMenuItemAriaRole(item);\n    var itemHasSubmenu = hasSubmenu(item);\n    var itemProps = item.itemProps,\n        ariaLabel = item.ariaLabel,\n        ariaDescription = item.ariaDescription;\n    var buttonNativeProperties = getNativeProps(item, buttonProperties); // Do not add the disabled attribute to the button so that it is focusable\n\n    delete buttonNativeProperties.disabled;\n    var itemRole = item.role || defaultRole; // Check for ariaDescription to set the _ariaDescriptionId and render a hidden span with\n    // the description in it to be added to ariaDescribedBy\n\n    if (ariaDescription) {\n      this._ariaDescriptionId = getId();\n    }\n\n    var ariaDescribedByIds = ariaDescription ? this._ariaDescriptionId : undefined;\n    var itemButtonProperties = {\n      className: classNames.root,\n      onClick: this._onItemClick,\n      onKeyDown: itemHasSubmenu ? this._onItemKeyDown : undefined,\n      onMouseEnter: this._onItemMouseEnter,\n      onMouseLeave: this._onItemMouseLeave,\n      onMouseDown: function onMouseDown(ev) {\n        return onItemMouseDown ? onItemMouseDown(item, ev) : undefined;\n      },\n      onMouseMove: this._onItemMouseMove,\n      href: item.href,\n      title: item.title,\n      'aria-label': ariaLabel,\n      'aria-describedby': ariaDescribedByIds,\n      'aria-haspopup': itemHasSubmenu || undefined,\n      'aria-owns': item.key === expandedMenuItemKey ? subMenuId : undefined,\n      'aria-expanded': itemHasSubmenu ? item.key === expandedMenuItemKey : undefined,\n      'aria-posinset': focusableElementIndex + 1,\n      'aria-setsize': totalItemCount,\n      'aria-disabled': isItemDisabled(item),\n      'aria-checked': (itemRole === 'menuitemcheckbox' || itemRole === 'menuitemradio') && canCheck ? !!isChecked : undefined,\n      'aria-selected': itemRole === 'menuitem' && canCheck ? !!isChecked : undefined,\n      role: itemRole,\n      // eslint-disable-next-line deprecation/deprecation\n      style: item.style\n    };\n    var keytipProps = item.keytipProps;\n\n    if (keytipProps && itemHasSubmenu) {\n      keytipProps = this._getMemoizedMenuButtonKeytipProps(keytipProps);\n    }\n\n    return React.createElement(KeytipData, {\n      keytipProps: keytipProps,\n      ariaDescribedBy: buttonNativeProperties['aria-describedby'],\n      disabled: isItemDisabled(item)\n    }, function (keytipAttributes) {\n      return React.createElement(\"button\", __assign({\n        ref: _this._btn\n      }, buttonNativeProperties, itemButtonProperties, keytipAttributes, {\n        \"aria-describedby\": mergeAriaAttributeValues(itemButtonProperties['aria-describedby'], keytipAttributes ? keytipAttributes['aria-describedby'] : undefined)\n      }), React.createElement(ChildrenRenderer, __assign({\n        componentRef: item.componentRef,\n        item: item,\n        classNames: classNames,\n        index: index,\n        onCheckmarkClick: hasCheckmarks && onItemClick ? onItemClick : undefined,\n        hasIcons: hasIcons,\n        openSubMenu: openSubMenu,\n        dismissSubMenu: dismissSubMenu,\n        dismissMenu: dismissMenu,\n        getSubmenuTarget: _this._getSubmenuTarget\n      }, itemProps)), _this._renderAriaDescription(ariaDescription, classNames.screenReaderText));\n    });\n  };\n\n  return ContextualMenuButton;\n}(ContextualMenuItemWrapper);\n\nexport { ContextualMenuButton };","import * as React from 'react';\nimport { classNamesFunction } from '../../Utilities';\nvar getClassNames = classNamesFunction();\nexport var VerticalDividerBase = function VerticalDividerBase(props) {\n  // eslint-disable-next-line deprecation/deprecation\n  var styles = props.styles,\n      theme = props.theme,\n      deprecatedGetClassNames = props.getClassNames,\n      className = props.className;\n  var classNames = getClassNames(styles, {\n    theme: theme,\n    getClassNames: deprecatedGetClassNames,\n    className: className\n  });\n  return React.createElement(\"span\", {\n    className: classNames.wrapper\n  }, React.createElement(\"span\", {\n    className: classNames.divider\n  }));\n};\nVerticalDividerBase.displayName = 'VerticalDividerBase';","import { getStyles } from './VerticalDivider.styles';\nimport { VerticalDividerBase } from './VerticalDivider.base';\nimport { styled } from '../../Utilities';\nexport var VerticalDivider = styled(VerticalDividerBase, getStyles, undefined, {\n  scope: 'VerticalDivider'\n});","export var getStyles = function getStyles(props) {\n  // eslint-disable-next-line deprecation/deprecation\n  var theme = props.theme,\n      getClassNames = props.getClassNames,\n      className = props.className;\n\n  if (!theme) {\n    throw new Error('Theme is undefined or null.');\n  }\n\n  if (getClassNames) {\n    var names = getClassNames(theme);\n    return {\n      wrapper: [names.wrapper],\n      divider: [names.divider]\n    };\n  }\n\n  return {\n    wrapper: [{\n      display: 'inline-flex',\n      height: '100%',\n      alignItems: 'center'\n    }, className],\n    divider: [{\n      width: 1,\n      height: '100%',\n      backgroundColor: theme.palette.neutralTertiaryAlt\n    }]\n  };\n};","import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { buttonProperties, getNativeProps, KeyCodes, mergeAriaAttributeValues, memoizeFunction, Async, EventGroup, getId } from '../../../Utilities';\nimport { ContextualMenuItem } from '../ContextualMenuItem';\nimport { getSplitButtonVerticalDividerClassNames } from '../ContextualMenu.classNames';\nimport { KeytipData } from '../../../KeytipData';\nimport { isItemDisabled, hasSubmenu, getMenuItemAriaRole } from '../../../utilities/contextualMenu/index';\nimport { VerticalDivider } from '../../../Divider';\nimport { ContextualMenuItemWrapper } from './ContextualMenuItemWrapper';\nvar TouchIdleDelay = 500;\n/* ms */\n\nvar ContextualMenuSplitButton =\n/** @class */\nfunction (_super) {\n  __extends(ContextualMenuSplitButton, _super);\n\n  function ContextualMenuSplitButton(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._getMemoizedMenuButtonKeytipProps = memoizeFunction(function (keytipProps) {\n      return __assign(__assign({}, keytipProps), {\n        hasMenu: true\n      });\n    });\n\n    _this._renderAriaDescription = function (ariaDescription, className) {\n      // If ariaDescription is given, descriptionId will be assigned to ariaDescriptionSpan\n      return ariaDescription ? React.createElement(\"span\", {\n        id: _this._ariaDescriptionId,\n        className: className\n      }, ariaDescription) : null;\n    };\n\n    _this._onItemKeyDown = function (ev) {\n      var _a = _this.props,\n          item = _a.item,\n          onItemKeyDown = _a.onItemKeyDown;\n\n      if (ev.which === KeyCodes.enter) {\n        _this._executeItemClick(ev);\n\n        ev.preventDefault();\n        ev.stopPropagation();\n      } else if (onItemKeyDown) {\n        onItemKeyDown(item, ev);\n      }\n    };\n\n    _this._getSubmenuTarget = function () {\n      return _this._splitButton;\n    };\n\n    _this._onItemMouseEnterPrimary = function (ev) {\n      var _a = _this.props,\n          item = _a.item,\n          onItemMouseEnter = _a.onItemMouseEnter;\n\n      if (onItemMouseEnter) {\n        onItemMouseEnter(__assign(__assign({}, item), {\n          subMenuProps: undefined,\n          items: undefined\n        }), ev, _this._splitButton);\n      }\n    };\n\n    _this._onItemMouseEnterIcon = function (ev) {\n      var _a = _this.props,\n          item = _a.item,\n          onItemMouseEnter = _a.onItemMouseEnter;\n\n      if (onItemMouseEnter) {\n        onItemMouseEnter(item, ev, _this._splitButton);\n      }\n    };\n\n    _this._onItemMouseMovePrimary = function (ev) {\n      var _a = _this.props,\n          item = _a.item,\n          onItemMouseMove = _a.onItemMouseMove;\n\n      if (onItemMouseMove) {\n        onItemMouseMove(__assign(__assign({}, item), {\n          subMenuProps: undefined,\n          items: undefined\n        }), ev, _this._splitButton);\n      }\n    };\n\n    _this._onItemMouseMoveIcon = function (ev) {\n      var _a = _this.props,\n          item = _a.item,\n          onItemMouseMove = _a.onItemMouseMove;\n\n      if (onItemMouseMove) {\n        onItemMouseMove(item, ev, _this._splitButton);\n      }\n    };\n\n    _this._onIconItemClick = function (ev) {\n      var _a = _this.props,\n          item = _a.item,\n          onItemClickBase = _a.onItemClickBase;\n\n      if (onItemClickBase) {\n        onItemClickBase(item, ev, _this._splitButton ? _this._splitButton : ev.currentTarget);\n      }\n    };\n\n    _this._executeItemClick = function (ev) {\n      var _a = _this.props,\n          item = _a.item,\n          executeItemClick = _a.executeItemClick,\n          onItemClick = _a.onItemClick;\n\n      if (item.disabled || item.isDisabled) {\n        return;\n      }\n\n      if (_this._processingTouch && onItemClick) {\n        return onItemClick(item, ev);\n      }\n\n      if (executeItemClick) {\n        executeItemClick(item, ev);\n      }\n    };\n\n    _this._onTouchStart = function (ev) {\n      if (_this._splitButton && !('onpointerdown' in _this._splitButton)) {\n        _this._handleTouchAndPointerEvent(ev);\n      }\n    };\n\n    _this._onPointerDown = function (ev) {\n      if (ev.pointerType === 'touch') {\n        _this._handleTouchAndPointerEvent(ev);\n\n        ev.preventDefault();\n        ev.stopImmediatePropagation();\n      }\n    };\n\n    _this._async = new Async(_this);\n    _this._events = new EventGroup(_this);\n    return _this;\n  }\n\n  ContextualMenuSplitButton.prototype.componentDidMount = function () {\n    if (this._splitButton && 'onpointerdown' in this._splitButton) {\n      this._events.on(this._splitButton, 'pointerdown', this._onPointerDown, true);\n    }\n  };\n\n  ContextualMenuSplitButton.prototype.componentWillUnmount = function () {\n    this._async.dispose();\n\n    this._events.dispose();\n  };\n\n  ContextualMenuSplitButton.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        item = _a.item,\n        classNames = _a.classNames,\n        index = _a.index,\n        focusableElementIndex = _a.focusableElementIndex,\n        totalItemCount = _a.totalItemCount,\n        hasCheckmarks = _a.hasCheckmarks,\n        hasIcons = _a.hasIcons,\n        onItemMouseLeave = _a.onItemMouseLeave,\n        expandedMenuItemKey = _a.expandedMenuItemKey;\n    var itemHasSubmenu = hasSubmenu(item);\n    var keytipProps = item.keytipProps;\n\n    if (keytipProps) {\n      keytipProps = this._getMemoizedMenuButtonKeytipProps(keytipProps);\n    } // Check for ariaDescription to set the _ariaDescriptionId and render a hidden span with\n    // the description in it to be added to ariaDescribedBy\n\n\n    var ariaDescription = item.ariaDescription;\n\n    if (ariaDescription) {\n      this._ariaDescriptionId = getId();\n    }\n\n    return React.createElement(KeytipData, {\n      keytipProps: keytipProps,\n      disabled: isItemDisabled(item)\n    }, function (keytipAttributes) {\n      return React.createElement(\"div\", {\n        \"data-ktp-target\": keytipAttributes['data-ktp-target'],\n        ref: function ref(splitButton) {\n          return _this._splitButton = splitButton;\n        },\n        role: getMenuItemAriaRole(item),\n        \"aria-label\": item.ariaLabel,\n        className: classNames.splitContainer,\n        \"aria-disabled\": isItemDisabled(item),\n        \"aria-expanded\": itemHasSubmenu ? item.key === expandedMenuItemKey : undefined,\n        \"aria-haspopup\": true,\n        \"aria-describedby\": mergeAriaAttributeValues(ariaDescription ? _this._ariaDescriptionId : undefined, keytipAttributes['aria-describedby']),\n        \"aria-checked\": item.isChecked || item.checked,\n        \"aria-posinset\": focusableElementIndex + 1,\n        \"aria-setsize\": totalItemCount,\n        onMouseEnter: _this._onItemMouseEnterPrimary,\n        onMouseLeave: onItemMouseLeave ? onItemMouseLeave.bind(_this, __assign(__assign({}, item), {\n          subMenuProps: null,\n          items: null\n        })) : undefined,\n        onMouseMove: _this._onItemMouseMovePrimary,\n        onKeyDown: _this._onItemKeyDown,\n        onClick: _this._executeItemClick,\n        onTouchStart: _this._onTouchStart,\n        tabIndex: 0,\n        \"data-is-focusable\": true,\n        \"aria-roledescription\": item['aria-roledescription']\n      }, _this._renderSplitPrimaryButton(item, classNames, index, hasCheckmarks, hasIcons), _this._renderSplitDivider(item), _this._renderSplitIconButton(item, classNames, index, keytipAttributes), _this._renderAriaDescription(ariaDescription, classNames.screenReaderText));\n    });\n  };\n\n  ContextualMenuSplitButton.prototype._renderSplitPrimaryButton = function (item, // eslint-disable-next-line deprecation/deprecation\n  classNames, index, hasCheckmarks, hasIcons) {\n    var _a = this.props,\n        _b = _a.contextualMenuItemAs,\n        ChildrenRenderer = _b === void 0 ? ContextualMenuItem : _b,\n        onItemClick = _a.onItemClick;\n    var itemProps = {\n      key: item.key,\n      disabled: isItemDisabled(item) || item.primaryDisabled,\n\n      /* eslint-disable deprecation/deprecation */\n      name: item.name,\n      text: item.text || item.name,\n      secondaryText: item.secondaryText,\n\n      /* eslint-enable deprecation/deprecation */\n      className: classNames.splitPrimary,\n      canCheck: item.canCheck,\n      isChecked: item.isChecked,\n      checked: item.checked,\n      iconProps: item.iconProps,\n      onRenderIcon: item.onRenderIcon,\n      data: item.data,\n      'data-is-focusable': false\n    };\n    var itemComponentProps = item.itemProps;\n    return React.createElement(\"button\", __assign({}, getNativeProps(itemProps, buttonProperties)), React.createElement(ChildrenRenderer, __assign({\n      \"data-is-focusable\": false,\n      item: itemProps,\n      classNames: classNames,\n      index: index,\n      onCheckmarkClick: hasCheckmarks && onItemClick ? onItemClick : undefined,\n      hasIcons: hasIcons\n    }, itemComponentProps)));\n  };\n\n  ContextualMenuSplitButton.prototype._renderSplitDivider = function (item) {\n    var getDividerClassNames = item.getSplitButtonVerticalDividerClassNames || getSplitButtonVerticalDividerClassNames;\n    return React.createElement(VerticalDivider, {\n      getClassNames: getDividerClassNames\n    });\n  };\n\n  ContextualMenuSplitButton.prototype._renderSplitIconButton = function (item, classNames, // eslint-disable-line deprecation/deprecation\n  index, keytipAttributes) {\n    var _a = this.props,\n        _b = _a.contextualMenuItemAs,\n        ChildrenRenderer = _b === void 0 ? ContextualMenuItem : _b,\n        onItemMouseLeave = _a.onItemMouseLeave,\n        onItemMouseDown = _a.onItemMouseDown,\n        openSubMenu = _a.openSubMenu,\n        dismissSubMenu = _a.dismissSubMenu,\n        dismissMenu = _a.dismissMenu;\n    var itemProps = {\n      onClick: this._onIconItemClick,\n      disabled: isItemDisabled(item),\n      className: classNames.splitMenu,\n      subMenuProps: item.subMenuProps,\n      submenuIconProps: item.submenuIconProps,\n      split: true,\n      key: item.key\n    };\n\n    var buttonProps = __assign(__assign({}, getNativeProps(itemProps, buttonProperties)), {\n      onMouseEnter: this._onItemMouseEnterIcon,\n      onMouseLeave: onItemMouseLeave ? onItemMouseLeave.bind(this, item) : undefined,\n      onMouseDown: function onMouseDown(ev) {\n        return onItemMouseDown ? onItemMouseDown(item, ev) : undefined;\n      },\n      onMouseMove: this._onItemMouseMoveIcon,\n      'data-is-focusable': false,\n      'data-ktp-execute-target': keytipAttributes['data-ktp-execute-target'],\n      'aria-hidden': true\n    });\n\n    var itemComponentProps = item.itemProps;\n    return React.createElement(\"button\", __assign({}, buttonProps), React.createElement(ChildrenRenderer, __assign({\n      componentRef: item.componentRef,\n      item: itemProps,\n      classNames: classNames,\n      index: index,\n      hasIcons: false,\n      openSubMenu: openSubMenu,\n      dismissSubMenu: dismissSubMenu,\n      dismissMenu: dismissMenu,\n      getSubmenuTarget: this._getSubmenuTarget\n    }, itemComponentProps)));\n  };\n\n  ContextualMenuSplitButton.prototype._handleTouchAndPointerEvent = function (ev) {\n    var _this = this;\n\n    var onTap = this.props.onTap;\n\n    if (onTap) {\n      onTap(ev);\n    } // If we already have an existing timeout from a previous touch/pointer event\n    // cancel that timeout so we can set a new one.\n\n\n    if (this._lastTouchTimeoutId) {\n      this._async.clearTimeout(this._lastTouchTimeoutId);\n\n      this._lastTouchTimeoutId = undefined;\n    }\n\n    this._processingTouch = true;\n    this._lastTouchTimeoutId = this._async.setTimeout(function () {\n      _this._processingTouch = false;\n      _this._lastTouchTimeoutId = undefined;\n    }, TouchIdleDelay);\n  };\n\n  return ContextualMenuSplitButton;\n}(ContextualMenuItemWrapper);\n\nexport { ContextualMenuSplitButton };","import { __assign, __decorate, __extends, __spreadArrays } from \"tslib\";\nimport * as React from 'react';\nimport { ContextualMenuItemType } from './ContextualMenu.types';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport { FocusZone, FocusZoneDirection, FocusZoneTabbableElements } from '../../FocusZone';\nimport { divProperties, getNativeProps, shallowCompare, warnDeprecations, Async, EventGroup, assign, classNamesFunction, css, getDocument, getFirstFocusable, getId, getLastFocusable, getRTL, getWindow, KeyCodes, shouldWrapFocus, isIOS, isMac, initializeComponentRef, memoizeFunction } from '../../Utilities';\nimport { hasSubmenu, getIsChecked, isItemDisabled } from '../../utilities/contextualMenu/index';\nimport { withResponsiveMode, ResponsiveMode } from '../../utilities/decorators/withResponsiveMode';\nimport { Callout } from '../../Callout';\nimport { ContextualMenuItem } from './ContextualMenuItem';\nimport { ContextualMenuSplitButton, ContextualMenuButton, ContextualMenuAnchor } from './ContextualMenuItemWrapper/index';\nimport { concatStyleSetsWithProps } from '../../Styling';\nimport { getItemStyles } from './ContextualMenu.classNames';\nvar getClassNames = classNamesFunction();\nvar getContextualMenuItemClassNames = classNamesFunction();\nexport function getSubmenuItems(item) {\n  return item.subMenuProps ? item.subMenuProps.items : item.items;\n}\n/**\n * Returns true if a list of menu items can contain a checkbox\n */\n\nexport function canAnyMenuItemsCheck(items) {\n  return items.some(function (item) {\n    if (item.canCheck) {\n      return true;\n    } // If the item is a section, check if any of the items in the section can check.\n\n\n    if (item.sectionProps && item.sectionProps.items.some(function (submenuItem) {\n      return submenuItem.canCheck === true;\n    })) {\n      return true;\n    }\n\n    return false;\n  });\n}\nvar NavigationIdleDelay = 250;\n/* ms */\n\nvar COMPONENT_NAME = 'ContextualMenu';\n\nvar _getMenuItemStylesFunction = memoizeFunction(function () {\n  var styles = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    styles[_i] = arguments[_i];\n  }\n\n  return function (styleProps) {\n    return concatStyleSetsWithProps.apply(void 0, __spreadArrays([styleProps, getItemStyles], styles));\n  };\n});\n\nvar ContextualMenuBase =\n/** @class */\nfunction (_super) {\n  __extends(ContextualMenuBase, _super);\n\n  function ContextualMenuBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._mounted = false;\n\n    _this.dismiss = function (ev, dismissAll) {\n      var onDismiss = _this.props.onDismiss;\n\n      if (onDismiss) {\n        onDismiss(ev, dismissAll);\n      }\n    };\n\n    _this._tryFocusPreviousActiveElement = function (options) {\n      if (_this.props.onRestoreFocus) {\n        _this.props.onRestoreFocus(options);\n      } else {\n        if (options && options.containsFocus && _this._previousActiveElement) {\n          // Make sure that the focus method actually exists\n          // In some cases the object might exist but not be a real element.\n          // This is primarily for IE 11 and should be removed once IE 11 is no longer in use.\n          if (_this._previousActiveElement.focus) {\n            _this._previousActiveElement.focus();\n          }\n        }\n      }\n    };\n\n    _this._onRenderMenuList = function (menuListProps, defaultRender) {\n      var indexCorrection = 0;\n      var items = menuListProps.items,\n          totalItemCount = menuListProps.totalItemCount,\n          hasCheckmarks = menuListProps.hasCheckmarks,\n          hasIcons = menuListProps.hasIcons,\n          role = menuListProps.role;\n      return React.createElement(\"ul\", {\n        className: _this._classNames.list,\n        onKeyDown: _this._onKeyDown,\n        onKeyUp: _this._onKeyUp,\n        role: role !== null && role !== void 0 ? role : 'menu'\n      }, items.map(function (item, index) {\n        var menuItem = _this._renderMenuItem(item, index, indexCorrection, totalItemCount, hasCheckmarks, hasIcons);\n\n        if (item.itemType !== ContextualMenuItemType.Divider && item.itemType !== ContextualMenuItemType.Header) {\n          var indexIncrease = item.customOnRenderListLength ? item.customOnRenderListLength : 1;\n          indexCorrection += indexIncrease;\n        }\n\n        return menuItem;\n      }));\n    };\n    /**\n     * !!!IMPORTANT!!! Avoid mutating `item: IContextualMenuItem` argument. It will\n     * cause the menu items to always re-render because the component update is based on shallow comparison.\n     */\n\n\n    _this._renderMenuItem = function (item, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons) {\n      var _a;\n\n      var renderedItems = [];\n      var iconProps = item.iconProps || {\n        iconName: 'None'\n      };\n      var getItemClassNames = item.getItemClassNames,\n          // eslint-disable-line deprecation/deprecation\n      itemProps = item.itemProps;\n      var styles = itemProps ? itemProps.styles : undefined; // We only send a dividerClassName when the item to be rendered is a divider.\n      // For all other cases, the default divider style is used.\n\n      var dividerClassName = item.itemType === ContextualMenuItemType.Divider ? item.className : undefined;\n      var subMenuIconClassName = item.submenuIconProps ? item.submenuIconProps.className : ''; // eslint-disable-next-line deprecation/deprecation\n\n      var itemClassNames; // IContextualMenuItem#getItemClassNames for backwards compatibility\n      // otherwise uses mergeStyles for class names.\n\n      if (getItemClassNames) {\n        itemClassNames = getItemClassNames(_this.props.theme, isItemDisabled(item), _this.state.expandedMenuItemKey === item.key, !!getIsChecked(item), !!item.href, iconProps.iconName !== 'None', item.className, dividerClassName, iconProps.className, subMenuIconClassName, item.primaryDisabled);\n      } else {\n        var itemStyleProps = {\n          theme: _this.props.theme,\n          disabled: isItemDisabled(item),\n          expanded: _this.state.expandedMenuItemKey === item.key,\n          checked: !!getIsChecked(item),\n          isAnchorLink: !!item.href,\n          knownIcon: iconProps.iconName !== 'None',\n          itemClassName: item.className,\n          dividerClassName: dividerClassName,\n          iconClassName: iconProps.className,\n          subMenuClassName: subMenuIconClassName,\n          primaryDisabled: item.primaryDisabled\n        }; // We need to generate default styles then override if styles are provided\n        // since the ContextualMenu currently handles item classNames.\n\n        itemClassNames = getContextualMenuItemClassNames(_getMenuItemStylesFunction((_a = _this._classNames.subComponentStyles) === null || _a === void 0 ? void 0 : _a.menuItem, styles), itemStyleProps);\n      } // eslint-disable-next-line deprecation/deprecation\n\n\n      if (item.text === '-' || item.name === '-') {\n        item.itemType = ContextualMenuItemType.Divider;\n      }\n\n      switch (item.itemType) {\n        case ContextualMenuItemType.Divider:\n          renderedItems.push(_this._renderSeparator(index, itemClassNames));\n          break;\n\n        case ContextualMenuItemType.Header:\n          renderedItems.push(_this._renderSeparator(index, itemClassNames));\n\n          var headerItem = _this._renderHeaderMenuItem(item, itemClassNames, index, hasCheckmarks, hasIcons);\n\n          renderedItems.push(_this._renderListItem(headerItem, item.key || index, itemClassNames, item.title));\n          break;\n\n        case ContextualMenuItemType.Section:\n          renderedItems.push(_this._renderSectionItem(item, itemClassNames, index, hasCheckmarks, hasIcons));\n          break;\n\n        default:\n          var menuItem = _this._renderNormalItem(item, itemClassNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons);\n\n          renderedItems.push(_this._renderListItem(menuItem, item.key || index, itemClassNames, item.title));\n          break;\n      } // Since multiple nodes *could* be rendered, wrap them all in a fragment with this item's key.\n      // This ensures the reconciler handles multi-item output per-node correctly and does not re-mount content.\n\n\n      return React.createElement(React.Fragment, {\n        key: item.key\n      }, renderedItems);\n    };\n\n    _this._defaultMenuItemRenderer = function (item) {\n      var index = item.index,\n          focusableElementIndex = item.focusableElementIndex,\n          totalItemCount = item.totalItemCount,\n          hasCheckmarks = item.hasCheckmarks,\n          hasIcons = item.hasIcons;\n      return _this._renderMenuItem(item, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons);\n    };\n\n    _this._onKeyDown = function (ev) {\n      // Take note if we are processing an alt (option) or meta (command) keydown.\n      // See comment in _shouldHandleKeyUp for reasoning.\n      _this._lastKeyDownWasAltOrMeta = _this._isAltOrMeta(ev); // On Mac, pressing escape dismisses all levels of native context menus\n\n      var dismissAllMenus = ev.which === KeyCodes.escape && (isMac() || isIOS());\n      return _this._keyHandler(ev, _this._shouldHandleKeyDown, dismissAllMenus);\n    };\n\n    _this._shouldHandleKeyDown = function (ev) {\n      return ev.which === KeyCodes.escape || _this._shouldCloseSubMenu(ev) || ev.which === KeyCodes.up && (ev.altKey || ev.metaKey);\n    };\n\n    _this._onMenuFocusCapture = function (ev) {\n      if (_this.props.delayUpdateFocusOnHover) {\n        _this._shouldUpdateFocusOnMouseEvent = true;\n      }\n    };\n\n    _this._onKeyUp = function (ev) {\n      return _this._keyHandler(ev, _this._shouldHandleKeyUp, true\n      /* dismissAllMenus */\n      );\n    };\n    /**\n     * We close the menu on key up only if ALL of the following are true:\n     * - Most recent key down was alt or meta (command)\n     * - The alt/meta key down was NOT followed by some other key (such as down/up arrow to\n     *   expand/collapse the menu)\n     * - We're not on a Mac (or iOS)\n     *\n     * This is because on Windows, pressing alt moves focus to the application menu bar or similar,\n     * closing any open context menus. There is not a similar behavior on Macs.\n     */\n\n\n    _this._shouldHandleKeyUp = function (ev) {\n      var keyPressIsAltOrMetaAlone = _this._lastKeyDownWasAltOrMeta && _this._isAltOrMeta(ev);\n\n      _this._lastKeyDownWasAltOrMeta = false;\n      return !!keyPressIsAltOrMetaAlone && !(isIOS() || isMac());\n    };\n    /**\n     * Calls `shouldHandleKey` to determine whether the keyboard event should be handled;\n     * if so, stops event propagation and dismisses menu(s).\n     * @param ev - The keyboard event.\n     * @param shouldHandleKey - Returns whether we should handle this keyboard event.\n     * @param dismissAllMenus - If true, dismiss all menus. Otherwise, dismiss only the current menu.\n     * Only does anything if `shouldHandleKey` returns true.\n     * @returns Whether the event was handled.\n     */\n\n\n    _this._keyHandler = function (ev, shouldHandleKey, dismissAllMenus) {\n      var handled = false;\n\n      if (shouldHandleKey(ev)) {\n        _this._focusingPreviousElement = true;\n\n        _this.dismiss(ev, dismissAllMenus);\n\n        ev.preventDefault();\n        ev.stopPropagation();\n        handled = true;\n      }\n\n      return handled;\n    };\n    /**\n     * Checks if the submenu should be closed\n     */\n\n\n    _this._shouldCloseSubMenu = function (ev) {\n      var submenuCloseKey = getRTL(_this.props.theme) ? KeyCodes.right : KeyCodes.left;\n\n      if (ev.which !== submenuCloseKey || !_this.props.isSubMenu) {\n        return false;\n      }\n\n      return _this._adjustedFocusZoneProps.direction === FocusZoneDirection.vertical || !!_this._adjustedFocusZoneProps.checkForNoWrap && !shouldWrapFocus(ev.target, 'data-no-horizontal-wrap');\n    };\n\n    _this._onMenuKeyDown = function (ev) {\n      // Mark as handled if onKeyDown returns true (for handling collapse cases)\n      // or if we are attempting to expand a submenu\n      var handled = _this._onKeyDown(ev);\n\n      if (handled || !_this._host) {\n        return;\n      } // If we have a modifier key being pressed, we do not want to move focus.\n      // Otherwise, handle up and down keys.\n\n\n      var hasModifier = !!(ev.altKey || ev.metaKey);\n      var isUp = ev.which === KeyCodes.up;\n      var isDown = ev.which === KeyCodes.down;\n\n      if (!hasModifier && (isUp || isDown)) {\n        var elementToFocus = isUp ? getLastFocusable(_this._host, _this._host.lastChild, true) : getFirstFocusable(_this._host, _this._host.firstChild, true);\n\n        if (elementToFocus) {\n          elementToFocus.focus();\n          ev.preventDefault();\n          ev.stopPropagation();\n        }\n      }\n    };\n    /**\n     * Scroll handler for the callout to make sure the mouse events\n     * for updating focus are not interacting during scroll\n     */\n\n\n    _this._onScroll = function () {\n      if (!_this._isScrollIdle && _this._scrollIdleTimeoutId !== undefined) {\n        _this._async.clearTimeout(_this._scrollIdleTimeoutId);\n\n        _this._scrollIdleTimeoutId = undefined;\n      } else {\n        _this._isScrollIdle = false;\n      }\n\n      _this._scrollIdleTimeoutId = _this._async.setTimeout(function () {\n        _this._isScrollIdle = true;\n      }, NavigationIdleDelay);\n    };\n\n    _this._onItemMouseEnterBase = function (item, ev, target) {\n      if (_this._shouldIgnoreMouseEvent()) {\n        return;\n      }\n\n      _this._updateFocusOnMouseEvent(item, ev, target);\n    };\n\n    _this._onItemMouseMoveBase = function (item, ev, target) {\n      var targetElement = ev.currentTarget; // Always do this check to make sure we record a mouseMove if needed (even if we are timed out)\n\n      if (_this._shouldUpdateFocusOnMouseEvent) {\n        _this._gotMouseMove = true;\n      } else {\n        return;\n      }\n\n      if (!_this._isScrollIdle || _this._enterTimerId !== undefined || targetElement === _this._targetWindow.document.activeElement) {\n        return;\n      }\n\n      _this._updateFocusOnMouseEvent(item, ev, target);\n    };\n\n    _this._onMouseItemLeave = function (item, ev) {\n      if (_this._shouldIgnoreMouseEvent()) {\n        return;\n      }\n\n      if (_this._enterTimerId !== undefined) {\n        _this._async.clearTimeout(_this._enterTimerId);\n\n        _this._enterTimerId = undefined;\n      }\n\n      if (_this.state.expandedMenuItemKey !== undefined) {\n        return;\n      }\n      /**\n       * IE11 focus() method forces parents to scroll to top of element.\n       * Edge and IE expose a setActive() function for focusable divs that\n       * sets the page focus but does not scroll the parent element.\n       */\n\n\n      if (_this._host.setActive) {\n        try {\n          _this._host.setActive();\n        } catch (e) {\n          /* no-op */\n        }\n      } else {\n        _this._host.focus();\n      }\n    };\n\n    _this._onItemMouseDown = function (item, ev) {\n      if (item.onMouseDown) {\n        item.onMouseDown(item, ev);\n      }\n    };\n\n    _this._onItemClick = function (item, ev) {\n      _this._onItemClickBase(item, ev, ev.currentTarget);\n    };\n\n    _this._onItemClickBase = function (item, ev, target) {\n      var items = getSubmenuItems(item); // Cancel a async menu item hover timeout action from being taken and instead\n      // just trigger the click event instead.\n\n      _this._cancelSubMenuTimer();\n\n      if (!hasSubmenu(item) && (!items || !items.length)) {\n        // This is an item without a menu. Click it.\n        _this._executeItemClick(item, ev);\n      } else {\n        if (item.key !== _this.state.expandedMenuItemKey) {\n          // This has a collapsed sub menu. Expand it.\n          _this.setState({\n            // When Edge + Narrator are used together (regardless of if the button is in a form or not), pressing\n            // \"Enter\" fires this method and not _onMenuKeyDown. Checking ev.nativeEvent.detail differentiates\n            // between a real click event and a keypress event (detail should be the number of mouse clicks).\n            // ...Plot twist! For a real click event in IE 11, detail is always 0 (Edge sets it properly to 1).\n            // So we also check the pointerType property, which both Edge and IE set to \"mouse\" for real clicks\n            // and \"\" for pressing \"Enter\" with Narrator on.\n            expandedByMouseClick: ev.nativeEvent.detail !== 0 || ev.nativeEvent.pointerType === 'mouse'\n          });\n\n          _this._onItemSubMenuExpand(item, target);\n        }\n      }\n\n      ev.stopPropagation();\n      ev.preventDefault();\n    };\n\n    _this._onAnchorClick = function (item, ev) {\n      _this._executeItemClick(item, ev);\n\n      ev.stopPropagation();\n    };\n\n    _this._executeItemClick = function (item, ev) {\n      if (item.disabled || item.isDisabled) {\n        return;\n      }\n\n      var dismiss = false;\n\n      if (item.onClick) {\n        dismiss = !!item.onClick(ev, item);\n      } else if (_this.props.onItemClick) {\n        dismiss = !!_this.props.onItemClick(ev, item);\n      }\n\n      if (dismiss || !ev.defaultPrevented) {\n        _this.dismiss(ev, true); // This should be removed whenever possible.\n        // This ensures that the hidden dismissal action maintains the same behavior.\n        // If the menu is being dismissed then the previously focused element should\n        // get focused since the dismiss was triggered by a user click on an item\n        // Rather than focus being lost.\n\n\n        _this._focusingPreviousElement = true;\n      }\n    };\n\n    _this._onItemKeyDown = function (item, ev) {\n      var openKey = getRTL(_this.props.theme) ? KeyCodes.left : KeyCodes.right;\n\n      if (!item.disabled && (ev.which === openKey || ev.which === KeyCodes.enter || ev.which === KeyCodes.down && (ev.altKey || ev.metaKey))) {\n        _this.setState({\n          expandedByMouseClick: false\n        });\n\n        _this._onItemSubMenuExpand(item, ev.currentTarget);\n\n        ev.preventDefault();\n      }\n    }; // Cancel a async menu item hover timeout action from being taken and instead\n    // do new upcoming behavior\n\n\n    _this._cancelSubMenuTimer = function () {\n      if (_this._enterTimerId !== undefined) {\n        _this._async.clearTimeout(_this._enterTimerId);\n\n        _this._enterTimerId = undefined;\n      }\n    };\n\n    _this._onItemSubMenuExpand = function (item, target) {\n      if (_this.state.expandedMenuItemKey !== item.key) {\n        if (_this.state.expandedMenuItemKey) {\n          _this._onSubMenuDismiss();\n        } // Focus the target to ensure when we close it, we're focusing on the correct element.\n\n\n        target.focus();\n\n        _this.setState({\n          expandedMenuItemKey: item.key,\n          submenuTarget: target\n        });\n      }\n    };\n    /**\n     * This function is called ASYNCHRONOUSLY, and so there is a chance it is called\n     * after the component is unmounted. The _mounted property is added to prevent\n     * from calling setState() after unmount. Do NOT copy this pattern in synchronous\n     * code.\n     */\n\n\n    _this._onSubMenuDismiss = function (ev, dismissAll) {\n      if (dismissAll) {\n        _this.dismiss(ev, dismissAll);\n      } else if (_this._mounted) {\n        _this.setState({\n          dismissedMenuItemKey: _this.state.expandedMenuItemKey,\n          expandedMenuItemKey: undefined,\n          submenuTarget: undefined\n        });\n      }\n    };\n\n    _this._getSubMenuId = function (item) {\n      var subMenuId = _this.state.subMenuId;\n\n      if (item.subMenuProps && item.subMenuProps.id) {\n        subMenuId = item.subMenuProps.id;\n      }\n\n      return subMenuId;\n    };\n\n    _this._onPointerAndTouchEvent = function (ev) {\n      _this._cancelSubMenuTimer();\n    };\n\n    _this._async = new Async(_this);\n    _this._events = new EventGroup(_this);\n    initializeComponentRef(_this);\n    warnDeprecations(COMPONENT_NAME, props, {\n      getMenuClassNames: 'styles'\n    });\n    _this.state = {\n      contextualMenuItems: undefined,\n      subMenuId: getId('ContextualMenu')\n    };\n    _this._id = props.id || getId('ContextualMenu');\n    _this._focusingPreviousElement = false;\n    _this._isScrollIdle = true;\n    _this._shouldUpdateFocusOnMouseEvent = !_this.props.delayUpdateFocusOnHover;\n    _this._gotMouseMove = false;\n    return _this;\n  }\n\n  ContextualMenuBase.prototype.shouldComponentUpdate = function (newProps, newState) {\n    if (!newProps.shouldUpdateWhenHidden && this.props.hidden && newProps.hidden) {\n      // Do not update when hidden.\n      return false;\n    }\n\n    return !shallowCompare(this.props, newProps) || !shallowCompare(this.state, newState);\n  };\n\n  ContextualMenuBase.prototype.UNSAFE_componentWillUpdate = function (newProps) {\n    if (newProps.target !== this.props.target) {\n      var newTarget = newProps.target;\n\n      this._setTargetWindowAndElement(newTarget);\n    }\n\n    if (this._isHidden(newProps) !== this._isHidden(this.props)) {\n      if (this._isHidden(newProps)) {\n        this._onMenuClosed();\n      } else {\n        this._onMenuOpened();\n\n        this._previousActiveElement = this._targetWindow ? this._targetWindow.document.activeElement : undefined;\n      }\n    }\n\n    if (newProps.delayUpdateFocusOnHover !== this.props.delayUpdateFocusOnHover) {\n      // update shouldUpdateFocusOnMouseEvent to follow what was passed in\n      this._shouldUpdateFocusOnMouseEvent = !newProps.delayUpdateFocusOnHover; // If shouldUpdateFocusOnMouseEvent is false, we need to reset gotMouseMove to false\n\n      this._gotMouseMove = this._shouldUpdateFocusOnMouseEvent && this._gotMouseMove;\n    }\n  }; // Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\n\n  ContextualMenuBase.prototype.UNSAFE_componentWillMount = function () {\n    var target = this.props.target;\n\n    this._setTargetWindowAndElement(target);\n\n    if (!this.props.hidden) {\n      this._previousActiveElement = this._targetWindow ? this._targetWindow.document.activeElement : undefined;\n    }\n  }; // Invoked once, only on the client (not on the server), immediately after the initial rendering occurs.\n\n\n  ContextualMenuBase.prototype.componentDidMount = function () {\n    if (!this.props.hidden) {\n      this._onMenuOpened();\n    }\n\n    this._mounted = true;\n  }; // Invoked immediately before a component is unmounted from the DOM.\n\n\n  ContextualMenuBase.prototype.componentWillUnmount = function () {\n    if (this.props.onMenuDismissed) {\n      this.props.onMenuDismissed(this.props);\n    }\n\n    this._events.dispose();\n\n    this._async.dispose();\n\n    this._mounted = false;\n  };\n\n  ContextualMenuBase.prototype.render = function () {\n    var _this = this;\n\n    var isBeakVisible = this.props.isBeakVisible;\n    var _a = this.props,\n        items = _a.items,\n        labelElementId = _a.labelElementId,\n        id = _a.id,\n        className = _a.className,\n        beakWidth = _a.beakWidth,\n        directionalHint = _a.directionalHint,\n        directionalHintForRTL = _a.directionalHintForRTL,\n        alignTargetEdge = _a.alignTargetEdge,\n        gapSpace = _a.gapSpace,\n        coverTarget = _a.coverTarget,\n        ariaLabel = _a.ariaLabel,\n        doNotLayer = _a.doNotLayer,\n        target = _a.target,\n        bounds = _a.bounds,\n        useTargetWidth = _a.useTargetWidth,\n        useTargetAsMinWidth = _a.useTargetAsMinWidth,\n        directionalHintFixed = _a.directionalHintFixed,\n        shouldFocusOnMount = _a.shouldFocusOnMount,\n        shouldFocusOnContainer = _a.shouldFocusOnContainer,\n        title = _a.title,\n        styles = _a.styles,\n        theme = _a.theme,\n        calloutProps = _a.calloutProps,\n        _b = _a.onRenderSubMenu,\n        onRenderSubMenu = _b === void 0 ? this._onRenderSubMenu : _b,\n        _c = _a.onRenderMenuList,\n        onRenderMenuList = _c === void 0 ? this._onRenderMenuList : _c,\n        focusZoneProps = _a.focusZoneProps,\n        // eslint-disable-next-line deprecation/deprecation\n    getMenuClassNames = _a.getMenuClassNames;\n    this._classNames = getMenuClassNames ? getMenuClassNames(theme, className) : getClassNames(styles, {\n      theme: theme,\n      className: className\n    });\n    var hasIcons = itemsHaveIcons(items);\n\n    function itemsHaveIcons(contextualMenuItems) {\n      for (var _i = 0, contextualMenuItems_1 = contextualMenuItems; _i < contextualMenuItems_1.length; _i++) {\n        var item = contextualMenuItems_1[_i];\n\n        if (item.iconProps) {\n          return true;\n        }\n\n        if (item.itemType === ContextualMenuItemType.Section && item.sectionProps && itemsHaveIcons(item.sectionProps.items)) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    this._adjustedFocusZoneProps = __assign(__assign({}, focusZoneProps), {\n      direction: this._getFocusZoneDirection()\n    });\n    var hasCheckmarks = canAnyMenuItemsCheck(items);\n    var submenuProps = this.state.expandedMenuItemKey && this.props.hidden !== true ? this._getSubmenuProps() : null;\n    isBeakVisible = isBeakVisible === undefined ? this.props.responsiveMode <= ResponsiveMode.medium : isBeakVisible;\n    /**\n     * When useTargetWidth is true, get the width of the target element and apply it for the context menu container\n     */\n\n    var contextMenuStyle;\n    var targetAsHtmlElement = this._target;\n\n    if ((useTargetWidth || useTargetAsMinWidth) && targetAsHtmlElement && targetAsHtmlElement.offsetWidth) {\n      var targetBoundingRect = targetAsHtmlElement.getBoundingClientRect();\n      var targetWidth = targetBoundingRect.width - 2;\n      /* Accounts for 1px border */\n\n      if (useTargetWidth) {\n        contextMenuStyle = {\n          width: targetWidth\n        };\n      } else if (useTargetAsMinWidth) {\n        contextMenuStyle = {\n          minWidth: targetWidth\n        };\n      }\n    } // The menu should only return if items were provided, if no items were provided then it should not appear.\n\n\n    if (items && items.length > 0) {\n      var totalItemCount = 0;\n\n      for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n        var item = items_1[_i];\n\n        if (item.itemType !== ContextualMenuItemType.Divider && item.itemType !== ContextualMenuItemType.Header) {\n          var itemCount = item.customOnRenderListLength ? item.customOnRenderListLength : 1;\n          totalItemCount += itemCount;\n        }\n      }\n\n      var calloutStyles = this._classNames.subComponentStyles ? this._classNames.subComponentStyles.callout : undefined;\n      return React.createElement(Callout, __assign({\n        styles: calloutStyles,\n        onRestoreFocus: this._tryFocusPreviousActiveElement\n      }, calloutProps, {\n        target: target,\n        isBeakVisible: isBeakVisible,\n        beakWidth: beakWidth,\n        directionalHint: directionalHint,\n        directionalHintForRTL: directionalHintForRTL,\n        gapSpace: gapSpace,\n        coverTarget: coverTarget,\n        doNotLayer: doNotLayer,\n        className: css('ms-ContextualMenu-Callout', calloutProps && calloutProps.className),\n        setInitialFocus: shouldFocusOnMount,\n        onDismiss: this.props.onDismiss,\n        onScroll: this._onScroll,\n        bounds: bounds,\n        directionalHintFixed: directionalHintFixed,\n        alignTargetEdge: alignTargetEdge,\n        hidden: this.props.hidden\n      }), React.createElement(\"div\", {\n        \"aria-label\": ariaLabel,\n        \"aria-labelledby\": labelElementId,\n        style: contextMenuStyle,\n        ref: function ref(host) {\n          return _this._host = host;\n        },\n        id: id,\n        className: this._classNames.container,\n        tabIndex: shouldFocusOnContainer ? 0 : -1,\n        onKeyDown: this._onMenuKeyDown,\n        onKeyUp: this._onKeyUp,\n        onFocusCapture: this._onMenuFocusCapture\n      }, title && React.createElement(\"div\", {\n        className: this._classNames.title\n      }, \" \", title, \" \"), items && items.length ? React.createElement(FocusZone, __assign({\n        className: this._classNames.root,\n        isCircularNavigation: true,\n        handleTabKey: FocusZoneTabbableElements.all\n      }, this._adjustedFocusZoneProps), onRenderMenuList({\n        items: items,\n        totalItemCount: totalItemCount,\n        hasCheckmarks: hasCheckmarks,\n        hasIcons: hasIcons,\n        defaultMenuItemRenderer: this._defaultMenuItemRenderer\n      }, this._onRenderMenuList)) : null, submenuProps && onRenderSubMenu(submenuProps, this._onRenderSubMenu)));\n    } else {\n      return null;\n    }\n  };\n  /**\n   * Return whether the contextual menu is hidden.\n   * Undefined value for hidden is equivalent to hidden being false.\n   * @param props - Props for the component\n   */\n\n\n  ContextualMenuBase.prototype._isHidden = function (props) {\n    return !!props.hidden;\n  };\n\n  ContextualMenuBase.prototype._onMenuOpened = function () {\n    this._events.on(this._targetWindow, 'resize', this.dismiss);\n\n    this._shouldUpdateFocusOnMouseEvent = !this.props.delayUpdateFocusOnHover;\n    this._gotMouseMove = false;\n    this.props.onMenuOpened && this.props.onMenuOpened(this.props);\n  };\n\n  ContextualMenuBase.prototype._onMenuClosed = function () {\n    this._events.off(this._targetWindow, 'resize', this.dismiss); // This is kept for backwards compatability with hidden for right now.\n    // This preserves the way that this behaved in the past\n    // TODO find a better way to handle this by using the same conventions that\n    // Popup uses to determine if focus is contained when dismissal occurs\n\n\n    this._tryFocusPreviousActiveElement({\n      containsFocus: this._focusingPreviousElement,\n      documentContainsFocus: this._targetWindow.document.hasFocus(),\n      originalElement: this._previousActiveElement\n    });\n\n    this._focusingPreviousElement = false;\n\n    if (this.props.onMenuDismissed) {\n      this.props.onMenuDismissed(this.props);\n    }\n\n    this._shouldUpdateFocusOnMouseEvent = !this.props.delayUpdateFocusOnHover; // We need to dismiss any submenu related state properties,\n    // so that when the menu is shown again, the submenu is collapsed\n\n    this.setState({\n      expandedByMouseClick: undefined,\n      dismissedMenuItemKey: undefined,\n      expandedMenuItemKey: undefined,\n      submenuTarget: undefined\n    });\n  };\n  /**\n   * Gets the focusZoneDirection by using the arrowDirection if specified,\n   * the direction specificed in the focusZoneProps, or defaults to FocusZoneDirection.vertical\n   */\n\n\n  ContextualMenuBase.prototype._getFocusZoneDirection = function () {\n    var focusZoneProps = this.props.focusZoneProps;\n    return focusZoneProps && focusZoneProps.direction !== undefined ? focusZoneProps.direction : FocusZoneDirection.vertical;\n  };\n\n  ContextualMenuBase.prototype._onRenderSubMenu = function (subMenuProps, defaultRender) {\n    throw Error('ContextualMenuBase: onRenderSubMenu callback is null or undefined. ' + 'Please ensure to set `onRenderSubMenu` property either manually or with `styled` helper.');\n  };\n\n  ContextualMenuBase.prototype._renderSectionItem = function (sectionItem, // eslint-disable-next-line deprecation/deprecation\n  menuClassNames, index, hasCheckmarks, hasIcons) {\n    var _this = this;\n\n    var _a;\n\n    var sectionProps = sectionItem.sectionProps;\n\n    if (!sectionProps) {\n      return;\n    }\n\n    var headerItem;\n    var groupProps;\n\n    if (sectionProps.title) {\n      var headerContextualMenuItem = undefined;\n      var ariaLabellledby = '';\n\n      if (typeof sectionProps.title === 'string') {\n        // Since title is a user-facing string, it needs to be stripped\n        // of whitespace in order to build a valid element ID\n        var id = this._id + sectionProps.title.replace(/\\s/g, '');\n        headerContextualMenuItem = {\n          key: \"section-\" + sectionProps.title + \"-title\",\n          itemType: ContextualMenuItemType.Header,\n          text: sectionProps.title,\n          id: id\n        };\n        ariaLabellledby = id;\n      } else {\n        headerContextualMenuItem = sectionProps.title;\n        ariaLabellledby = this._id + ((_a = sectionProps.title.text) === null || _a === void 0 ? void 0 : _a.replace(/\\s/g, ''));\n      }\n\n      if (headerContextualMenuItem) {\n        groupProps = {\n          role: 'group',\n          'aria-labelledby': ariaLabellledby\n        };\n        headerItem = this._renderHeaderMenuItem(headerContextualMenuItem, menuClassNames, index, hasCheckmarks, hasIcons);\n      }\n    }\n\n    if (sectionProps.items && sectionProps.items.length > 0) {\n      return React.createElement(\"li\", {\n        role: \"presentation\",\n        key: sectionProps.key || sectionItem.key || \"section-\" + index\n      }, React.createElement(\"div\", __assign({}, groupProps), React.createElement(\"ul\", {\n        className: this._classNames.list,\n        role: \"menu\"\n      }, sectionProps.topDivider && this._renderSeparator(index, menuClassNames, true, true), headerItem && this._renderListItem(headerItem, sectionItem.key || index, menuClassNames, sectionItem.title), sectionProps.items.map(function (contextualMenuItem, itemsIndex) {\n        return _this._renderMenuItem(contextualMenuItem, itemsIndex, itemsIndex, sectionProps.items.length, hasCheckmarks, hasIcons);\n      }), sectionProps.bottomDivider && this._renderSeparator(index, menuClassNames, false, true))));\n    }\n  };\n\n  ContextualMenuBase.prototype._renderListItem = function (content, key, classNames, // eslint-disable-line deprecation/deprecation\n  title) {\n    return React.createElement(\"li\", {\n      role: \"presentation\",\n      title: title,\n      key: key,\n      className: classNames.item\n    }, content);\n  };\n\n  ContextualMenuBase.prototype._renderSeparator = function (index, classNames, // eslint-disable-line deprecation/deprecation\n  top, fromSection) {\n    if (fromSection || index > 0) {\n      return React.createElement(\"li\", {\n        role: \"separator\",\n        key: 'separator-' + index + (top === undefined ? '' : top ? '-top' : '-bottom'),\n        className: classNames.divider,\n        \"aria-hidden\": \"true\"\n      });\n    }\n\n    return null;\n  };\n\n  ContextualMenuBase.prototype._renderNormalItem = function (item, classNames, // eslint-disable-line deprecation/deprecation\n  index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons) {\n    if (item.onRender) {\n      return item.onRender(__assign({\n        'aria-posinset': focusableElementIndex + 1,\n        'aria-setsize': totalItemCount\n      }, item), this.dismiss);\n    }\n\n    if (item.href) {\n      return this._renderAnchorMenuItem(item, classNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons);\n    }\n\n    if (item.split && hasSubmenu(item)) {\n      return this._renderSplitButton(item, classNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons);\n    }\n\n    return this._renderButtonItem(item, classNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons);\n  };\n\n  ContextualMenuBase.prototype._renderHeaderMenuItem = function (item, // eslint-disable-next-line deprecation/deprecation\n  classNames, index, hasCheckmarks, hasIcons) {\n    var _a = this.props.contextualMenuItemAs,\n        ChildrenRenderer = _a === void 0 ? ContextualMenuItem : _a;\n    var itemProps = item.itemProps,\n        id = item.id;\n    var divHtmlProperties = itemProps && getNativeProps(itemProps, divProperties);\n    return (// eslint-disable-next-line deprecation/deprecation\n      React.createElement(\"div\", __assign({\n        id: id,\n        className: this._classNames.header\n      }, divHtmlProperties, {\n        style: item.style\n      }), React.createElement(ChildrenRenderer, __assign({\n        item: item,\n        classNames: classNames,\n        index: index,\n        onCheckmarkClick: hasCheckmarks ? this._onItemClick : undefined,\n        hasIcons: hasIcons\n      }, itemProps)))\n    );\n  };\n\n  ContextualMenuBase.prototype._renderAnchorMenuItem = function (item, // eslint-disable-next-line deprecation/deprecation\n  classNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons) {\n    var contextualMenuItemAs = this.props.contextualMenuItemAs;\n    var expandedMenuItemKey = this.state.expandedMenuItemKey;\n    return React.createElement(ContextualMenuAnchor, {\n      item: item,\n      classNames: classNames,\n      index: index,\n      focusableElementIndex: focusableElementIndex,\n      totalItemCount: totalItemCount,\n      hasCheckmarks: hasCheckmarks,\n      hasIcons: hasIcons,\n      contextualMenuItemAs: contextualMenuItemAs,\n      onItemMouseEnter: this._onItemMouseEnterBase,\n      onItemMouseLeave: this._onMouseItemLeave,\n      onItemMouseMove: this._onItemMouseMoveBase,\n      onItemMouseDown: this._onItemMouseDown,\n      executeItemClick: this._executeItemClick,\n      onItemClick: this._onAnchorClick,\n      onItemKeyDown: this._onItemKeyDown,\n      getSubMenuId: this._getSubMenuId,\n      expandedMenuItemKey: expandedMenuItemKey,\n      openSubMenu: this._onItemSubMenuExpand,\n      dismissSubMenu: this._onSubMenuDismiss,\n      dismissMenu: this.dismiss\n    });\n  };\n\n  ContextualMenuBase.prototype._renderButtonItem = function (item, // eslint-disable-next-line deprecation/deprecation\n  classNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons) {\n    var contextualMenuItemAs = this.props.contextualMenuItemAs;\n    var expandedMenuItemKey = this.state.expandedMenuItemKey;\n    return React.createElement(ContextualMenuButton, {\n      item: item,\n      classNames: classNames,\n      index: index,\n      focusableElementIndex: focusableElementIndex,\n      totalItemCount: totalItemCount,\n      hasCheckmarks: hasCheckmarks,\n      hasIcons: hasIcons,\n      contextualMenuItemAs: contextualMenuItemAs,\n      onItemMouseEnter: this._onItemMouseEnterBase,\n      onItemMouseLeave: this._onMouseItemLeave,\n      onItemMouseMove: this._onItemMouseMoveBase,\n      onItemMouseDown: this._onItemMouseDown,\n      executeItemClick: this._executeItemClick,\n      onItemClick: this._onItemClick,\n      onItemClickBase: this._onItemClickBase,\n      onItemKeyDown: this._onItemKeyDown,\n      getSubMenuId: this._getSubMenuId,\n      expandedMenuItemKey: expandedMenuItemKey,\n      openSubMenu: this._onItemSubMenuExpand,\n      dismissSubMenu: this._onSubMenuDismiss,\n      dismissMenu: this.dismiss\n    });\n  };\n\n  ContextualMenuBase.prototype._renderSplitButton = function (item, // eslint-disable-next-line deprecation/deprecation\n  classNames, index, focusableElementIndex, totalItemCount, hasCheckmarks, hasIcons) {\n    var contextualMenuItemAs = this.props.contextualMenuItemAs;\n    var expandedMenuItemKey = this.state.expandedMenuItemKey;\n    return React.createElement(ContextualMenuSplitButton, {\n      item: item,\n      classNames: classNames,\n      index: index,\n      focusableElementIndex: focusableElementIndex,\n      totalItemCount: totalItemCount,\n      hasCheckmarks: hasCheckmarks,\n      hasIcons: hasIcons,\n      contextualMenuItemAs: contextualMenuItemAs,\n      onItemMouseEnter: this._onItemMouseEnterBase,\n      onItemMouseLeave: this._onMouseItemLeave,\n      onItemMouseMove: this._onItemMouseMoveBase,\n      onItemMouseDown: this._onItemMouseDown,\n      executeItemClick: this._executeItemClick,\n      onItemClick: this._onItemClick,\n      onItemClickBase: this._onItemClickBase,\n      onItemKeyDown: this._onItemKeyDown,\n      openSubMenu: this._onItemSubMenuExpand,\n      dismissSubMenu: this._onSubMenuDismiss,\n      dismissMenu: this.dismiss,\n      expandedMenuItemKey: expandedMenuItemKey,\n      onTap: this._onPointerAndTouchEvent\n    });\n  };\n  /**\n   * Returns true if the key for the event is alt (Mac option) or meta (Mac command).\n   */\n\n\n  ContextualMenuBase.prototype._isAltOrMeta = function (ev) {\n    return ev.which === KeyCodes.alt || ev.key === 'Meta';\n  };\n\n  ContextualMenuBase.prototype._shouldIgnoreMouseEvent = function () {\n    return !this._isScrollIdle || !this._gotMouseMove;\n  };\n  /**\n   * Handles updating focus when mouseEnter or mouseMove fire.\n   * As part of updating focus, This function will also update\n   * the expand/collapse state accordingly.\n   */\n\n\n  ContextualMenuBase.prototype._updateFocusOnMouseEvent = function (item, ev, target) {\n    var _this = this;\n\n    var targetElement = target ? target : ev.currentTarget;\n    var _a = this.props.subMenuHoverDelay,\n        timeoutDuration = _a === void 0 ? NavigationIdleDelay : _a;\n\n    if (item.key === this.state.expandedMenuItemKey) {\n      return;\n    }\n\n    if (this._enterTimerId !== undefined) {\n      this._async.clearTimeout(this._enterTimerId);\n\n      this._enterTimerId = undefined;\n    } // If the menu is not expanded we can update focus without any delay\n\n\n    if (this.state.expandedMenuItemKey === undefined) {\n      targetElement.focus();\n    } // Delay updating expanding/dismissing the submenu\n    // and only set focus if we have not already done so\n\n\n    if (hasSubmenu(item)) {\n      ev.stopPropagation();\n      this._enterTimerId = this._async.setTimeout(function () {\n        targetElement.focus();\n\n        _this.setState({\n          expandedByMouseClick: true\n        });\n\n        _this._onItemSubMenuExpand(item, targetElement);\n\n        _this._enterTimerId = undefined;\n      }, timeoutDuration);\n    } else {\n      this._enterTimerId = this._async.setTimeout(function () {\n        _this._onSubMenuDismiss(ev);\n\n        targetElement.focus();\n        _this._enterTimerId = undefined;\n      }, timeoutDuration);\n    }\n  };\n\n  ContextualMenuBase.prototype._getSubmenuProps = function () {\n    var _a = this.state,\n        submenuTarget = _a.submenuTarget,\n        expandedMenuItemKey = _a.expandedMenuItemKey;\n\n    var item = this._findItemByKey(expandedMenuItemKey);\n\n    var submenuProps = null;\n\n    if (item) {\n      submenuProps = {\n        items: getSubmenuItems(item),\n        target: submenuTarget,\n        onDismiss: this._onSubMenuDismiss,\n        isSubMenu: true,\n        id: this.state.subMenuId,\n        shouldFocusOnMount: true,\n        shouldFocusOnContainer: this.state.expandedByMouseClick,\n        directionalHint: getRTL(this.props.theme) ? DirectionalHint.leftTopEdge : DirectionalHint.rightTopEdge,\n        className: this.props.className,\n        gapSpace: 0,\n        isBeakVisible: false\n      };\n\n      if (item.subMenuProps) {\n        assign(submenuProps, item.subMenuProps);\n      }\n    }\n\n    return submenuProps;\n  };\n\n  ContextualMenuBase.prototype._findItemByKey = function (key) {\n    var items = this.props.items;\n    return this._findItemByKeyFromItems(key, items);\n  };\n  /**\n   * Returns the item that mathes a given key if any.\n   * @param key - The key of the item to match\n   * @param items - The items to look for the key\n   */\n\n\n  ContextualMenuBase.prototype._findItemByKeyFromItems = function (key, items) {\n    for (var _i = 0, items_2 = items; _i < items_2.length; _i++) {\n      var item = items_2[_i];\n\n      if (item.itemType === ContextualMenuItemType.Section && item.sectionProps) {\n        var match = this._findItemByKeyFromItems(key, item.sectionProps.items);\n\n        if (match) {\n          return match;\n        }\n      } else if (item.key && item.key === key) {\n        return item;\n      }\n    }\n  };\n\n  ContextualMenuBase.prototype._setTargetWindowAndElement = function (target) {\n    var currentElement = this._host;\n\n    if (target) {\n      if (typeof target === 'string') {\n        var currentDoc = getDocument(currentElement);\n        this._target = currentDoc ? currentDoc.querySelector(target) : null;\n        this._targetWindow = getWindow(currentElement); // Cast to any prevents error about stopPropagation always existing\n      } else if (target.stopPropagation) {\n        this._targetWindow = getWindow(target.target);\n        this._target = target;\n      } else if ( // eslint-disable-next-line deprecation/deprecation\n      (target.left !== undefined || target.x !== undefined) && ( // eslint-disable-next-line deprecation/deprecation\n      target.top !== undefined || target.y !== undefined)) {\n        this._targetWindow = getWindow(currentElement);\n        this._target = target;\n      } else if (target.current !== undefined) {\n        this._target = target.current;\n        this._targetWindow = getWindow(this._target);\n      } else {\n        var targetElement = target;\n        this._targetWindow = getWindow(targetElement);\n        this._target = target;\n      }\n    } else {\n      this._targetWindow = getWindow(currentElement);\n    }\n  }; // The default ContextualMenu properties have no items and beak, the default submenu direction is right and top.\n\n\n  ContextualMenuBase.defaultProps = {\n    items: [],\n    shouldFocusOnMount: true,\n    gapSpace: 0,\n    directionalHint: DirectionalHint.bottomAutoEdge,\n    beakWidth: 16\n  };\n  ContextualMenuBase = __decorate([withResponsiveMode], ContextualMenuBase);\n  return ContextualMenuBase;\n}(React.Component);\n\nexport { ContextualMenuBase };","import { getGlobalClassNames, FontWeights } from '../../Styling';\nimport { CONTEXTUAL_MENU_ITEM_HEIGHT } from './ContextualMenu.cnstyles';\nvar GlobalClassNames = {\n  root: 'ms-ContextualMenu',\n  container: 'ms-ContextualMenu-container',\n  list: 'ms-ContextualMenu-list',\n  header: 'ms-ContextualMenu-header',\n  title: 'ms-ContextualMenu-title',\n  isopen: 'is-open'\n};\nexport var getStyles = function getStyles(props) {\n  var className = props.className,\n      theme = props.theme;\n  var classNames = getGlobalClassNames(GlobalClassNames, theme);\n  var fonts = theme.fonts,\n      semanticColors = theme.semanticColors,\n      effects = theme.effects;\n  return {\n    root: [theme.fonts.medium, classNames.root, classNames.isopen, {\n      backgroundColor: semanticColors.menuBackground,\n      minWidth: '180px'\n    }, className],\n    container: [classNames.container, {\n      selectors: {\n        ':focus': {\n          outline: 0\n        }\n      }\n    }],\n    list: [classNames.list, classNames.isopen, {\n      listStyleType: 'none',\n      margin: '0',\n      padding: '0'\n    }],\n    header: [classNames.header, fonts.small, {\n      fontWeight: FontWeights.semibold,\n      color: semanticColors.menuHeader,\n      background: 'none',\n      backgroundColor: 'transparent',\n      border: 'none',\n      height: CONTEXTUAL_MENU_ITEM_HEIGHT,\n      lineHeight: CONTEXTUAL_MENU_ITEM_HEIGHT,\n      cursor: 'default',\n      padding: '0px 6px',\n      userSelect: 'none',\n      textAlign: 'left'\n    }],\n    title: [classNames.title, {\n      fontSize: fonts.mediumPlus.fontSize,\n      paddingRight: '14px',\n      paddingLeft: '14px',\n      paddingBottom: '5px',\n      paddingTop: '5px',\n      backgroundColor: semanticColors.menuItemBackgroundPressed\n    }],\n    subComponentStyles: {\n      callout: {\n        root: {\n          boxShadow: effects.elevation8\n        }\n      },\n      menuItem: {}\n    }\n  };\n};","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { ContextualMenuBase } from './ContextualMenu.base';\nimport { getStyles } from './ContextualMenu.styles';\n\nfunction onRenderSubMenu(subMenuProps) {\n  return React.createElement(LocalContextualMenu, __assign({}, subMenuProps));\n} // This is to prevent cyclic import with ContextualMenu.base.tsx.\n\n\nvar LocalContextualMenu = styled(ContextualMenuBase, getStyles, function () {\n  return {\n    onRenderSubMenu: onRenderSubMenu\n  };\n}, {\n  scope: 'ContextualMenu'\n});\n/**\n * ContextualMenu description\n */\n\nexport var ContextualMenu = LocalContextualMenu;","import { memoizeFunction } from '../../Utilities';\nimport { mergeStyleSets } from '../../Styling';\nimport { getGlobalClassNames } from '../../Styling';\nexport var ButtonGlobalClassNames = {\n  msButton: 'ms-Button',\n  msButtonHasMenu: 'ms-Button--hasMenu',\n  msButtonIcon: 'ms-Button-icon',\n  msButtonMenuIcon: 'ms-Button-menuIcon',\n  msButtonLabel: 'ms-Button-label',\n  msButtonDescription: 'ms-Button-description',\n  msButtonScreenReaderText: 'ms-Button-screenReaderText',\n  msButtonFlexContainer: 'ms-Button-flexContainer',\n  msButtonTextContainer: 'ms-Button-textContainer'\n};\nexport var getBaseButtonClassNames = memoizeFunction(function (theme, styles, className, variantClassName, iconClassName, menuIconClassName, disabled, hasMenu, checked, expanded, isSplit) {\n  var _a, _b;\n\n  var classNames = getGlobalClassNames(ButtonGlobalClassNames, theme || {});\n  var isExpanded = expanded && !isSplit;\n  return mergeStyleSets({\n    root: [classNames.msButton, styles.root, variantClassName, checked && ['is-checked', styles.rootChecked], isExpanded && ['is-expanded', styles.rootExpanded, {\n      selectors: (_a = {}, _a[\":hover .\" + classNames.msButtonIcon] = styles.iconExpandedHovered, // menuIcon falls back to rootExpandedHovered to support original behavior\n      _a[\":hover .\" + classNames.msButtonMenuIcon] = styles.menuIconExpandedHovered || styles.rootExpandedHovered, _a[':hover'] = styles.rootExpandedHovered, _a)\n    }], hasMenu && [ButtonGlobalClassNames.msButtonHasMenu, styles.rootHasMenu], disabled && ['is-disabled', styles.rootDisabled], !disabled && !isExpanded && !checked && {\n      selectors: (_b = {\n        ':hover': styles.rootHovered\n      }, _b[\":hover .\" + classNames.msButtonLabel] = styles.labelHovered, _b[\":hover .\" + classNames.msButtonIcon] = styles.iconHovered, _b[\":hover .\" + classNames.msButtonDescription] = styles.descriptionHovered, _b[\":hover .\" + classNames.msButtonMenuIcon] = styles.menuIconHovered, _b[':focus'] = styles.rootFocused, _b[':active'] = styles.rootPressed, _b[\":active .\" + classNames.msButtonIcon] = styles.iconPressed, _b[\":active .\" + classNames.msButtonDescription] = styles.descriptionPressed, _b[\":active .\" + classNames.msButtonMenuIcon] = styles.menuIconPressed, _b)\n    }, disabled && checked && [styles.rootCheckedDisabled], !disabled && checked && {\n      selectors: {\n        ':hover': styles.rootCheckedHovered,\n        ':active': styles.rootCheckedPressed\n      }\n    }, className],\n    flexContainer: [classNames.msButtonFlexContainer, styles.flexContainer],\n    textContainer: [classNames.msButtonTextContainer, styles.textContainer],\n    icon: [classNames.msButtonIcon, iconClassName, styles.icon, isExpanded && styles.iconExpanded, checked && styles.iconChecked, disabled && styles.iconDisabled],\n    label: [classNames.msButtonLabel, styles.label, checked && styles.labelChecked, disabled && styles.labelDisabled],\n    menuIcon: [classNames.msButtonMenuIcon, menuIconClassName, styles.menuIcon, checked && styles.menuIconChecked, disabled && !isSplit && styles.menuIconDisabled, !disabled && !isExpanded && !checked && {\n      selectors: {\n        ':hover': styles.menuIconHovered,\n        ':active': styles.menuIconPressed\n      }\n    }, isExpanded && ['is-expanded', styles.menuIconExpanded]],\n    description: [classNames.msButtonDescription, styles.description, checked && styles.descriptionChecked, disabled && styles.descriptionDisabled],\n    screenReaderText: [classNames.msButtonScreenReaderText, styles.screenReaderText]\n  });\n});","import { memoizeFunction } from '../../../Utilities';\nimport { mergeStyles } from '../../../Styling';\nexport var getSplitButtonClassNames = memoizeFunction(function (styles, disabled, expanded, checked, primaryDisabled) {\n  return {\n    root: mergeStyles(styles.splitButtonMenuButton, expanded && [styles.splitButtonMenuButtonExpanded], disabled && [styles.splitButtonMenuButtonDisabled], checked && !disabled && [styles.splitButtonMenuButtonChecked]),\n    splitButtonContainer: mergeStyles(styles.splitButtonContainer, !disabled && checked && [styles.splitButtonContainerChecked, {\n      selectors: {\n        ':hover': styles.splitButtonContainerCheckedHovered\n      }\n    }], !disabled && !checked && [{\n      selectors: {\n        ':hover': styles.splitButtonContainerHovered,\n        ':focus': styles.splitButtonContainerFocused\n      }\n    }], disabled && styles.splitButtonContainerDisabled),\n    icon: mergeStyles(styles.splitButtonMenuIcon, disabled && styles.splitButtonMenuIconDisabled, !disabled && primaryDisabled && styles.splitButtonMenuIcon),\n    flexContainer: mergeStyles(styles.splitButtonFlexContainer),\n    divider: mergeStyles(styles.splitButtonDivider, (primaryDisabled || disabled) && styles.splitButtonDividerDisabled)\n  };\n});","import { __assign, __extends, __rest } from \"tslib\";\nimport * as React from 'react';\nimport { anchorProperties, assign, buttonProperties, getId, getNativeProps, KeyCodes, css, mergeAriaAttributeValues, portalContainsElement, memoizeFunction, nullRender, warnConditionallyRequiredProps, warnDeprecations, EventGroup, initializeComponentRef, Async, FocusRects } from '../../Utilities';\nimport { createMergedRef } from '@uifabric/utilities';\nimport { Icon, FontIcon, ImageIcon } from '../../Icon';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport { ContextualMenu } from '../../ContextualMenu';\nimport { getBaseButtonClassNames } from './BaseButton.classNames';\nimport { getSplitButtonClassNames as getBaseSplitButtonClassNames } from './SplitButton/SplitButton.classNames';\nimport { KeytipData } from '../../KeytipData';\nvar TouchIdleDelay = 500;\n/* ms */\n\nvar COMPONENT_NAME = 'BaseButton';\n/**\n * {@docCategory Button}\n */\n\nvar BaseButton =\n/** @class */\nfunction (_super) {\n  __extends(BaseButton, _super);\n\n  function BaseButton(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._buttonElement = React.createRef();\n    _this._splitButtonContainer = React.createRef();\n    _this._mergedRef = createMergedRef();\n    _this._renderedVisibleMenu = false;\n    _this._getMemoizedMenuButtonKeytipProps = memoizeFunction(function (keytipProps) {\n      return __assign(__assign({}, keytipProps), {\n        hasMenu: true\n      });\n    });\n\n    _this._onRenderIcon = function (buttonProps, defaultRender) {\n      var iconProps = _this.props.iconProps;\n\n      if (iconProps && (iconProps.iconName !== undefined || iconProps.imageProps)) {\n        var className = iconProps.className,\n            imageProps = iconProps.imageProps,\n            rest = __rest(iconProps, [\"className\", \"imageProps\"]); // If the styles prop is specified as part of iconProps, fall back to regular Icon as FontIcon and ImageIcon\n        // do not have this prop.\n\n\n        if (iconProps.styles) {\n          return React.createElement(Icon, __assign({\n            className: css(_this._classNames.icon, className),\n            imageProps: imageProps\n          }, rest));\n        }\n\n        if (iconProps.iconName) {\n          return React.createElement(FontIcon, __assign({\n            className: css(_this._classNames.icon, className)\n          }, rest));\n        }\n\n        if (imageProps) {\n          return React.createElement(ImageIcon, __assign({\n            className: css(_this._classNames.icon, className),\n            imageProps: imageProps\n          }, rest));\n        }\n      }\n\n      return null;\n    };\n\n    _this._onRenderTextContents = function () {\n      var _a = _this.props,\n          text = _a.text,\n          children = _a.children,\n          // eslint-disable-next-line deprecation/deprecation\n      _b = _a.secondaryText,\n          // eslint-disable-next-line deprecation/deprecation\n      secondaryText = _b === void 0 ? _this.props.description : _b,\n          _c = _a.onRenderText,\n          onRenderText = _c === void 0 ? _this._onRenderText : _c,\n          _d = _a.onRenderDescription,\n          onRenderDescription = _d === void 0 ? _this._onRenderDescription : _d;\n\n      if (text || typeof children === 'string' || secondaryText) {\n        return React.createElement(\"span\", {\n          className: _this._classNames.textContainer\n        }, onRenderText(_this.props, _this._onRenderText), onRenderDescription(_this.props, _this._onRenderDescription));\n      }\n\n      return [onRenderText(_this.props, _this._onRenderText), onRenderDescription(_this.props, _this._onRenderDescription)];\n    };\n\n    _this._onRenderText = function () {\n      var text = _this.props.text;\n      var children = _this.props.children; // For backwards compat, we should continue to take in the text content from children.\n\n      if (text === undefined && typeof children === 'string') {\n        text = children;\n      }\n\n      if (_this._hasText()) {\n        return React.createElement(\"span\", {\n          key: _this._labelId,\n          className: _this._classNames.label,\n          id: _this._labelId\n        }, text);\n      }\n\n      return null;\n    };\n\n    _this._onRenderChildren = function () {\n      var children = _this.props.children; // If children is just a string, either it or the text will be rendered via onRenderLabel\n      // If children is another component, it will be rendered after text\n\n      if (typeof children === 'string') {\n        return null;\n      }\n\n      return children;\n    };\n\n    _this._onRenderDescription = function (props) {\n      // eslint-disable-next-line deprecation/deprecation\n      var _a = props.secondaryText,\n          secondaryText = _a === void 0 ? _this.props.description : _a; // ms-Button-description is only shown when the button type is compound.\n      // In other cases it will not be displayed.\n\n      return secondaryText ? React.createElement(\"span\", {\n        key: _this._descriptionId,\n        className: _this._classNames.description,\n        id: _this._descriptionId\n      }, secondaryText) : null;\n    };\n\n    _this._onRenderAriaDescription = function () {\n      var ariaDescription = _this.props.ariaDescription; // If ariaDescription is given, descriptionId will be assigned to ariaDescriptionSpan,\n      // otherwise it will be assigned to descriptionSpan.\n\n      return ariaDescription ? React.createElement(\"span\", {\n        className: _this._classNames.screenReaderText,\n        id: _this._ariaDescriptionId\n      }, ariaDescription) : null;\n    };\n\n    _this._onRenderMenuIcon = function (props) {\n      var menuIconProps = _this.props.menuIconProps;\n      return React.createElement(FontIcon, __assign({\n        iconName: \"ChevronDown\"\n      }, menuIconProps, {\n        className: _this._classNames.menuIcon\n      }));\n    };\n\n    _this._onRenderMenu = function (menuProps) {\n      var persistMenu = _this.props.persistMenu;\n      var menuHidden = _this.state.menuHidden;\n      var MenuType = _this.props.menuAs || ContextualMenu; // the accessible menu label (accessible name) has a relationship to the button.\n      // If the menu props do not specify an explicit value for aria-label or aria-labelledBy,\n      // AND the button has text, we'll set the menu aria-labelledBy to the text element id.\n\n      if (!menuProps.ariaLabel && !menuProps.labelElementId && _this._hasText()) {\n        menuProps = __assign(__assign({}, menuProps), {\n          labelElementId: _this._labelId\n        });\n      }\n\n      return React.createElement(MenuType, __assign({\n        id: _this._labelId + '-menu',\n        directionalHint: DirectionalHint.bottomLeftEdge\n      }, menuProps, {\n        shouldFocusOnContainer: _this._menuShouldFocusOnContainer,\n        shouldFocusOnMount: _this._menuShouldFocusOnMount,\n        hidden: persistMenu ? menuHidden : undefined,\n        className: css('ms-BaseButton-menuhost', menuProps.className),\n        target: _this._isSplitButton ? _this._splitButtonContainer.current : _this._buttonElement.current,\n        onDismiss: _this._onDismissMenu\n      }));\n    };\n\n    _this._onDismissMenu = function (ev) {\n      var menuProps = _this.props.menuProps;\n\n      if (menuProps && menuProps.onDismiss) {\n        menuProps.onDismiss(ev);\n      }\n\n      if (!ev || !ev.defaultPrevented) {\n        _this._dismissMenu();\n      }\n    };\n\n    _this._dismissMenu = function () {\n      _this._menuShouldFocusOnMount = undefined;\n      _this._menuShouldFocusOnContainer = undefined;\n\n      _this.setState({\n        menuHidden: true\n      });\n    };\n\n    _this._openMenu = function (shouldFocusOnContainer, shouldFocusOnMount) {\n      if (shouldFocusOnMount === void 0) {\n        shouldFocusOnMount = true;\n      }\n\n      if (_this.props.menuProps) {\n        _this._menuShouldFocusOnContainer = shouldFocusOnContainer;\n        _this._menuShouldFocusOnMount = shouldFocusOnMount;\n        _this._renderedVisibleMenu = true;\n\n        _this.setState({\n          menuHidden: false\n        });\n      }\n    };\n\n    _this._onToggleMenu = function (shouldFocusOnContainer) {\n      var shouldFocusOnMount = true;\n\n      if (_this.props.menuProps && _this.props.menuProps.shouldFocusOnMount === false) {\n        shouldFocusOnMount = false;\n      }\n\n      _this.state.menuHidden ? _this._openMenu(shouldFocusOnContainer, shouldFocusOnMount) : _this._dismissMenu();\n    };\n\n    _this._onSplitContainerFocusCapture = function (ev) {\n      var container = _this._splitButtonContainer.current; // If the target is coming from the portal we do not need to set focus on the container.\n\n      if (!container || ev.target && portalContainsElement(ev.target, container)) {\n        return;\n      } // We should never be able to focus the individual buttons in a split button. Focus\n      // should always remain on the container.\n\n\n      container.focus();\n    };\n\n    _this._onSplitButtonPrimaryClick = function (ev) {\n      if (!_this.state.menuHidden) {\n        _this._dismissMenu();\n      }\n\n      if (!_this._processingTouch && _this.props.onClick) {\n        _this.props.onClick(ev);\n      } else if (_this._processingTouch) {\n        _this._onMenuClick(ev);\n      }\n    };\n\n    _this._onKeyDown = function (ev) {\n      // explicity cancelling event so click won't fire after this\n      if (_this.props.disabled && (ev.which === KeyCodes.enter || ev.which === KeyCodes.space)) {\n        ev.preventDefault();\n        ev.stopPropagation();\n      } else if (!_this.props.disabled) {\n        if (_this.props.menuProps) {\n          _this._onMenuKeyDown(ev);\n        } else if (_this.props.onKeyDown !== undefined) {\n          _this.props.onKeyDown(ev); // not cancelling event because it's not disabled\n\n        }\n      }\n    };\n\n    _this._onKeyUp = function (ev) {\n      if (!_this.props.disabled && _this.props.onKeyUp !== undefined) {\n        _this.props.onKeyUp(ev); // not cancelling event because it's not disabled\n\n      }\n    };\n\n    _this._onKeyPress = function (ev) {\n      if (!_this.props.disabled && _this.props.onKeyPress !== undefined) {\n        _this.props.onKeyPress(ev); // not cancelling event because it's not disabled\n\n      }\n    };\n\n    _this._onMouseUp = function (ev) {\n      if (!_this.props.disabled && _this.props.onMouseUp !== undefined) {\n        _this.props.onMouseUp(ev); // not cancelling event because it's not disabled\n\n      }\n    };\n\n    _this._onMouseDown = function (ev) {\n      if (!_this.props.disabled && _this.props.onMouseDown !== undefined) {\n        _this.props.onMouseDown(ev); // not cancelling event because it's not disabled\n\n      }\n    };\n\n    _this._onClick = function (ev) {\n      if (!_this.props.disabled) {\n        if (_this.props.menuProps) {\n          _this._onMenuClick(ev);\n        } else if (_this.props.onClick !== undefined) {\n          _this.props.onClick(ev); // not cancelling event because it's not disabled\n\n        }\n      }\n    };\n\n    _this._onSplitButtonContainerKeyDown = function (ev) {\n      if (ev.which === KeyCodes.enter || ev.which === KeyCodes.space) {\n        if (_this._buttonElement.current) {\n          _this._buttonElement.current.click();\n\n          ev.preventDefault();\n          ev.stopPropagation();\n        }\n      } else {\n        _this._onMenuKeyDown(ev);\n      }\n    };\n\n    _this._onMenuKeyDown = function (ev) {\n      if (_this.props.disabled) {\n        return;\n      }\n\n      if (_this.props.onKeyDown) {\n        _this.props.onKeyDown(ev);\n      }\n\n      var isUp = ev.which === KeyCodes.up;\n      var isDown = ev.which === KeyCodes.down;\n\n      if (!ev.defaultPrevented && _this._isValidMenuOpenKey(ev)) {\n        var onMenuClick = _this.props.onMenuClick;\n\n        if (onMenuClick) {\n          onMenuClick(ev, _this.props);\n        }\n\n        _this._onToggleMenu(false);\n\n        ev.preventDefault();\n        ev.stopPropagation();\n      }\n\n      if (!(ev.altKey || ev.metaKey) && (isUp || isDown)) {\n        // Suppose a menu, with shouldFocusOnMount: false, is open, and user wants to keyboard to the menu items\n        // We need to re-render the menu with shouldFocusOnMount as true.\n        if (!_this.state.menuHidden && _this.props.menuProps) {\n          var currentShouldFocusOnMount = _this._menuShouldFocusOnMount !== undefined ? _this._menuShouldFocusOnMount : _this.props.menuProps.shouldFocusOnMount;\n\n          if (!currentShouldFocusOnMount) {\n            ev.preventDefault();\n            ev.stopPropagation();\n            _this._menuShouldFocusOnMount = true;\n\n            _this.forceUpdate();\n          }\n        }\n      }\n    };\n\n    _this._onTouchStart = function () {\n      if (_this._isSplitButton && _this._splitButtonContainer.current && !('onpointerdown' in _this._splitButtonContainer.current)) {\n        _this._handleTouchAndPointerEvent();\n      }\n    };\n\n    _this._onMenuClick = function (ev) {\n      var onMenuClick = _this.props.onMenuClick;\n\n      if (onMenuClick) {\n        onMenuClick(ev, _this.props);\n      }\n\n      if (!ev.defaultPrevented) {\n        // When Edge + Narrator are used together (regardless of if the button is in a form or not), pressing\n        // \"Enter\" fires this method and not _onMenuKeyDown. Checking ev.nativeEvent.detail differentiates\n        // between a real click event and a keypress event (detail should be the number of mouse clicks).\n        // ...Plot twist! For a real click event in IE 11, detail is always 0 (Edge sets it properly to 1).\n        // So we also check the pointerType property, which both Edge and IE set to \"mouse\" for real clicks\n        // and \"\" for pressing \"Enter\" with Narrator on.\n        var shouldFocusOnContainer = ev.nativeEvent.detail !== 0 || ev.nativeEvent.pointerType === 'mouse';\n\n        _this._onToggleMenu(shouldFocusOnContainer);\n\n        ev.preventDefault();\n        ev.stopPropagation();\n      }\n    };\n\n    initializeComponentRef(_this);\n    _this._async = new Async(_this);\n    _this._events = new EventGroup(_this);\n    warnConditionallyRequiredProps(COMPONENT_NAME, props, ['menuProps', 'onClick'], 'split', _this.props.split);\n    warnDeprecations(COMPONENT_NAME, props, {\n      rootProps: undefined,\n      description: 'secondaryText',\n      toggled: 'checked'\n    });\n    _this._labelId = getId();\n    _this._descriptionId = getId();\n    _this._ariaDescriptionId = getId();\n    _this.state = {\n      menuHidden: true\n    };\n    return _this;\n  }\n\n  Object.defineProperty(BaseButton.prototype, \"_isSplitButton\", {\n    get: function get() {\n      return !!this.props.menuProps && !!this.props.onClick && this.props.split === true;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  BaseButton.prototype.render = function () {\n    var _a;\n\n    var _b = this.props,\n        ariaDescription = _b.ariaDescription,\n        ariaLabel = _b.ariaLabel,\n        ariaHidden = _b.ariaHidden,\n        className = _b.className,\n        disabled = _b.disabled,\n        allowDisabledFocus = _b.allowDisabledFocus,\n        primaryDisabled = _b.primaryDisabled,\n        // eslint-disable-next-line deprecation/deprecation\n    _c = _b.secondaryText,\n        // eslint-disable-next-line deprecation/deprecation\n    secondaryText = _c === void 0 ? this.props.description : _c,\n        href = _b.href,\n        iconProps = _b.iconProps,\n        menuIconProps = _b.menuIconProps,\n        styles = _b.styles,\n        checked = _b.checked,\n        variantClassName = _b.variantClassName,\n        theme = _b.theme,\n        toggle = _b.toggle,\n        getClassNames = _b.getClassNames,\n        role = _b.role;\n    var menuHidden = this.state.menuHidden; // Button is disabled if the whole button (in case of splitButton is disabled) or if the primary action is disabled\n\n    var isPrimaryButtonDisabled = disabled || primaryDisabled;\n    this._classNames = getClassNames ? getClassNames(theme, className, variantClassName, iconProps && iconProps.className, menuIconProps && menuIconProps.className, isPrimaryButtonDisabled, checked, !menuHidden, !!this.props.menuProps, this.props.split, !!allowDisabledFocus) : getBaseButtonClassNames(theme, styles, className, variantClassName, iconProps && iconProps.className, menuIconProps && menuIconProps.className, isPrimaryButtonDisabled, !!this.props.menuProps, checked, !menuHidden, this.props.split);\n\n    var _d = this,\n        _ariaDescriptionId = _d._ariaDescriptionId,\n        _labelId = _d._labelId,\n        _descriptionId = _d._descriptionId; // Anchor tag cannot be disabled hence in disabled state rendering\n    // anchor button as normal button\n\n\n    var renderAsAnchor = !isPrimaryButtonDisabled && !!href;\n    var tag = renderAsAnchor ? 'a' : 'button';\n    var nativeProps = getNativeProps( // eslint-disable-next-line deprecation/deprecation\n    assign(renderAsAnchor ? {} : {\n      type: 'button'\n    }, this.props.rootProps, this.props), renderAsAnchor ? anchorProperties : buttonProperties, ['disabled']); // Check for ariaLabel passed in via Button props, and fall back to aria-label passed in via native props\n\n    var resolvedAriaLabel = ariaLabel || nativeProps['aria-label']; // Check for ariaDescription, secondaryText or aria-describedby in the native props to determine source of\n    // aria-describedby. Otherwise default to undefined so property does not appear in output.\n\n    var ariaDescribedBy = undefined;\n\n    if (ariaDescription) {\n      ariaDescribedBy = _ariaDescriptionId;\n    } else if (secondaryText && this.props.onRenderDescription !== nullRender) {\n      // for buttons like CompoundButton with a valid onRenderDescription, we need to set an ariaDescribedBy\n      // for buttons that do not render anything (via nullRender), we should not set an ariaDescribedBy\n      ariaDescribedBy = _descriptionId;\n    } else if (nativeProps['aria-describedby']) {\n      ariaDescribedBy = nativeProps['aria-describedby'];\n    } // If an explicit ariaLabel is given, use that as the label and we're done.\n    // If an explicit aria-labelledby is given, use that and we're done.\n    // If any kind of description is given (which will end up as an aria-describedby attribute),\n    // set the labelledby element. Otherwise, the button is labeled implicitly by the descendent\n    // text on the button (if it exists). Never set both aria-label and aria-labelledby.\n\n\n    var ariaLabelledBy = undefined;\n\n    if (!resolvedAriaLabel) {\n      if (nativeProps['aria-labelledby']) {\n        ariaLabelledBy = nativeProps['aria-labelledby'];\n      } else if (ariaDescribedBy) {\n        ariaLabelledBy = this._hasText() ? _labelId : undefined;\n      }\n    }\n\n    var dataIsFocusable = this.props['data-is-focusable'] === false || disabled && !allowDisabledFocus || this._isSplitButton ? false : true;\n    var isCheckboxTypeRole = role === 'menuitemcheckbox' || role === 'checkbox'; // if isCheckboxTypeRole, always return a checked value.\n    // Otherwise only return checked value if toggle is set to true.\n    // This is because role=\"checkbox\" always needs to have an aria-checked value\n    // but our checked prop only sets aria-pressed if we mark the button as a toggle=\"true\"\n\n    var checkedOrPressedValue = isCheckboxTypeRole ? !!checked : toggle === true ? !!checked : undefined;\n    var buttonProps = assign(nativeProps, (_a = {\n      className: this._classNames.root,\n      // eslint-disable-next-line deprecation/deprecation\n      ref: this._mergedRef(this.props.elementRef, this._buttonElement),\n      disabled: isPrimaryButtonDisabled && !allowDisabledFocus,\n      onKeyDown: this._onKeyDown,\n      onKeyPress: this._onKeyPress,\n      onKeyUp: this._onKeyUp,\n      onMouseDown: this._onMouseDown,\n      onMouseUp: this._onMouseUp,\n      onClick: this._onClick,\n      'aria-label': resolvedAriaLabel,\n      'aria-labelledby': ariaLabelledBy,\n      'aria-describedby': ariaDescribedBy,\n      'aria-disabled': isPrimaryButtonDisabled,\n      'data-is-focusable': dataIsFocusable\n    }, // aria-pressed attribute should only be present for toggle buttons\n    // aria-checked attribute should only be present for toggle buttons with checkbox type role\n    _a[isCheckboxTypeRole ? 'aria-checked' : 'aria-pressed'] = checkedOrPressedValue, _a));\n\n    if (ariaHidden) {\n      buttonProps['aria-hidden'] = true;\n    }\n\n    if (this._isSplitButton) {\n      return this._onRenderSplitButtonContent(tag, buttonProps);\n    } else if (this.props.menuProps) {\n      assign(buttonProps, {\n        'aria-expanded': !menuHidden,\n        'aria-owns': !menuHidden ? this._labelId + '-menu' : null,\n        'aria-haspopup': true\n      });\n    }\n\n    return this._onRenderContent(tag, buttonProps);\n  };\n\n  BaseButton.prototype.componentDidMount = function () {\n    // For split buttons, touching anywhere in the button should drop the dropdown, which should contain the\n    // primary action. This gives more hit target space for touch environments. We're setting the onpointerdown here,\n    // because React does not support Pointer events yet.\n    if (this._isSplitButton && this._splitButtonContainer.current) {\n      if ('onpointerdown' in this._splitButtonContainer.current) {\n        this._events.on(this._splitButtonContainer.current, 'pointerdown', this._onPointerDown, true);\n      }\n\n      if ('onpointerup' in this._splitButtonContainer.current && this.props.onPointerUp) {\n        this._events.on(this._splitButtonContainer.current, 'pointerup', this.props.onPointerUp, true);\n      }\n    }\n  };\n\n  BaseButton.prototype.componentDidUpdate = function (prevProps, prevState) {\n    // If Button's menu was closed, run onAfterMenuDismiss.\n    if (this.props.onAfterMenuDismiss && !prevState.menuHidden && this.state.menuHidden) {\n      this.props.onAfterMenuDismiss();\n    }\n  };\n\n  BaseButton.prototype.componentWillUnmount = function () {\n    this._async.dispose();\n\n    this._events.dispose();\n  };\n\n  BaseButton.prototype.focus = function () {\n    if (this._isSplitButton && this._splitButtonContainer.current) {\n      this._splitButtonContainer.current.focus();\n    } else if (this._buttonElement.current) {\n      this._buttonElement.current.focus();\n    }\n  };\n\n  BaseButton.prototype.dismissMenu = function () {\n    this._dismissMenu();\n  };\n\n  BaseButton.prototype.openMenu = function (shouldFocusOnContainer, shouldFocusOnMount) {\n    this._openMenu(shouldFocusOnContainer, shouldFocusOnMount);\n  };\n\n  BaseButton.prototype._onRenderContent = function (tag, buttonProps) {\n    var _this = this;\n\n    var props = this.props;\n    var Tag = tag;\n    var menuIconProps = props.menuIconProps,\n        menuProps = props.menuProps,\n        _a = props.onRenderIcon,\n        onRenderIcon = _a === void 0 ? this._onRenderIcon : _a,\n        _b = props.onRenderAriaDescription,\n        onRenderAriaDescription = _b === void 0 ? this._onRenderAriaDescription : _b,\n        _c = props.onRenderChildren,\n        onRenderChildren = _c === void 0 ? this._onRenderChildren : _c,\n        // eslint-disable-next-line deprecation/deprecation\n    _d = props.onRenderMenu,\n        // eslint-disable-next-line deprecation/deprecation\n    onRenderMenu = _d === void 0 ? this._onRenderMenu : _d,\n        _e = props.onRenderMenuIcon,\n        onRenderMenuIcon = _e === void 0 ? this._onRenderMenuIcon : _e,\n        disabled = props.disabled;\n    var keytipProps = props.keytipProps;\n\n    if (keytipProps && menuProps) {\n      keytipProps = this._getMemoizedMenuButtonKeytipProps(keytipProps);\n    }\n\n    var Button = function Button(keytipAttributes) {\n      return React.createElement(Tag, __assign({}, buttonProps, keytipAttributes), React.createElement(\"span\", {\n        className: _this._classNames.flexContainer,\n        \"data-automationid\": \"splitbuttonprimary\"\n      }, onRenderIcon(props, _this._onRenderIcon), _this._onRenderTextContents(), onRenderAriaDescription(props, _this._onRenderAriaDescription), onRenderChildren(props, _this._onRenderChildren), !_this._isSplitButton && (menuProps || menuIconProps || _this.props.onRenderMenuIcon) && onRenderMenuIcon(_this.props, _this._onRenderMenuIcon), menuProps && !menuProps.doNotLayer && _this._shouldRenderMenu() && onRenderMenu(menuProps, _this._onRenderMenu)));\n    };\n\n    var Content = keytipProps ? // If we're making a split button, we won't put the keytip here\n    React.createElement(KeytipData, {\n      keytipProps: !this._isSplitButton ? keytipProps : undefined,\n      ariaDescribedBy: buttonProps['aria-describedby'],\n      disabled: disabled\n    }, function (keytipAttributes) {\n      return Button(keytipAttributes);\n    }) : Button();\n\n    if (menuProps && menuProps.doNotLayer) {\n      return React.createElement(\"span\", {\n        style: {\n          display: 'inline-block'\n        }\n      }, Content, this._shouldRenderMenu() && onRenderMenu(menuProps, this._onRenderMenu));\n    }\n\n    return React.createElement(React.Fragment, null, Content, React.createElement(FocusRects, null));\n  };\n  /**\n   * Method to help determine if the menu's component tree should\n   * be rendered. It takes into account whether the menu is expanded,\n   * whether it is a persisted menu and whether it has been shown to the user.\n   */\n\n\n  BaseButton.prototype._shouldRenderMenu = function () {\n    var menuHidden = this.state.menuHidden; // eslint-disable-next-line deprecation/deprecation\n\n    var _a = this.props,\n        persistMenu = _a.persistMenu,\n        renderPersistedMenuHiddenOnMount = _a.renderPersistedMenuHiddenOnMount;\n\n    if (!menuHidden) {\n      // Always should render a menu when it is expanded\n      return true;\n    } else if (persistMenu && (this._renderedVisibleMenu || renderPersistedMenuHiddenOnMount)) {\n      // _renderedVisibleMenu ensures that the first rendering of\n      // the menu happens on-screen, as edge's scrollbar calculations are off if done while hidden.\n      return true;\n    }\n\n    return false;\n  };\n\n  BaseButton.prototype._hasText = function () {\n    // _onRenderTextContents and _onRenderText do not perform the same checks. Below is parity with what _onRenderText\n    // used to have before the refactor that introduced this function. _onRenderTextContents does not require props.\n    // text to be undefined in order for props.children to be used as a fallback.\n    // Purely a code maintainability/reuse issue, but logged as Issue #4979.\n    return this.props.text !== null && (this.props.text !== undefined || typeof this.props.children === 'string');\n  };\n\n  BaseButton.prototype._onRenderSplitButtonContent = function (tag, buttonProps) {\n    var _this = this;\n\n    var _a = this.props,\n        _b = _a.styles,\n        styles = _b === void 0 ? {} : _b,\n        disabled = _a.disabled,\n        allowDisabledFocus = _a.allowDisabledFocus,\n        checked = _a.checked,\n        getSplitButtonClassNames = _a.getSplitButtonClassNames,\n        primaryDisabled = _a.primaryDisabled,\n        menuProps = _a.menuProps,\n        toggle = _a.toggle,\n        role = _a.role,\n        primaryActionButtonProps = _a.primaryActionButtonProps;\n    var keytipProps = this.props.keytipProps;\n    var menuHidden = this.state.menuHidden;\n    var classNames = getSplitButtonClassNames ? getSplitButtonClassNames(!!disabled, !menuHidden, !!checked, !!allowDisabledFocus) : styles && getBaseSplitButtonClassNames(styles, !!disabled, !menuHidden, !!checked, !!primaryDisabled);\n    assign(buttonProps, {\n      onClick: undefined,\n      onPointerDown: undefined,\n      onPointerUp: undefined,\n      tabIndex: -1,\n      'data-is-focusable': false\n    });\n\n    if (keytipProps && menuProps) {\n      keytipProps = this._getMemoizedMenuButtonKeytipProps(keytipProps);\n    }\n\n    var containerProps = getNativeProps(buttonProps, [], ['disabled']); // Add additional props to apply on primary action button\n\n    if (primaryActionButtonProps) {\n      assign(buttonProps, primaryActionButtonProps);\n    }\n\n    var SplitButton = function SplitButton(keytipAttributes) {\n      return React.createElement(\"div\", __assign({}, containerProps, {\n        \"data-ktp-target\": keytipAttributes ? keytipAttributes['data-ktp-target'] : undefined,\n        role: role ? role : 'button',\n        \"aria-disabled\": disabled,\n        \"aria-haspopup\": true,\n        \"aria-expanded\": !menuHidden,\n        \"aria-pressed\": toggle ? !!checked : undefined,\n        \"aria-describedby\": mergeAriaAttributeValues(buttonProps['aria-describedby'], keytipAttributes ? keytipAttributes['aria-describedby'] : undefined),\n        className: classNames && classNames.splitButtonContainer,\n        onKeyDown: _this._onSplitButtonContainerKeyDown,\n        onTouchStart: _this._onTouchStart,\n        ref: _this._splitButtonContainer,\n        \"data-is-focusable\": true,\n        onClick: !disabled && !primaryDisabled ? _this._onSplitButtonPrimaryClick : undefined,\n        tabIndex: !disabled || allowDisabledFocus ? 0 : undefined,\n        \"aria-roledescription\": buttonProps['aria-roledescription'],\n        onFocusCapture: _this._onSplitContainerFocusCapture\n      }), React.createElement(\"span\", {\n        style: {\n          display: 'flex'\n        }\n      }, _this._onRenderContent(tag, buttonProps), _this._onRenderSplitButtonMenuButton(classNames, keytipAttributes), _this._onRenderSplitButtonDivider(classNames)));\n    };\n\n    return keytipProps ? React.createElement(KeytipData, {\n      keytipProps: keytipProps,\n      disabled: disabled\n    }, function (keytipAttributes) {\n      return SplitButton(keytipAttributes);\n    }) : SplitButton();\n  };\n\n  BaseButton.prototype._onRenderSplitButtonDivider = function (classNames) {\n    if (classNames && classNames.divider) {\n      var onClick = function onClick(ev) {\n        ev.stopPropagation();\n      };\n\n      return React.createElement(\"span\", {\n        className: classNames.divider,\n        \"aria-hidden\": true,\n        onClick: onClick\n      });\n    }\n\n    return null;\n  };\n\n  BaseButton.prototype._onRenderSplitButtonMenuButton = function (classNames, keytipAttributes) {\n    var _a = this.props,\n        allowDisabledFocus = _a.allowDisabledFocus,\n        checked = _a.checked,\n        disabled = _a.disabled,\n        splitButtonMenuProps = _a.splitButtonMenuProps,\n        splitButtonAriaLabel = _a.splitButtonAriaLabel;\n    var menuHidden = this.state.menuHidden;\n    var menuIconProps = this.props.menuIconProps;\n\n    if (menuIconProps === undefined) {\n      menuIconProps = {\n        iconName: 'ChevronDown'\n      };\n    }\n\n    var splitButtonProps = __assign(__assign({}, splitButtonMenuProps), {\n      styles: classNames,\n      checked: checked,\n      disabled: disabled,\n      allowDisabledFocus: allowDisabledFocus,\n      onClick: this._onMenuClick,\n      menuProps: undefined,\n      iconProps: __assign(__assign({}, menuIconProps), {\n        className: this._classNames.menuIcon\n      }),\n      ariaLabel: splitButtonAriaLabel,\n      'aria-haspopup': true,\n      'aria-expanded': !menuHidden,\n      'data-is-focusable': false\n    }); // Add data-ktp-execute-target to the split button if the keytip is defined\n\n\n    return React.createElement(BaseButton, __assign({}, splitButtonProps, {\n      \"data-ktp-execute-target\": keytipAttributes ? keytipAttributes['data-ktp-execute-target'] : keytipAttributes,\n      onMouseDown: this._onMouseDown,\n      tabIndex: -1\n    }));\n  };\n\n  BaseButton.prototype._onPointerDown = function (ev) {\n    var onPointerDown = this.props.onPointerDown;\n\n    if (onPointerDown) {\n      onPointerDown(ev);\n    }\n\n    if (ev.pointerType === 'touch') {\n      this._handleTouchAndPointerEvent();\n\n      ev.preventDefault();\n      ev.stopImmediatePropagation();\n    }\n  };\n\n  BaseButton.prototype._handleTouchAndPointerEvent = function () {\n    var _this = this; // If we already have an existing timeout from a previous touch and pointer event\n    // cancel that timeout so we can set a new one.\n\n\n    if (this._lastTouchTimeoutId !== undefined) {\n      this._async.clearTimeout(this._lastTouchTimeoutId);\n\n      this._lastTouchTimeoutId = undefined;\n    }\n\n    this._processingTouch = true;\n    this._lastTouchTimeoutId = this._async.setTimeout(function () {\n      _this._processingTouch = false;\n      _this._lastTouchTimeoutId = undefined; // Touch and pointer events don't focus the button naturally,\n      // so adding an imperative focus call to guarantee this behavior.\n\n      _this.focus();\n    }, TouchIdleDelay);\n  };\n  /**\n   * Returns if the user hits a valid keyboard key to open the menu\n   * @param ev - the keyboard event\n   * @returns True if user clicks on custom trigger key if enabled or alt + down arrow if not. False otherwise.\n   */\n\n\n  BaseButton.prototype._isValidMenuOpenKey = function (ev) {\n    if (this.props.menuTriggerKeyCode) {\n      return ev.which === this.props.menuTriggerKeyCode;\n    } else if (this.props.menuProps) {\n      return ev.which === KeyCodes.down && (ev.altKey || ev.metaKey);\n    } // Note: When enter is pressed, we will let the event continue to propagate\n    // to trigger the onClick event on the button\n\n\n    return false;\n  };\n\n  BaseButton.defaultProps = {\n    baseClassName: 'ms-Button',\n    styles: {},\n    split: false\n  };\n  return BaseButton;\n}(React.Component);\n\nexport { BaseButton };","import { memoizeFunction } from '../../Utilities';\nimport { HighContrastSelector, getFocusStyle, hiddenContentStyle } from '../../Styling';\nvar noOutline = {\n  outline: 0\n};\n\nvar iconStyle = function iconStyle(fontSize) {\n  return {\n    fontSize: fontSize,\n    margin: '0 4px',\n    height: '16px',\n    lineHeight: '16px',\n    textAlign: 'center',\n    flexShrink: 0\n  };\n};\n/**\n * Gets the base button styles. Note: because it is a base class to be used with the `mergeRules`\n * helper, it should have values for all class names in the interface. This let `mergeRules` optimize\n * mixing class names together.\n */\n\n\nexport var getStyles = memoizeFunction(function (theme) {\n  var _a, _b;\n\n  var semanticColors = theme.semanticColors,\n      effects = theme.effects,\n      fonts = theme.fonts;\n  var border = semanticColors.buttonBorder;\n  var disabledBackground = semanticColors.disabledBackground;\n  var disabledText = semanticColors.disabledText;\n  var buttonHighContrastFocus = {\n    left: -2,\n    top: -2,\n    bottom: -2,\n    right: -2,\n    outlineColor: 'ButtonText'\n  };\n  return {\n    root: [getFocusStyle(theme, {\n      inset: 1,\n      highContrastStyle: buttonHighContrastFocus,\n      borderColor: 'transparent'\n    }), theme.fonts.medium, {\n      boxSizing: 'border-box',\n      border: '1px solid ' + border,\n      userSelect: 'none',\n      display: 'inline-block',\n      textDecoration: 'none',\n      textAlign: 'center',\n      cursor: 'pointer',\n      padding: '0 16px',\n      borderRadius: effects.roundedCorner2,\n      selectors: {\n        // IE11 workaround for preventing shift of child elements of a button when active.\n        ':active > *': {\n          position: 'relative',\n          left: 0,\n          top: 0\n        }\n      }\n    }],\n    rootDisabled: [getFocusStyle(theme, {\n      inset: 1,\n      highContrastStyle: buttonHighContrastFocus,\n      borderColor: 'transparent'\n    }), {\n      backgroundColor: disabledBackground,\n      borderColor: disabledBackground,\n      color: disabledText,\n      cursor: 'default',\n      pointerEvents: 'none',\n      selectors: {\n        ':hover': noOutline,\n        ':focus': noOutline\n      }\n    }],\n    iconDisabled: {\n      color: disabledText,\n      selectors: (_a = {}, _a[HighContrastSelector] = {\n        color: 'GrayText'\n      }, _a)\n    },\n    menuIconDisabled: {\n      color: disabledText,\n      selectors: (_b = {}, _b[HighContrastSelector] = {\n        color: 'GrayText'\n      }, _b)\n    },\n    flexContainer: {\n      display: 'flex',\n      height: '100%',\n      flexWrap: 'nowrap',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    description: {\n      display: 'block'\n    },\n    textContainer: {\n      flexGrow: 1,\n      display: 'block'\n    },\n    icon: iconStyle(fonts.mediumPlus.fontSize),\n    menuIcon: iconStyle(fonts.small.fontSize),\n    label: {\n      margin: '0 4px',\n      lineHeight: '100%',\n      display: 'block'\n    },\n    screenReaderText: hiddenContentStyle\n  };\n});","import { __assign } from \"tslib\";\nimport { HighContrastSelector, concatStyleSets, getFocusStyle, getEdgeChromiumNoHighContrastAdjustSelector, getHighContrastNoAdjustStyle } from '../../../Styling';\nimport { memoizeFunction } from '../../../Utilities';\nexport var getStyles = memoizeFunction(function (theme, customStyles) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n\n  var effects = theme.effects,\n      palette = theme.palette,\n      semanticColors = theme.semanticColors;\n  var buttonHighContrastFocus = {\n    left: -2,\n    top: -2,\n    bottom: -2,\n    right: -2,\n    border: 'none'\n  };\n  var splitButtonDividerBaseStyles = {\n    position: 'absolute',\n    width: 1,\n    right: 31,\n    top: 8,\n    bottom: 8\n  };\n  var splitButtonStyles = {\n    splitButtonContainer: [getFocusStyle(theme, {\n      highContrastStyle: buttonHighContrastFocus,\n      inset: 2\n    }), {\n      display: 'inline-flex',\n      selectors: {\n        '.ms-Button--default': {\n          borderTopRightRadius: '0',\n          borderBottomRightRadius: '0',\n          borderRight: 'none'\n        },\n        '.ms-Button--primary': {\n          borderTopRightRadius: '0',\n          borderBottomRightRadius: '0',\n          border: 'none',\n          selectors: (_a = {}, _a[HighContrastSelector] = __assign({\n            color: 'WindowText',\n            backgroundColor: 'Window',\n            border: '1px solid WindowText',\n            borderRightWidth: '0'\n          }, getHighContrastNoAdjustStyle()), _a)\n        },\n        '.ms-Button--primary + .ms-Button': {\n          border: 'none',\n          selectors: (_b = {}, _b[HighContrastSelector] = {\n            border: '1px solid WindowText',\n            borderLeftWidth: '0'\n          }, _b)\n        }\n      }\n    }],\n    splitButtonContainerHovered: {\n      selectors: {\n        '.ms-Button--primary': {\n          selectors: (_c = {}, _c[HighContrastSelector] = {\n            color: 'Window',\n            backgroundColor: 'Highlight'\n          }, _c)\n        },\n        '.ms-Button.is-disabled': {\n          color: semanticColors.buttonTextDisabled,\n          selectors: (_d = {}, _d[HighContrastSelector] = {\n            color: 'GrayText',\n            borderColor: 'GrayText',\n            backgroundColor: 'Window'\n          }, _d)\n        }\n      }\n    },\n    splitButtonContainerChecked: {\n      selectors: {\n        '.ms-Button--primary': {\n          selectors: (_e = {}, _e[HighContrastSelector] = __assign({\n            color: 'Window',\n            backgroundColor: 'WindowText'\n          }, getHighContrastNoAdjustStyle()), _e)\n        }\n      }\n    },\n    splitButtonContainerCheckedHovered: {\n      selectors: {\n        '.ms-Button--primary': {\n          selectors: (_f = {}, _f[HighContrastSelector] = __assign({\n            color: 'Window',\n            backgroundColor: 'WindowText'\n          }, getHighContrastNoAdjustStyle()), _f)\n        }\n      }\n    },\n    splitButtonContainerFocused: {\n      outline: 'none!important'\n    },\n    splitButtonMenuButton: (_g = {\n      padding: 6,\n      height: 'auto',\n      boxSizing: 'border-box',\n      borderRadius: 0,\n      borderTopRightRadius: effects.roundedCorner2,\n      borderBottomRightRadius: effects.roundedCorner2,\n      border: \"1px solid \" + palette.neutralSecondaryAlt,\n      borderLeft: 'none',\n      outline: 'transparent',\n      userSelect: 'none',\n      display: 'inline-block',\n      textDecoration: 'none',\n      textAlign: 'center',\n      cursor: 'pointer',\n      verticalAlign: 'top',\n      width: 32,\n      marginLeft: -1,\n      marginTop: 0,\n      marginRight: 0,\n      marginBottom: 0\n    }, _g[HighContrastSelector] = {\n      '.ms-Button-menuIcon': {\n        color: 'WindowText'\n      }\n    }, _g),\n    splitButtonDivider: __assign(__assign({}, splitButtonDividerBaseStyles), {\n      selectors: (_h = {}, _h[HighContrastSelector] = {\n        backgroundColor: 'WindowText'\n      }, _h)\n    }),\n    splitButtonDividerDisabled: __assign(__assign({}, splitButtonDividerBaseStyles), {\n      selectors: (_j = {}, _j[HighContrastSelector] = {\n        backgroundColor: 'GrayText'\n      }, _j)\n    }),\n    splitButtonMenuButtonDisabled: {\n      pointerEvents: 'none',\n      border: 'none',\n      selectors: (_k = {\n        ':hover': {\n          cursor: 'default'\n        },\n        '.ms-Button--primary': {\n          selectors: (_l = {}, _l[HighContrastSelector] = {\n            color: 'GrayText',\n            borderColor: 'GrayText',\n            backgroundColor: 'Window'\n          }, _l)\n        },\n        '.ms-Button-menuIcon': {\n          selectors: (_m = {}, _m[HighContrastSelector] = {\n            color: 'GrayText'\n          }, _m)\n        }\n      }, _k[HighContrastSelector] = {\n        color: 'GrayText',\n        border: '1px solid GrayText',\n        backgroundColor: 'Window'\n      }, _k)\n    },\n    splitButtonFlexContainer: {\n      display: 'flex',\n      height: '100%',\n      flexWrap: 'nowrap',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    splitButtonContainerDisabled: {\n      outline: 'none',\n      border: 'none',\n      selectors: __assign((_o = {}, _o[HighContrastSelector] = {\n        color: 'GrayText',\n        borderColor: 'GrayText',\n        backgroundColor: 'Window'\n      }, _o), getEdgeChromiumNoHighContrastAdjustSelector())\n    }\n  };\n  return concatStyleSets(splitButtonStyles, customStyles);\n});","import { concatStyleSets, FontWeights } from '../../../Styling';\nimport { memoizeFunction } from '../../../Utilities';\nimport { getStyles as getBaseButtonStyles } from '../BaseButton.styles';\nimport { getStyles as getSplitButtonStyles } from '../SplitButton/SplitButton.styles';\nimport { primaryStyles, standardStyles } from '../ButtonThemes';\nvar DEFAULT_BUTTON_HEIGHT = '32px';\nvar DEFAULT_BUTTON_MIN_WIDTH = '80px';\nexport var getStyles = memoizeFunction(function (theme, customStyles, primary) {\n  var baseButtonStyles = getBaseButtonStyles(theme);\n  var splitButtonStyles = getSplitButtonStyles(theme);\n  var defaultButtonStyles = {\n    root: {\n      minWidth: DEFAULT_BUTTON_MIN_WIDTH,\n      height: DEFAULT_BUTTON_HEIGHT\n    },\n    label: {\n      fontWeight: FontWeights.semibold\n    }\n  };\n  return concatStyleSets(baseButtonStyles, defaultButtonStyles, primary ? primaryStyles(theme) : standardStyles(theme), splitButtonStyles, customStyles);\n});","import { __assign } from \"tslib\";\nimport { HighContrastSelector, getHighContrastNoAdjustStyle } from '../../Styling';\nimport { IsFocusVisibleClassName } from '../../Utilities';\n\nvar splitButtonDividerBaseStyles = function splitButtonDividerBaseStyles() {\n  return {\n    position: 'absolute',\n    width: 1,\n    right: 31,\n    top: 8,\n    bottom: 8\n  };\n};\n\nexport function standardStyles(theme) {\n  var _a, _b, _c, _d, _e;\n\n  var s = theme.semanticColors,\n      p = theme.palette;\n  var buttonBackground = s.buttonBackground;\n  var buttonBackgroundPressed = s.buttonBackgroundPressed;\n  var buttonBackgroundHovered = s.buttonBackgroundHovered;\n  var buttonBackgroundDisabled = s.buttonBackgroundDisabled;\n  var buttonText = s.buttonText;\n  var buttonTextHovered = s.buttonTextHovered;\n  var buttonTextDisabled = s.buttonTextDisabled;\n  var buttonTextChecked = s.buttonTextChecked;\n  var buttonTextCheckedHovered = s.buttonTextCheckedHovered;\n  return {\n    root: {\n      backgroundColor: buttonBackground,\n      color: buttonText\n    },\n    rootHovered: {\n      backgroundColor: buttonBackgroundHovered,\n      color: buttonTextHovered,\n      selectors: (_a = {}, _a[HighContrastSelector] = {\n        borderColor: 'Highlight',\n        color: 'Highlight'\n      }, _a)\n    },\n    rootPressed: {\n      backgroundColor: buttonBackgroundPressed,\n      color: buttonTextChecked\n    },\n    rootExpanded: {\n      backgroundColor: buttonBackgroundPressed,\n      color: buttonTextChecked\n    },\n    rootChecked: {\n      backgroundColor: buttonBackgroundPressed,\n      color: buttonTextChecked\n    },\n    rootCheckedHovered: {\n      backgroundColor: buttonBackgroundPressed,\n      color: buttonTextCheckedHovered\n    },\n    rootDisabled: {\n      color: buttonTextDisabled,\n      backgroundColor: buttonBackgroundDisabled,\n      selectors: (_b = {}, _b[HighContrastSelector] = {\n        color: 'GrayText',\n        borderColor: 'GrayText',\n        backgroundColor: 'Window'\n      }, _b)\n    },\n    // Split button styles\n    splitButtonContainer: {\n      selectors: (_c = {}, _c[HighContrastSelector] = {\n        border: 'none'\n      }, _c)\n    },\n    splitButtonMenuButton: {\n      color: p.white,\n      backgroundColor: 'transparent',\n      selectors: {\n        ':hover': {\n          backgroundColor: p.neutralLight,\n          selectors: (_d = {}, _d[HighContrastSelector] = {\n            color: 'Highlight'\n          }, _d)\n        }\n      }\n    },\n    splitButtonMenuButtonDisabled: {\n      backgroundColor: s.buttonBackgroundDisabled,\n      selectors: {\n        ':hover': {\n          backgroundColor: s.buttonBackgroundDisabled\n        }\n      }\n    },\n    splitButtonDivider: __assign(__assign({}, splitButtonDividerBaseStyles()), {\n      backgroundColor: p.neutralTertiaryAlt,\n      selectors: (_e = {}, _e[HighContrastSelector] = {\n        backgroundColor: 'WindowText'\n      }, _e)\n    }),\n    splitButtonDividerDisabled: {\n      backgroundColor: theme.palette.neutralTertiaryAlt\n    },\n    splitButtonMenuButtonChecked: {\n      backgroundColor: p.neutralQuaternaryAlt,\n      selectors: {\n        ':hover': {\n          backgroundColor: p.neutralQuaternaryAlt\n        }\n      }\n    },\n    splitButtonMenuButtonExpanded: {\n      backgroundColor: p.neutralQuaternaryAlt,\n      selectors: {\n        ':hover': {\n          backgroundColor: p.neutralQuaternaryAlt\n        }\n      }\n    },\n    splitButtonMenuIcon: {\n      color: s.buttonText\n    },\n    splitButtonMenuIconDisabled: {\n      color: s.buttonTextDisabled\n    }\n  };\n}\nexport function primaryStyles(theme) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n\n  var p = theme.palette,\n      s = theme.semanticColors;\n  return {\n    root: {\n      backgroundColor: s.primaryButtonBackground,\n      border: \"1px solid \" + s.primaryButtonBackground,\n      color: s.primaryButtonText,\n      selectors: (_a = {}, _a[HighContrastSelector] = __assign({\n        color: 'Window',\n        backgroundColor: 'WindowText',\n        borderColor: 'WindowText'\n      }, getHighContrastNoAdjustStyle()), _a[\".\" + IsFocusVisibleClassName + \" &:focus\"] = {\n        selectors: {\n          ':after': {\n            border: \"none\",\n            outlineColor: p.white\n          }\n        }\n      }, _a)\n    },\n    rootHovered: {\n      backgroundColor: s.primaryButtonBackgroundHovered,\n      border: \"1px solid \" + s.primaryButtonBackgroundHovered,\n      color: s.primaryButtonTextHovered,\n      selectors: (_b = {}, _b[HighContrastSelector] = {\n        color: 'Window',\n        backgroundColor: 'Highlight',\n        borderColor: 'Highlight'\n      }, _b)\n    },\n    rootPressed: {\n      backgroundColor: s.primaryButtonBackgroundPressed,\n      border: \"1px solid \" + s.primaryButtonBackgroundPressed,\n      color: s.primaryButtonTextPressed,\n      selectors: (_c = {}, _c[HighContrastSelector] = __assign({\n        color: 'Window',\n        backgroundColor: 'WindowText',\n        borderColor: 'WindowText'\n      }, getHighContrastNoAdjustStyle()), _c)\n    },\n    rootExpanded: {\n      backgroundColor: s.primaryButtonBackgroundPressed,\n      color: s.primaryButtonTextPressed\n    },\n    rootChecked: {\n      backgroundColor: s.primaryButtonBackgroundPressed,\n      color: s.primaryButtonTextPressed\n    },\n    rootCheckedHovered: {\n      backgroundColor: s.primaryButtonBackgroundPressed,\n      color: s.primaryButtonTextPressed\n    },\n    rootDisabled: {\n      color: s.primaryButtonTextDisabled,\n      backgroundColor: s.primaryButtonBackgroundDisabled,\n      selectors: (_d = {}, _d[HighContrastSelector] = {\n        color: 'GrayText',\n        borderColor: 'GrayText',\n        backgroundColor: 'Window'\n      }, _d)\n    },\n    // Split button styles\n    splitButtonContainer: {\n      selectors: (_e = {}, _e[HighContrastSelector] = {\n        border: 'none'\n      }, _e)\n    },\n    splitButtonDivider: __assign(__assign({}, splitButtonDividerBaseStyles()), {\n      backgroundColor: p.white,\n      selectors: (_f = {}, _f[HighContrastSelector] = {\n        backgroundColor: 'Window'\n      }, _f)\n    }),\n    splitButtonMenuButton: {\n      backgroundColor: s.primaryButtonBackground,\n      color: s.primaryButtonText,\n      selectors: (_g = {}, _g[HighContrastSelector] = {\n        backgroundColor: 'WindowText'\n      }, _g[':hover'] = {\n        backgroundColor: s.primaryButtonBackgroundHovered,\n        selectors: (_h = {}, _h[HighContrastSelector] = {\n          color: 'Highlight'\n        }, _h)\n      }, _g)\n    },\n    splitButtonMenuButtonDisabled: {\n      backgroundColor: s.primaryButtonBackgroundDisabled,\n      selectors: {\n        ':hover': {\n          backgroundColor: s.primaryButtonBackgroundDisabled\n        }\n      }\n    },\n    splitButtonMenuButtonChecked: {\n      backgroundColor: s.primaryButtonBackgroundPressed,\n      selectors: {\n        ':hover': {\n          backgroundColor: s.primaryButtonBackgroundPressed\n        }\n      }\n    },\n    splitButtonMenuButtonExpanded: {\n      backgroundColor: s.primaryButtonBackgroundPressed,\n      selectors: {\n        ':hover': {\n          backgroundColor: s.primaryButtonBackgroundPressed\n        }\n      }\n    },\n    splitButtonMenuIcon: {\n      color: s.primaryButtonText\n    },\n    splitButtonMenuIconDisabled: {\n      color: p.neutralTertiary,\n      selectors: (_j = {}, _j[HighContrastSelector] = {\n        color: 'GrayText'\n      }, _j)\n    }\n  };\n}","import { __assign, __decorate, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { BaseButton } from '../BaseButton';\nimport { customizable, nullRender } from '../../../Utilities';\nimport { getStyles } from './DefaultButton.styles';\n/**\n * {@docCategory Button}\n */\n\nvar DefaultButton =\n/** @class */\nfunction (_super) {\n  __extends(DefaultButton, _super);\n\n  function DefaultButton() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DefaultButton.prototype.render = function () {\n    var _a = this.props,\n        _b = _a.primary,\n        primary = _b === void 0 ? false : _b,\n        styles = _a.styles,\n        theme = _a.theme;\n    return React.createElement(BaseButton, __assign({}, this.props, {\n      variantClassName: primary ? 'ms-Button--primary' : 'ms-Button--default',\n      styles: getStyles(theme, styles, primary),\n      onRenderDescription: nullRender\n    }));\n  };\n\n  DefaultButton = __decorate([customizable('DefaultButton', ['theme', 'styles'], true)], DefaultButton);\n  return DefaultButton;\n}(React.Component);\n\nexport { DefaultButton };","import { __assign, __decorate, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { customizable, nullRender } from '../../../Utilities';\nimport { DefaultButton } from '../DefaultButton/DefaultButton';\n/**\n * {@docCategory Button}\n */\n\nvar PrimaryButton =\n/** @class */\nfunction (_super) {\n  __extends(PrimaryButton, _super);\n\n  function PrimaryButton() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  PrimaryButton.prototype.render = function () {\n    return React.createElement(DefaultButton, __assign({}, this.props, {\n      primary: true,\n      onRenderDescription: nullRender\n    }));\n  };\n\n  PrimaryButton = __decorate([customizable('PrimaryButton', ['theme', 'styles'], true)], PrimaryButton);\n  return PrimaryButton;\n}(React.Component);\n\nexport { PrimaryButton };","import * as React from \"react\"\r\nimport { PrimaryButton } from '@fluentui/react'\r\nimport Page from '../components/page'\r\n\r\n// styles\r\nconst pageStyles = {\r\n  color: \"#232129\",\r\n  padding: \"96px\",\r\n  fontFamily: \"-apple-system, Roboto, sans-serif, serif\",\r\n}\r\nconst headingStyles = {\r\n  marginTop: 0,\r\n  marginBottom: 64,\r\n  maxWidth: 320,\r\n}\r\nconst headingAccentStyles = {\r\n  color: \"#663399\",\r\n}\r\nconst paragraphStyles = {\r\n  marginBottom: 48,\r\n}\r\nconst codeStyles = {\r\n  color: \"#8A6534\",\r\n  padding: 4,\r\n  backgroundColor: \"#FFF4DB\",\r\n  fontSize: \"1.25rem\",\r\n  borderRadius: 4,\r\n}\r\nconst listStyles = {\r\n  marginBottom: 96,\r\n  paddingLeft: 0,\r\n}\r\nconst listItemStyles = {\r\n  fontWeight: \"300\",\r\n  fontSize: \"24px\",\r\n  maxWidth: \"560px\",\r\n}\r\n\r\nconst linkStyle = {\r\n  color: \"#8954A8\",\r\n  fontWeight: \"bold\",\r\n  fontSize: \"16px\",\r\n  verticalAlign: \"5%\",\r\n}\r\n\r\nconst docLinkStyle = {\r\n  ...linkStyle,\r\n  listStyleType: \"none\",\r\n  marginBottom: 24,\r\n}\r\n\r\nconst descriptionStyle = {\r\n  color: \"#232129\",\r\n  fontSize: \"14px\",\r\n}\r\n\r\nconst docLink = {\r\n  text: \"Documentation\",\r\n  url: \"https://www.gatsbyjs.com/docs/\",\r\n  color: \"#8954A8\",\r\n}\r\n// data\r\nconst links = [\r\n  {\r\n    text: \"Tutorial\",\r\n    url: \"https://www.gatsbyjs.com/docs/tutorial/\",\r\n    description:\r\n      \"A great place to get started if you're new to web development. Designed to guide you through setting up your first Gatsby site.\",\r\n    color: \"#E95800\",\r\n  },\r\n  {\r\n    text: \"How to Guides\",\r\n    url: \"https://www.gatsbyjs.com/docs/how-to/\",\r\n    description:\r\n      \"Practical step-by-step guides to help you achieve a specific goal. Most useful when you're trying to get something done.\",\r\n    color: \"#1099A8\",\r\n  },\r\n  {\r\n    text: \"Reference Guides\",\r\n    url: \"https://www.gatsbyjs.com/docs/reference/\",\r\n    description:\r\n      \"Nitty-gritty technical descriptions of how Gatsby works. Most useful when you need detailed information about Gatsby's APIs.\",\r\n    color: \"#BC027F\",\r\n  },\r\n  {\r\n    text: \"Conceptual Guides\",\r\n    url: \"https://www.gatsbyjs.com/docs/conceptual/\",\r\n    description:\r\n      \"Big-picture explanations of higher-level Gatsby concepts. Most useful for building understanding of a particular topic.\",\r\n    color: \"#0D96F2\",\r\n  },\r\n  {\r\n    text: \"Plugin Library\",\r\n    url: \"https://www.gatsbyjs.com/plugins\",\r\n    description:\r\n      \"Add functionality and customize your Gatsby site or app with thousands of plugins built by our amazing developer community.\",\r\n    color: \"#000000\",\r\n  },\r\n]\r\n\r\n// markup\r\nconst IndexPage = () => {\r\n  return (\r\n    <Page>\r\n      <main style={pageStyles}>\r\n        <title>Home Page</title>\r\n        <h1 style={headingStyles}>\r\n          Congratulations\r\n          <br />\r\n          <span style={headingAccentStyles}>— you just made a Gatsby site! </span>\r\n          <span role=\"img\" aria-label=\"Party popper emojis\">\r\n            🎉🎉🎉\r\n          </span>\r\n        </h1>\r\n        <p style={paragraphStyles}>\r\n          Edit <code style={codeStyles}>src/pages/index.js</code> to see this page\r\n          update in real-time.{\" \"}\r\n          <span role=\"img\" aria-label=\"Sunglasses smiley emoji\">\r\n            😎\r\n          </span>\r\n        </p>\r\n        <ul style={listStyles}>\r\n          <li style={docLinkStyle}>\r\n            <a\r\n              style={linkStyle}\r\n              href={`${docLink.url}?utm_source=starter&utm_medium=start-page&utm_campaign=minimal-starter`}\r\n            >\r\n              {docLink.text}\r\n            </a>\r\n          </li>\r\n          {links.map(link => (\r\n            <li style={{ ...listItemStyles, color: link.color }}>\r\n              <span>\r\n                <a\r\n                  style={linkStyle}\r\n                  href={`${link.url}?utm_source=starter&utm_medium=start-page&utm_campaign=minimal-starter`}\r\n                >\r\n                  {link.text}\r\n                </a>\r\n                <p style={descriptionStyle}>{link.description}</p>\r\n              </span>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <img\r\n          alt=\"Gatsby G Logo\"\r\n          src=\"data:image/svg+xml,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 2a10 10 0 110 20 10 10 0 010-20zm0 2c-3.73 0-6.86 2.55-7.75 6L14 19.75c3.45-.89 6-4.02 6-7.75h-5.25v1.5h3.45a6.37 6.37 0 01-3.89 4.44L6.06 9.69C7 7.31 9.3 5.63 12 5.63c2.13 0 4 1.04 5.18 2.65l1.23-1.06A7.959 7.959 0 0012 4zm-8 8a8 8 0 008 8c.04 0 .09 0-8-8z' fill='%23639'/%3E%3C/svg%3E\"\r\n        />\r\n        <PrimaryButton>Hello My Baby</PrimaryButton>\r\n      </main>\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport default IndexPage\r\n"],"sourceRoot":""}